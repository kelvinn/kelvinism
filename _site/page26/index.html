<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grid Layout</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link crossorigin='anonymous' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css' integrity='sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=' rel='stylesheet'/>

</head>
<body>
    <div id='redbar'></div>
    <div id='greenbar'></div>
    <div class="container">
        <header class="header">
            <a href='/'><span id='logo'></span></a>
            <ul>
                <li><a href='https://blog.kelvinism.com'>Blog</a></li>
                <li><a href='https://www.kelvinism.com/search/label/articles/'>Articles</a></li>
                <li><a href='https://www.kelvinism.com/search/label/projects/'>Projects</a></li>
                <li><a href='https://www.kelvinism.com/search/label/howtos/'>Tutorials</a></li>
                <li><a href='https://www.kelvinism.com/about-me/'>Who</a></li>
            </ul>


        </header>
        <main class="main">
            <div class="home">


  <ul class="post-list"><li>
        
        <h3>
          <a class="post-link" href="/2007/06/07/turn-off-google-suggest-in-firefox_857.html">
            Turn Off Google Suggest in Firefox
          </a>
        </h3>
        <span class="post-meta">Published on Jun 7, 2007</span>
        <p>I generally like Firefox, and generally like Google.  But having Google suggest enabled when I search for things is annoying, at least on my rather small laptop screen.  Mostly it is because my internet right now is pretty crap, so I try to cut down on any extra traffic.  Anyhow, I didn't even both Googling how to do this:</p><p>Type in 'about:config' into your address bar and type 'search' in the top filter bar.  Look about half-way down for this:</p><pre class="brush: plain; light: true; ">browser.search.suggest.enabled
</pre><br />
<br />
<p>Double click it to turn it to false.  All done.</p></li><li>
        
        <h3>
          <a class="post-link" href="/2007/06/07/tunneling-over-ssh_6040.html">
            Tunneling over SSH
          </a>
        </h3>
        <span class="post-meta">Published on Jun 7, 2007</span>
        As a rule, whenever I'm online I'm logged into my server back in the States.  I'm also usually wireless, which we all know is beyond insecure -- I've found it <i>especially</i> useful to tunnel firefox over SSH.  I try my best to tunnel stuff over SSH back, and if you want to also, this is how.<br />
<h4>
Setup the SSH/SOCKS tunnel</h4>
I'm on Linux, so this is pretty darn easy.<br />
<pre class="brush: plain; light: true; ">ssh user@domain.com -D 1080
</pre>
<br />
If the SSH daemon runs on a different port, you'd do something like this:<br />
<pre class="brush: plain; light: true; ">ssh -oPort=1234 user@damon.com -D 1080
</pre>
<br />
Remember ports below 1024 are reserved, and you would need root access.  Now it is time to configure the different programs to use the newly created tunnel.<br />
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/QH-jPk3gHgigKtmQcrhoig?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="312" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh5MWWeIZYH4RZuL3binMtkPHLDyvU5HRdNdJCtBdH5IYYrdEqk95ROxmFMKWJTjFxY267VFVw-_eohgpwD4K-RVRM4X9m80Mv1Gv6HxJJAO7T57eV7y_hZF_9RWEWKnDUp0d5pcr52Nq9S/s400/gnome-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Setting up Gnome (optional)</h4>
</td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/USO3dEudCNgJGvNOh8IAQA?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRsef8lcC6qNZh2vdPbGZ1t8cL91ibwCeuHwy1hwZMlqQpNDKw7MRh7zBMmxvRfsFcL6iYe7xKv_Mdnqsn_394B_buuZlRoApNOT7z9vgwOChr6x2yByWue3Awgo-NHtPmI7aecOXTlg4F/s400/msn-settings.jpg" width="337" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Tunneling Pidgen</h4>
</td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/HX-kbMnfI3fwpbUyRf17FA?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="317" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi7xGVXjZDHSQlReX7mAad4ko6zk7Lf7JWyIe6TYj2yrIAk7L8jCpo0mypVrNP0DqU4OTPEPX2TuEbOo8ySZgdzkexVU7V_hnBguhfg_ACbXfjTM_KNvtdj-gLDmiqMzIoCpKEvYWXhifSN/s400/xchat-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Tunneling XChat</h4>
</td></tr>
</tbody></table>
<b>Tunneling Firefox</b><br />
<i>Note</i>: I'm going to list two examples, one is with FoxyProxy and the other is with the ordinary proxy settings.<br />
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/iKYUjPKEnU6WWq5ytUlftg?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="328" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjGCLf_YOke30XnQgqrLAW_6aRGAm1INIHSEzcA7NZitNF4CMpOADpfBRmnhZ3UcLGhGNUiFj6BnJc66DDA8CnhE1GaSrh-mTFzFXXS7OsiviFdYNKH4o-yTnZIjl8hW4NMR4biKUvC0ws8/s400/foxyproxy-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
FoxyProxy</h4>
</td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/gCoCFhGSNBf2T0vGhHoSrA?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="338" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi3N60K_2L5EX61zgiQG42vWxG-0oiEU0gNQE_M5JYd9ulZBx9p-NW4jBmk6sRYPG4U4VQIOelYAktI3WPT1UGztDyAJ1jSEVAaHn1HBfzG-L-Mw-WyAIA53StGCrV8SoIAiYnk_VyiwNpJ/s400/firefox-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Normal Proxy</h4>
</td></tr>
</tbody></table>
<i>Make sure the other fields or empty, or you won't connect.</i><br />
<br />
So, there you have it.  There are quite a few unix shell providers out there, I'm sure it wouldn't be too hard to spot a link for one.  I've seen <a href="http://www.quadspeedi.net/?page=services">QuadSpeedInternet</a> having SSH access for $3/month, and <a href="http://www.jvds.com/freeshells/">JVDS</a> or <a href="http://sdf.lonestar.org/">Lonestar</a> offering possible free shells.  Alternatively, you could just get a <i>really</i> inexpensive VPS at <a href="http://www.vpslink.com/vps-hosting/">VPSLink</a> ($6-$8/month, but they often have 25% off discounts).</li><li>
        
        <h3>
          <a class="post-link" href="/2007/06/06/alexa-site-thumbnail-with-python_803.html">
            Alexa Site Thumbnail with Python
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2007</span>
        For one of my sites I needed to get thumbnails, yet <a href="http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=51">Alexa Site Thumbnail</a> didn't have any code snippets for Python.  Well, no they/you do.<br />
<h4>
ThumbnailUtility.py</h4>
<br />
<pre class="brush: python; light: true "></li><li>
        
        <h3>
          <a class="post-link" href="/2007/06/06/alexa-site-thumbnail-with-python-ii_629.html">
            Alexa Site Thumbnail with Python II
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2007</span>
        This is how I actually use Alexa Site Thumbnail, and since I'min a sharing mood, I'll extend the code your way.  In short, this takes the url and searches in STORELOC first, then any urls not already in STORELOC are retrieved and named via a slug.  You need to pass two variables to either of these: blog_site.url and blot_site.slug -- since I'm using Django, this is naturally how sites are returned after I filter a queryset.  What I do is place the call to Alexa as high up the page as I can, and because I've threaded this, the page can continue to load without waiting for Alexa's response. For instance, let's say you have some model with cool sites, and you want to return the sites filtered by owner...<br />
<h4>
views.py</h4>
<br />
<pre class="brush: python; light: true ">
from getAST import create_thumbnail_list
blog_sites = CoolSiteListing.objects.filter(owner__username__iexact=user_name, is_active=True)
create_thumbnail_list(blog_sites).start()
</pre>
<br />
<br />
Notice the .start() on the create_thumbnail_list function? That starts the thread.<br />
<h4>
getAST.py</h4>
<br />
<br />
<pre class="brush: python; light: true ">
import base64
import datetime
import hmac
import sha
import sys
import re
import urllib
import xml.dom.minidom
import os
import threading</li><li>
        
        <h3>
          <a class="post-link" href="/2007/06/06/alexa-site-thumbnail-and-django_7479.html">
            Alexa Site Thumbnail And Django
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2007</span>
        <p>So, you've seen how to look up thumbnails <a href="/howtos/alexa-site-thumbnail-python/">via python</a>, but wonder how to integrate this with Django?  I created a <a href="/webthumbs/">sample app to demonstrate</a>.  One thing to note about this app is it is slightly more complex than just using the <a href="/howtos/alexa-site-thumbnail-python/">previously mentioned</a> ThumbnailUtility.  For starters, the thumbnail is downloaded from Alexa onto the server.  Another part is first searching if the thumbnail exists already, and if it does, serving that instead of querying Alexa.  Let's just start with some code.</p><h4>getAST.py</h4><br /><br /><pre class="brush: python; light: true "><br /><br />#!/usr/bin/python<br />import base64<br />import datetime<br />import hmac<br />import sha<br />import sys<br />import re<br />import urllib<br />import xml.dom.minidom<br />import os<br />from urlparse import urlsplit<br /><br />AWS_ACCESS_KEY_ID = 'your-access-key-id'<br />AWS_SECRET_ACCESS_KEY = 'your-secret-key'<br />STORELOC = "/path/to/store/webthumbs/"<br /><br />def create_thumbnail(site_url):<br />    image_name = re.sub("\.|\/", "_", '.'.join(urlsplit(site_url)[1].rsplit('.', 2)[-2:])) + ".jpg"<br />    if not os.path.isfile(STORELOC+image_name):<br />        def generate_timestamp(dtime):<br />            return dtime.strftime("%Y-%m-%dT%H:%M:%SZ")<br />        def generate_signature(operation, timestamp, secret_access_key):<br />            my_sha_hmac = hmac.new(secret_access_key, operation + timestamp, sha)<br />            my_b64_hmac_digest = base64.encodestring(my_sha_hmac.digest()).strip()<br />            return my_b64_hmac_digest<br />        timestamp_datetime = datetime.datetime.utcnow()<br />        timestamp_list = list(timestamp_datetime.timetuple())<br />        timestamp_list[6] = 0<br />        timestamp_tuple = tuple(timestamp_list)<br />        timestamp = generate_timestamp(timestamp_datetime)<br />        signature = generate_signature('Thumbnail', timestamp, AWS_SECRET_ACCESS_KEY)<br />        parameters = {<br />            'AWSAccessKeyId': AWS_ACCESS_KEY_ID,<br />            'Timestamp': timestamp,<br />            'Signature': signature,<br />            'Url': site_url,<br />            'Action': 'Thumbnail',<br />            }<br />        url = 'http://ast.amazonaws.com/?'<br />        result_xmlstr = urllib.urlopen(url, urllib.urlencode(parameters)).read()<br />        result_xml = xml.dom.minidom.parseString(result_xmlstr)<br />        image_urls = result_xml.childNodes[0].getElementsByTagName('aws:Thumbnail')[0].firstChild.data<br />        store_name = STORELOC + image_name<br />        urllib.urlretrieve(image_urls, store_name)<br />    return image_name<br />    <br /><br />    <br /></pre><br /><br /><p>Not too much to mention here, basically just an extended version of the ThumbnailUtility.  The only difference is the test at the beginning, and actually downloading the thumbnail.</p><h4>views.py</h4><br /><pre class="brush: python; light: true "><br /># Create your views here.<br />from django.shortcuts import render_to_response, get_object_or_404<br />from django.http import HttpResponseRedirect, HttpResponse<br />from webthumbs.models import *<br />from django import newforms as forms<br />from getAST import create_thumbnail<br /><br />attrs_dict = { 'class': 'form-highlight' }<br /><br />class imageForm(forms.Form):<br />    url = forms.URLField(max_length=100, verify_exists=True, widget=forms.TextInput(attrs=attrs_dict), initial='http://', label='Site URL')<br />    <br />def index(request):<br />    disp_img = ''<br />    # generate default form<br />    f = imageForm()<br />    # handle add events<br />    if request.method == 'POST':<br />        if request.POST['submit_action'] == 'Submit':<br />            # attempt to do add<br />            add_f = imageForm(request.POST)<br />            if add_f.is_valid():<br />                site_url = request.POST['url']<br />                disp_img = create_thumbnail(site_url)<br />        else:<br />            f = add_f<br />    return render_to_response(<br />        'webthumbs/index.html', <br />        {'printform': f, <br />        'disp_img': disp_img<br />        }<br />    )<br /><br /><br /></pre><br /><br /><p>The key thing to look at here is how getAST is called:</p><pre class="brush: python; light: true "><br /><br />site_url = request.POST['url']<br />disp_img = create_thumbnail(site_url)<br /><br /><br /></pre><br /><h4>index.html</h4><br /><pre class="brush: xml; light: true; "><br />{% extends "base.html" %}<br /><br />{% block title %}Kelvinism.com - Blog{% endblock %}<br /><br />{% block content %}<br /><div class="contentpaneopen"><br /><span class="contentheading">What thumbnail do you want?</span><br /><br /><form action="/webthumbs/" method="post"><br />    {{ printform }}<br /><input type=submit name='submit_action' value='Submit'><br /></form><br /><br /><img src="http://media.kelvinism.com/webthumbs/{{ disp_img }}"/><br /></div><br /><br /><br />{% endblock %}<br /><br /></pre><br /><p>So, there you have it, the code to take a url via form and display it right away.</p></li></ul>

    
      <div class="pager">
        <ul class="pagination">
          <li><a href="/page25" class="previous-page">25</a></li>
          <li><div class="current-page">26</div></li>
          <li><a href="/page27" class="next-page">27</a></li>
        </ul>
      </div></div> 
        </main>
        <aside class="sidebar">
            <h4 class='title'>Contact Me</h4>
            <div class='widget-content'>
            <a href="http://au.linkedin.com/in/kelvinism"><i class="fab fa-linkedin fa-3x"></i></a> <a href="http://twitter.com/zephell"><i class="fab fa-twitter-square fa-3x"></i></a> <a href="https://github.com/kelvinn"><i class="fab fa-github-square fa-3x"></i></a> <a href="https://www.goodreads.com/zephell"><i class="fab fa-goodreads fa-3x"></i></a> <a href="
            https://www.strava.com/athletes/nicholson_kelvin"><i class="fab fa-strava fa-3x"></i></a>
            </div>


        </aside>
        <footer class="footer">
            <div id='copyright'>
                <a href='http://creativecommons.org/licenses/by-nc/2.5/' rel='license'>Some Rights Reserved</a>.<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"> <Work rdf:about=""> <license rdf:resource="http://creativecommons.org/licenses/by-nc/2.5/" /> </Work> <License rdf:about="http://creativecommons.org/licenses/by-nc/2.5/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><prohibits rdf:resource="http://web.resource.org/cc/CommercialUse"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/></License></rdf:RDF> -->
                    Opinions on this site do not represent my employer.<br/>
            </div>
    
        </footer>
    </div>

</body>
</html>


