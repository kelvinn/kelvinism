<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelvin Nicholson's Website</title>
    <link rel="stylesheet" href="/kelvinism/assets/css/styles.css">
    <link crossorigin='anonymous' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css' integrity='sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=' rel='stylesheet'/>

</head>
<body>
    <div id='redbar'></div>
    <div id='greenbar'></div>
    <div class="container">
        <header class="header">
            <a href='/'><span id='logo'></span></a>
            <ul>
                <li><a href='https://blog.kelvinism.com'>Blog</a></li>
                <li><a href='https://www.kelvinism.com/search/label/articles/'>Articles</a></li>
                <li><a href='https://www.kelvinism.com/search/label/projects/'>Projects</a></li>
                <li><a href='https://www.kelvinism.com/search/label/howtos/'>Tutorials</a></li>
                <li><a href='https://www.kelvinism.com/about-me/'>Who</a></li>
            </ul>


        </header>
        <main class="main">
            <div class="home"><h1 class="page-heading">Tag: articles - page 6</h1>


  <ul class="post-list"><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2025/01/31/state-of-health-2024.html">
            State of Health: 2024
          </a>
        </h3>
        <span class="post-meta">Published on Jan 31, 2025</span>
        <h3 style="text-align: left;">Background</h3>A few years ago, probably in late 2022, I was doing some self-reflection and was pondering what the next constraint was for improving my health. Depending on whom you ask, there are generally several areas of focus when it comes to health:<div><ol style="text-align: left;"><li>Exercise</li><li>Nutrition</li><li>Metabolic health</li><li>Sleep</li><li>Testing or screenings</li><li>Supplementation or pharmacological interventions</li></ol><div>The conclusion I reached after seeing/eating more of my partner's diet is that nutrition was the next area for me to focus on. My approach has typically been to deep dive on reading books, and since then I've read the following books related to nutrition and longevity:</div></div><div><ol style="text-align: left;"><li>Longevity Diet</li><li>Outlive</li><li>How Not To Age</li><li>Eat, Drink, and Be Healthy</li><li>The Art of Lifting</li><li>The Science of Lifting</li><li>And I'm currently reading the Longevity Leap.</li></ol></div><div>In addition to books I also found a few channels on YouTube that I generally thought were evidence based and produced well, with <a href="https://www.youtube.com/@Viva-Longevity" target="_blank">Plant Chompers / Viva Longevity!</a> and <a href="https://www.youtube.com/@Physionic">Physionic</a>&nbsp;being some of my favourite.</div><div><br /></div><div>Fast forward to this morning, when I was outside eating breakfast (sunshine exposure!) and I thought it might be worthwhile to do a yearly reflection of each year. Perhaps this is just me being influenced by reading <a href="https://www.amazon.com.au/More-Gold-Stars-Regenerating-Ourselves/dp/0989301389">No More Gold Stars</a>!</div><div><br /></div><div>Without further delay, let's get going on my inaugural State of Health series!</div><h3 style="text-align: left;">Exercise</h3><div>My main form of cardio is running, so let's start there. You can clearly see when I went on holiday (December), as it was really challenging to be able to find time / fresh air to run.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjBuWLwxHeDom5D46JypAhzFb5_cLVmGMsHnsUy7pKp7aLMxNvMereKRwqtTRl9VRNWNlXg7OfDoYaSBHdjS0uNsMmlt-cuhia4xblvwPnwD9w_Gr_eO32mIrR0ePXp4Hl0NSgWOwCl6hhPRiA7oS8ny-EHpZ35wvglDrL0OXQD4mNyd54xNJWVxvDDAzAB/s1798/Screenshot%202025-01-31%20at%208.10.15%E2%80%AFam.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1024" data-original-width="1798" height="365" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjBuWLwxHeDom5D46JypAhzFb5_cLVmGMsHnsUy7pKp7aLMxNvMereKRwqtTRl9VRNWNlXg7OfDoYaSBHdjS0uNsMmlt-cuhia4xblvwPnwD9w_Gr_eO32mIrR0ePXp4Hl0NSgWOwCl6hhPRiA7oS8ny-EHpZ35wvglDrL0OXQD4mNyd54xNJWVxvDDAzAB/w640-h365/Screenshot%202025-01-31%20at%208.10.15%E2%80%AFam.png" width="640" /></a></div><br /><div><br /></div><div><div class="separator" style="clear: both; text-align: center;"><br /></div>My total distance for 2024 was 2759km over 417 hours, which is about 8 hours of cardio on average per week. This seems to be under the threshold limit of the "cardio<a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC7431070/"> j-curve of CVD</a>" that I read about a number of years ago.</div><div><br /></div><div>I did less hiking in 2024 than in 2023, which I hope to rectify in 2025.</div><div><br /></div><div>In addition to cardio I've been trying to increase the amount of time I spend resistance training, so that became more of a focus after both my first DEXA scan as well as reading the Science of Lifting.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhicmKAEovuwBe6ZfHkQV3H2hSqavikRpcNfzyStTCeyiwTXQ384nXiNNcdyZA1ShhoHj-NasqR7IL86dK2O1v2ixPSiC8SIR537tpIwbqgRjOiGWFeU7fv72CSTe3WXx20ube_sc3Khdv6nQsqo3G0iZMqeLN3lv93V4fVM6PQZGj4epYZhiU2ZXVk_vC8/s1790/Screenshot%202025-01-31%20at%208.24.37%E2%80%AFam.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1136" data-original-width="1790" height="406" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhicmKAEovuwBe6ZfHkQV3H2hSqavikRpcNfzyStTCeyiwTXQ384nXiNNcdyZA1ShhoHj-NasqR7IL86dK2O1v2ixPSiC8SIR537tpIwbqgRjOiGWFeU7fv72CSTe3WXx20ube_sc3Khdv6nQsqo3G0iZMqeLN3lv93V4fVM6PQZGj4epYZhiU2ZXVk_vC8/w640-h406/Screenshot%202025-01-31%20at%208.24.37%E2%80%AFam.png" width="640" /></a></div><br /><div>I think I will continue with adopting an approach of progressive overload and focussing on total volume, with a mixture of intensities focussing on both hypertrophy and strength.</div><h3 style="text-align: left;">Nutrition</h3><div>My diet continues to be whole foods plant based, but with exceptions when travelling; if needed I'll have some chicken, fish, or eggs.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiYjT6E1OgC81Y1pFusEVo0kAz9Eepur2Kx-140q5l6FHIPEM0Uotr8ydyGcGbCJpBcTbSL5eD_XTAlWTtDdOdJaBNjIIBQPbgJJJmRBD_NkWancfokKTACJ8ViGzbS3OsKd3nb7fsthdHpW2wTv7Z_LL2kGctp1zKbSrKhbyWjoiSVXA-ry_8VvYFTdXSJ/s1280/76A29232-46FB-4D43-86A6-04A8E5787845.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1280" data-original-width="720" height="640" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiYjT6E1OgC81Y1pFusEVo0kAz9Eepur2Kx-140q5l6FHIPEM0Uotr8ydyGcGbCJpBcTbSL5eD_XTAlWTtDdOdJaBNjIIBQPbgJJJmRBD_NkWancfokKTACJ8ViGzbS3OsKd3nb7fsthdHpW2wTv7Z_LL2kGctp1zKbSrKhbyWjoiSVXA-ry_8VvYFTdXSJ/w360-h640/76A29232-46FB-4D43-86A6-04A8E5787845.jpeg" width="360" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Spinach, Raisins, and Tofu</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgvlyUdXtOhgezbmKMqsly1N9MMFLMUy6NGB2UeIVejqnTDazm1GUW_-5_D62YBMWl7C83gLdyOC5CLDnORiGUn3QG1NHd9GdpHmpC3FiN4Gqe-4qv_E3_-7BO6PWs41M7b0IXwMiplx0TZ4rhgifI0YGenZfecUcODd4SnkZgGvRYe-sVPGNr4qb8HgL9b/s1280/8BA6F666-FB59-48E9-A630-99C356E42454.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1280" data-original-width="720" height="640" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgvlyUdXtOhgezbmKMqsly1N9MMFLMUy6NGB2UeIVejqnTDazm1GUW_-5_D62YBMWl7C83gLdyOC5CLDnORiGUn3QG1NHd9GdpHmpC3FiN4Gqe-4qv_E3_-7BO6PWs41M7b0IXwMiplx0TZ4rhgifI0YGenZfecUcODd4SnkZgGvRYe-sVPGNr4qb8HgL9b/w360-h640/8BA6F666-FB59-48E9-A630-99C356E42454.jpeg" width="360" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Super Veggie</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjOJjErj0ovTsl2voxEwDx_Ucmsc0K5N-oR-fbutYngtWt7LK82Y3ViHnmno7BPJzth1wILWZYvE6UqbpVfPQZJeQvKOtTANldyPm_dGmE2HUmQ0mUgG-pqc6sefPaj8CfwoORLkYVWIQSRMblxSmOfC3ToKaSQpTho-iiU53OGWxOGdpotYvDA0CxaE-iL/s1280/IMG_2799.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1280" data-original-width="960" height="640" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjOJjErj0ovTsl2voxEwDx_Ucmsc0K5N-oR-fbutYngtWt7LK82Y3ViHnmno7BPJzth1wILWZYvE6UqbpVfPQZJeQvKOtTANldyPm_dGmE2HUmQ0mUgG-pqc6sefPaj8CfwoORLkYVWIQSRMblxSmOfC3ToKaSQpTho-iiU53OGWxOGdpotYvDA0CxaE-iL/w480-h640/IMG_2799.jpeg" width="480" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Fishbowl (when I need to eat out)</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhB6DRLIrGLBLmNvDR_sGCWH1wR-YtFIPKtB2vp3f1z07J_yf3t8gsSVlKbND96vU80dF4QR3DRJBHODdEKoLK4TwgLV3XyykEcyNYhvuxym4zy9kbvYcQxdSNoSyjEURiiwIHL-rTKS9MkoXsjl4JDpnQrlaMsKaU8atDFbZQBaqynmoZqYcTqQCpnHt_d/s1280/D780B530-FE23-4591-825A-74B4A58CF7D3.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1280" data-original-width="720" height="640" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhB6DRLIrGLBLmNvDR_sGCWH1wR-YtFIPKtB2vp3f1z07J_yf3t8gsSVlKbND96vU80dF4QR3DRJBHODdEKoLK4TwgLV3XyykEcyNYhvuxym4zy9kbvYcQxdSNoSyjEURiiwIHL-rTKS9MkoXsjl4JDpnQrlaMsKaU8atDFbZQBaqynmoZqYcTqQCpnHt_d/w360-h640/D780B530-FE23-4591-825A-74B4A58CF7D3.jpeg" width="360" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Nutty Pudding</td></tr></tbody></table><br /><div>How do we track how well nutrition is working? For now, let's just look at my weight.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj63SEMgerqdTVGPWZYNvMAvRxoLBaMo4iRU1K1rCdj4l99eRf60u_Ze04vukY6333TBUtR8qwdWaNngS1vDLWwb_sClG-TNek1WFkriKaRpsc90QDJAUkwTpDq4H3WvEzJ0QbKfFrlkidXcRKYF7qBK3qoQMe1wy4CM3qUPp-WYAV9jh553BuclfKhoJmg/s2280/Screenshot%202025-01-31%20at%208.49.30%E2%80%AFpm.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1078" data-original-width="2280" height="302" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj63SEMgerqdTVGPWZYNvMAvRxoLBaMo4iRU1K1rCdj4l99eRf60u_Ze04vukY6333TBUtR8qwdWaNngS1vDLWwb_sClG-TNek1WFkriKaRpsc90QDJAUkwTpDq4H3WvEzJ0QbKfFrlkidXcRKYF7qBK3qoQMe1wy4CM3qUPp-WYAV9jh553BuclfKhoJmg/w640-h302/Screenshot%202025-01-31%20at%208.49.30%E2%80%AFpm.png" width="640" /></a></div><br /><div>I was previously using a Withings scale, and apparently it didn't sync correctly, but the new Garmin one does. From what I can tell my weight has been fairly consistent for the H2 of the year, but with a drop in December due to travel. My typical meal looks like this:</div><div><br /></div><div>Breakfast (about 6am): thins with ABC nut butter and banana and cinnamon</div><div>Snack (about 8am): Nutty Pudding, but with mustard seeds and turmeric.</div><div>Lunch: Super Veggie, w/Kimchee</div><div>Dinner: Something from <a href="https://nutritionfacts.org/book/how-not-to-die-cookbook/" target="_blank">The How Not To Die Cookbook</a></div><div><br /></div><div>The DEXA scan I did in the beginning of 2024 had me at <b>18.5%</b>&nbsp;body fat, so it will be interesting to see what I'm at in my next scan.&nbsp;</div><h3 style="text-align: left;">Sleep</h3><div>Sleep became much more of a focus in 2024 after reading <a href="https://www.amazon.com.au/Why-We-Sleep-Science-Dreams/dp/0141983760?crid=3GFYDA14PZV7N&amp;dib=eyJ2IjoiMSJ9.HqZgX72gI9PBGMtU0GUwo2axDi0vyYeL6Yd7dhsk4E2pPhgyHrRI31dO90lEk4F95_tc96Tkk79xc-IwOtptJXOU7QiqzGM2lhmaEuX3lkl-dXe3_NDe_FZhx2oH-HSKvEzbR5K3DSj1uXyYdq7THueUsEssq8hmWSdOrOVs0o-AazMhKBfStt6fqO1U7rYTijEKxnpK_B-ak9M6kYco0nvbCSAG9rboEB_HOLuSRG0JUdQ19UgOBf80mGBTm5SLgnEXsOP-PjTlWsPKatSygcha9Nz0MS7hxpjsfjqdBi3uEZIayaX5wyWSbVqGHlPw2lWZkIEkxp-I2lrpv1VVmkW0qGNUZsC2XikSYdaRzAbWEhRBH37vVur12MwGTkKSue-h0GgWJF1g45onQcHitnGzwyythj4YJCUueYvanZBZOY4QblR5epnbxkaPZwuC.1guDuFcWGuR3dOAPpkdkJihh6IdvmDFsKLz2GRZlOvs&amp;dib_tag=se&amp;keywords=why+we+sleep&amp;qid=1738274327&amp;sprefix=why+we+sleep%2Caps%2C351&amp;sr=8-1" target="_blank">Why We Sleep</a> in Sep 2023.</div><div><br /></div><div>However, my sleep in in 2024 was less consistent than in 2023, unfortunately. My average "<a href="https://www.garmin.com/en-US/blog/health/garmin-sleep-score-and-sleep-insights/" target="_blank">Sleep Score</a>" was an 82 in both 2023 and 2024, yet 2023 saw a Standard Deviation of 3.0 while 2024 saw 5.2. This is quite ironic, as I was much more aware of my sleep in 2024, but I believe due almost entirely due to work related stress.</div><div><br /></div><div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwX5byKLg6GY5dbv5sDm13qOeDF1DveRIHRthBy6P3nBOV6sJw0PTCEyl6yvI2laBR63vk7dB1Vra6TYN6nmsSLtwG1w6qun3f5kcK2Xg5jblPiwWAN8BC_vMYzwUZvTRp81SdUVaAnCJ60qbzzKGDjLdEvqz87pfvF8aBVJRAoFV-CjoPOjliBOUc1WpF/s2034/Screenshot%202025-01-31%20at%209.03.55%E2%80%AFam.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="966" data-original-width="2034" height="304" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwX5byKLg6GY5dbv5sDm13qOeDF1DveRIHRthBy6P3nBOV6sJw0PTCEyl6yvI2laBR63vk7dB1Vra6TYN6nmsSLtwG1w6qun3f5kcK2Xg5jblPiwWAN8BC_vMYzwUZvTRp81SdUVaAnCJ60qbzzKGDjLdEvqz87pfvF8aBVJRAoFV-CjoPOjliBOUc1WpF/w640-h304/Screenshot%202025-01-31%20at%209.03.55%E2%80%AFam.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div></div><div><br /></div><div>In 2023 my average duration was 7hr 33m, and in 2024 it was 7hr 28m.&nbsp; However, my average bed time decreased from 10:25PM to 10:10PM.</div><div><br /></div><div>I continue to wear ear plugs when I sleep, and try to sleep in a separate bed from anyone whenever possible. For 2025 this will be a focus, and it would be ideal if I could routinely get in the 90+ sleep score space.</div><div><br /></div><h3 style="text-align: left;">Supplementation</h3><div><span style="font-family: inherit;">While many people are comfortable taking 100s of supplements, I have been trying to stick to what is on the ITP website for <a href="https://www.nia.nih.gov/research/dab/interventions-testing-program-itp/supported-interventions" target="_blank">supported interventions</a>. For most of 2024 I took the following supplements:</span></div><div><ol style="text-align: left;"><li style="box-sizing: inherit; list-style: inherit;"><span style="box-sizing: inherit;"><span style="font-family: inherit;">Collagen 15g&nbsp;</span></span></li><li style="box-sizing: inherit; list-style: inherit;"><span style="font-family: inherit;">Trimethylglycine (TMG) 500mg</span></li><li style="box-sizing: inherit; list-style: inherit;"><span style="font-family: inherit;">Niacin&nbsp;<span style="background-color: white; color: rgba(18, 18, 18, 0.75); font-size: 16px; letter-spacing: 0.6px;">50mg</span></span></li><li style="box-sizing: inherit; list-style: inherit;"><span style="font-family: inherit;">Vitamin K2 MK-7 90µg</span></li><li style="box-sizing: inherit; list-style: inherit; margin-bottom: 0px;"><span style="font-family: inherit;">Zinc 8.25mg</span></li><li style="box-sizing: inherit; list-style: inherit; margin-bottom: 0px;"><span style="font-family: inherit;">Creatine&nbsp;<span style="background-color: white; color: rgba(18, 18, 18, 0.75); font-size: 16px; letter-spacing: 0.6px;">5g</span></span></li><li style="box-sizing: inherit; list-style: inherit; margin-bottom: 0px;"><span style="background-color: white; color: rgba(18, 18, 18, 0.75); font-size: 16px; letter-spacing: 0.6px;"><span style="font-family: inherit;">Omega 3</span></span></li></ol><div>I also tried taking Boron to lower my SHBP levels, but I believe it negatively impacts my sleep.<h3 style="text-align: left;">Results</h3><div>Here is a snapshot of my biomarkers.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgBwa-umgqVVmOUw_sFhpaBIglxvtkonotsP1SaS-1kEXVFKVkJ2waohtu-m5Sqd5Q5YDOBoKWHJMAXXBLAHaTLy9O-jgTi19-DIi5peGoI2sWF0DPMBc61DYodZ9mGzZ7VEjIecGGykrdAlg9B7cFAm5PgyOayN4LBCB6boTdiOyS6bHWDaAWA_1B2dQmZ/s1446/Screenshot%202025-01-31%20at%209.10.04%E2%80%AFpm.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1010" data-original-width="1446" height="448" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgBwa-umgqVVmOUw_sFhpaBIglxvtkonotsP1SaS-1kEXVFKVkJ2waohtu-m5Sqd5Q5YDOBoKWHJMAXXBLAHaTLy9O-jgTi19-DIi5peGoI2sWF0DPMBc61DYodZ9mGzZ7VEjIecGGykrdAlg9B7cFAm5PgyOayN4LBCB6boTdiOyS6bHWDaAWA_1B2dQmZ/w640-h448/Screenshot%202025-01-31%20at%209.10.04%E2%80%AFpm.png" width="640" /></a></div><br /><div>I also track my biomarkers in <a href="https://carrotcare.health/" target="_blank">Carrot Care</a>,&nbsp;and the main areas of focus for 2025 will be:</div><div><ul style="text-align: left;"><li>Continuing to lower my LDL</li><li>Keeping my ApoB low</li><li>Re-testing IGF-1</li><li>Re-testing my progesterone levels (potentially low due to stress at time of previous test)</li><li>Exploring if I should lower my SHBG</li></ul><div>Unfortunately I don't think there's much I can do about Lp(a).</div></div><div><br /></div><div>Let's look at Stress.</div><div><br /></div><div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEifG6yZmV-qRvdrZ3Z4CAwoXlntvAWWGPplFJQcI-0SESj6jQlByHDVCKBmTV22cAWXWYbYlZl67c95puxWTS48IM-I7fgM4-9pCW7UDpSYwcd9vdcrnjUpYVcwJS5Caw7s_j9RhLBokIAjO92-5SpwZPHITYLkcKe3f6ZzmVdF9Ix8akALeQPi2mz0zoZ0/s2152/Screenshot%202025-01-31%20at%209.28.45%E2%80%AFpm.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1226" data-original-width="2152" height="364" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEifG6yZmV-qRvdrZ3Z4CAwoXlntvAWWGPplFJQcI-0SESj6jQlByHDVCKBmTV22cAWXWYbYlZl67c95puxWTS48IM-I7fgM4-9pCW7UDpSYwcd9vdcrnjUpYVcwJS5Caw7s_j9RhLBokIAjO92-5SpwZPHITYLkcKe3f6ZzmVdF9Ix8akALeQPi2mz0zoZ0/w640-h364/Screenshot%202025-01-31%20at%209.28.45%E2%80%AFpm.png" width="640" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><br /></div>2024 was certainly more stressful than 2023, which was itself generally more stressful than 2022 - all due to changing roles at work. My stress levels in June/July were elevated due to work, in September due to running a marathon and then immediately catching Covid, and finally in December due to several overnight flights and some work deadlines that required significant overtime.</div><div><br /></div><div>I would like to aim to get routinely under 25 if possible.</div><div><br /></div><div>My resting heart rate hovered around 50-51 for the year, and ultimately I would like to try and get this below 50.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZLb3F-pAEH3MQP1GOSvyRxwhxTtqL6NLyczxdcPQRbqAfkm452sHHwOx_LnWmmY1nbuceeNiRGiLyN3T70HMIFvlagJkM3aac0akgW11AETTCmeKVKUR5P_LOMd4spuFaajIevu5jRpfhvA_NnjS1m84D1z-GfUtQD5QQEMgAbJ8Pg_2eXuaacx3Q_Ize/s2206/Screenshot%202025-01-31%20at%209.33.37%E2%80%AFpm.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1036" data-original-width="2206" height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZLb3F-pAEH3MQP1GOSvyRxwhxTtqL6NLyczxdcPQRbqAfkm452sHHwOx_LnWmmY1nbuceeNiRGiLyN3T70HMIFvlagJkM3aac0akgW11AETTCmeKVKUR5P_LOMd4spuFaajIevu5jRpfhvA_NnjS1m84D1z-GfUtQD5QQEMgAbJ8Pg_2eXuaacx3Q_Ize/w640-h300/Screenshot%202025-01-31%20at%209.33.37%E2%80%AFpm.png" width="640" /></a></div><br /><div><br /><br /></div><div><h3 style="text-align: left;">Experiments</h3><div><ul style="text-align: left;"><li>Convert garmin's intensity minutes to MET, so can compare to papers</li><li>TBC</li></ul></div><br /></div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2021/04/25/post-backpacking-trip-clean-up.html">
            Post Backpacking Trip Clean-Up
          </a>
        </h3>
        <span class="post-meta">Published on Apr 25, 2021</span>
        I have the privilege of being able to afford all those random little backpacking items, and while I don't baby my gear, I do try to take care of it. Especially things that keep me safe. Here's what I do after every trip with a few of the items.<div><br /></div><div>I have what are probably the two most popular water filters on the market: the <a href="https://www.katadyn.com/us/us/14946-8019639-katadyn-befree-0.6L_usa" target="_blank">Katadyn BeFree</a>&nbsp;and <a href="https://sawyer.com/products/sawyer-squeeze-filter/" target="_blank">Sawyer Squeeze</a>. The point of this article isn't about comparing filters, but I recommend both: I use the BeFree for solo day hikes / fastpacking or if water is plentiful, and the Squeeze in pretty much every other situation (e.g. if I need to filter for other people). If buying now then I would be super keen to try out the <a href="https://www.platy.com/ie/filtration/quickdraw-microfilter/11458.html" target="_blank">Platypus QuickDraw</a>.</div><div><br /></div><div>This previous weekend I came back from a quick overnight with some people and kids, so decided to take photos of the clean-up process.</div><h4 style="text-align: left;">Sawyer Squeeze</h4><div>I prefer doing a backflush with the coupling unit vs. the syringe.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgHLTl9N9bve4oZJ_iJTvxs0m502qYF-vVh2TC_qgeReb3fr_PGuUhuRTkPP5KZvxt51RdEBsvPVwyP5IRxOMTRkE5uVS4EvDl0G89tKuPI2j3z5wotPzT7HMmKkefsGZKHaVrwmLK4hwDU/s2048/IMG_0451.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgHLTl9N9bve4oZJ_iJTvxs0m502qYF-vVh2TC_qgeReb3fr_PGuUhuRTkPP5KZvxt51RdEBsvPVwyP5IRxOMTRkE5uVS4EvDl0G89tKuPI2j3z5wotPzT7HMmKkefsGZKHaVrwmLK4hwDU/w640-h480/IMG_0451.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Get supplies ready. Bleach, spare Sawyer bag, and blue coupling thing.</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhhGN1oHQYiz5NG9OMO9RXICG0CD5eePff1UwFgwC4K0FdO1xbdczMOP_IC-2hkOFfE1oUB2qJCsazE3LEEB3xVpsb7bAw9N6slaR0pGRTPyZwUo36mikmesk8Dadb7up0Ged30s87Ku0jD/s2048/IMG_0452.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhhGN1oHQYiz5NG9OMO9RXICG0CD5eePff1UwFgwC4K0FdO1xbdczMOP_IC-2hkOFfE1oUB2qJCsazE3LEEB3xVpsb7bAw9N6slaR0pGRTPyZwUo36mikmesk8Dadb7up0Ged30s87Ku0jD/w640-h480/IMG_0452.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Fill bag with water, add one cupful of bleach.</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg821N9SsiEVseSohtAaiXpEeLJpDdMMMpm5R8NQ6TQwFQYAGKewNfeyHDDbvq1gK-8M8-p0AHPNk-ZIEiJtj45Ytpcs5XnYuTqMZssjUL5wrkb4uwGpi38-dZOqkro9AginaqP3Rqa_EdK/s2048/IMG_0453.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg821N9SsiEVseSohtAaiXpEeLJpDdMMMpm5R8NQ6TQwFQYAGKewNfeyHDDbvq1gK-8M8-p0AHPNk-ZIEiJtj45Ytpcs5XnYuTqMZssjUL5wrkb4uwGpi38-dZOqkro9AginaqP3Rqa_EdK/w640-h480/IMG_0453.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Put on blue coupling thing, but only about 1/2 way</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjtKbY2aMdZZtppZnEPTIZ1R99lh4_TbI9HYtGab0wRyH7G3MQAsVZhQmFCACvsmbA3gB_tmCog7IgBysa4opMBy-dv2ir_BzKp5jPg4ycMEQR0m5OmR94DbKg190zr_CGLHnxfCX0fkuUi/s2048/IMG_0454.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjtKbY2aMdZZtppZnEPTIZ1R99lh4_TbI9HYtGab0wRyH7G3MQAsVZhQmFCACvsmbA3gB_tmCog7IgBysa4opMBy-dv2ir_BzKp5jPg4ycMEQR0m5OmR94DbKg190zr_CGLHnxfCX0fkuUi/w640-h480/IMG_0454.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Put Squeeze on and now make it tight.</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjkaOGLruxKk0PQar2M4F-GHfG61I7G3TX5q23wfQr1mecGrVlvb3zfkakg47TbsErKEcMQRRab3ehek1XxU__CvqxcFbRgjCA2B2N7B1tVUchc99VyaGZ8E0kioI9be6cs3bfj9RQTUhW5/s2048/IMG_0456.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjkaOGLruxKk0PQar2M4F-GHfG61I7G3TX5q23wfQr1mecGrVlvb3zfkakg47TbsErKEcMQRRab3ehek1XxU__CvqxcFbRgjCA2B2N7B1tVUchc99VyaGZ8E0kioI9be6cs3bfj9RQTUhW5/w640-h480/IMG_0456.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Backflush. I don't do it like this, and use two hands instead, but had to take a photo.</td></tr></tbody></table><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhSmfCxjvpQt9SRWkooyZ8MuSreMoYmn571q9HRrT3T_EavpG5dlZ02xTF1Yj3WaGoFU7ik3F_LYGWJxEOCFUmfjhc3rqLzV_H4OvK50KaBM36vDzkmEX5-YYtitJnzE2kFv_JX6E-HWS3s/s2048/IMG_0459.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhSmfCxjvpQt9SRWkooyZ8MuSreMoYmn571q9HRrT3T_EavpG5dlZ02xTF1Yj3WaGoFU7ik3F_LYGWJxEOCFUmfjhc3rqLzV_H4OvK50KaBM36vDzkmEX5-YYtitJnzE2kFv_JX6E-HWS3s/w640-h480/IMG_0459.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Put cap back on and pour a little of the water in the filter. Let sit for a few hours.</td></tr></tbody></table><br /><br /><h4 style="text-align: left;">CNOC Bladder</h4><div>I use this as a dirty bag if needing to filter a lot of water (e.g. group trip).</div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRMBag-884BxXZT-iaQbe8EULPrRotc_1LY60ZW5Adw55eSPkKn5kCcPRtvJl5xS7IDYl3gJhZ-H9YhZ9lZovAQjIkY4_8hu_9CyLXah5gz-Wc7lA-vnJS276CZMxc1T0Zy4vJLd4khLoO/s2048/IMG_0460.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRMBag-884BxXZT-iaQbe8EULPrRotc_1LY60ZW5Adw55eSPkKn5kCcPRtvJl5xS7IDYl3gJhZ-H9YhZ9lZovAQjIkY4_8hu_9CyLXah5gz-Wc7lA-vnJS276CZMxc1T0Zy4vJLd4khLoO/w640-h480/IMG_0460.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Fill bladder with water and a capful of bleach.</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIDpBeJJyTHdUncrTPU4CUF9Q6u8GWKigqeA6opJeUMD5opgslTL8OJgIb3nEpSyONggS0m616hEEXsOg2PHT7t_QvspRTCoXAqEMxwIfERQ2EmdrDLSKp_NmjK5E7qgEWHfcNWLRYMolH/s2048/IMG_0461.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjIDpBeJJyTHdUncrTPU4CUF9Q6u8GWKigqeA6opJeUMD5opgslTL8OJgIb3nEpSyONggS0m616hEEXsOg2PHT7t_QvspRTCoXAqEMxwIfERQ2EmdrDLSKp_NmjK5E7qgEWHfcNWLRYMolH/w640-h480/IMG_0461.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Put on counter and let sit for a few hours. I then put a small cup in the opening and let stand dry.</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjvIaDlZNAvC1RjQ0hHqSpoeK0PadcW6Z1E5mjBzCJy3OpzoDFQXRh74ubZF0hKiXIoyd5mP8ZT6NtlI5Bw-LdM1uu7N1a5MvWLHZgAOqJnhfyQl1f5Osy2D-C8a7t6rdVLDxGQ0fIDMYHJ/s2048/IMG_0462.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjvIaDlZNAvC1RjQ0hHqSpoeK0PadcW6Z1E5mjBzCJy3OpzoDFQXRh74ubZF0hKiXIoyd5mP8ZT6NtlI5Bw-LdM1uu7N1a5MvWLHZgAOqJnhfyQl1f5Osy2D-C8a7t6rdVLDxGQ0fIDMYHJ/w640-h480/IMG_0462.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">20 year old Platypus bladders stay in the freezer. Mainly used for running if I don't take my BeFree.</td></tr></tbody></table><br /><br /><h4 style="text-align: left;">Gas Canister</h4><div>I use my kitchen scale to weigh and then write down how much gas is left. This one started at 203g, and after a few overnights is 110g. Commonly these canisters weight 95g - 100g when empty, so I know I've got 1-2 burns remaining.</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJeQt-JDpFgs5zyhs6RCffj2eI8IlqwAaFZ4oFhnrYF3u9DbYoaAyokf1z0h3HQEw7XmdKpHlrv88Oh3gV91JCNeY-DduO8drcoGMy2g5PhiqYuIPrcLhbYogD35bbo4xmhi0llxhWJt_O/s2048/IMG_0463.jpeg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1536" data-original-width="2048" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJeQt-JDpFgs5zyhs6RCffj2eI8IlqwAaFZ4oFhnrYF3u9DbYoaAyokf1z0h3HQEw7XmdKpHlrv88Oh3gV91JCNeY-DduO8drcoGMy2g5PhiqYuIPrcLhbYogD35bbo4xmhi0llxhWJt_O/w640-h480/IMG_0463.jpeg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Weight on the side (~200g gross weight, 95-100g empty weight)</td></tr></tbody></table><h4 style="text-align: left;"><br /></h4><div>That's it. When done these all go in my "every trip" basket (to be fair, I don't take a stove quite often), and now I know I don't get caught out with a clogged filter or run out of fuel and drink cold coffee.</div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2021/01/03/katoomba-to-mittagong-131km.html">
            Katoomba to Mittagong (131km)
          </a>
        </h3>
        <span class="post-meta">Published on Jan 3, 2021</span>
        <p><span data-offset-key="fndil-0-0" style="font-weight: bold;">Where:</span><span data-offset-key="fndil-0-1">&nbsp;Katoomba to Mittagong (via Hill Top for reasons below)</span></p><div data-reddit-rtjson="{&quot;entityMap&quot;:{&quot;0&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://www.strava.com/activities/4536566086&quot;}},&quot;1&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://imgur.com/a/Q6Fl4fR&quot;}},&quot;2&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://www.strava.com/activities/4536592392&quot;}},&quot;3&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://imgur.com/a/rvIcBkX&quot;}},&quot;4&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://www.strava.com/activities/4536901043&quot;}},&quot;5&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://imgur.com/a/L2Sf7UJ&quot;}},&quot;6&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://www.strava.com/activities/4536954800&quot;}},&quot;7&quot;:{&quot;type&quot;:&quot;LINK&quot;,&quot;mutability&quot;:&quot;MUTABLE&quot;,&quot;data&quot;:{&quot;url&quot;:&quot;https://imgur.com/a/Ul2yLJ7&quot;}}},&quot;blocks&quot;:[{&quot;key&quot;:&quot;7lopb&quot;,&quot;text&quot;:&quot;Where: Katoomba to Mittagong (via Hill Top for reasons below)&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:6,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;8om41&quot;,&quot;text&quot;:&quot;When: 2020/12/27 18:00 to 2020/12/30 morning&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:5,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;u55p&quot;,&quot;text&quot;:&quot;Distance: 131km, with maybe 30 km of buckwhacking (details below).&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:9,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;d8tso&quot;,&quot;text&quot;:&quot;Conditions: Day 2 was pretty weird, as it started quite hot, probably around 27C, and then it just opened up and poured. Forecasted to unload 20mm, and I think that felt about right.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:11,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;c0ac0&quot;,&quot;text&quot;:&quot;Useful Pre-Trip Information or Overview: I found a few GPX tracks and added a several backup tracks in Gaia GPS, but opted to follow the boring “quicker” route. I think the GPX I used was not one that had been recorded, but just one that had been created. This was one of the planning mishaps for my adventure: I overestimated possible pace. The GPX had 5km/hr average. I read previous trip reviews of people saying they could jog the track. It quickly became apparent there was no way anybody would be able to do parts of the track that quickly, so either I went a different way, the track got more difficult, or I haven’t mastered bushwhacking.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:40,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;s27e&quot;,&quot;text&quot;:&quot;A few other prerequisites: I checked that the parks I needed to cross weren’t closed, checked the Cox’s River water gauge at Kelpie Point (0.29m), as well as potential water sources. The most challenging water situation would be on Scotts Main Range, and sure enough, I had to use the water pits, which were pretty dirty. David Noble’s site quoted the walk in the Nattai Valley as “mostly this is easy walking on the riverflats”… more on that later.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;ao2p0&quot;,&quot;text&quot;:&quot;My goal was to do it in about 2 1/2 days, but with a backup plan to stay one more night, and/or bail via Hill Top.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;bdnio&quot;,&quot;text&quot;:&quot;The Report: I will try to be concise, but include information if anybody else wishes to do this hike. Considering I think some of the parks only opened quite recently, it doesn't look like anybody has done this track in quite some time. The conditions I encountered were vastly different from the trip reports I have read previously.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:11,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;47lq&quot;,&quot;text&quot;:&quot;Day 0 (21km)&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:12,&quot;style&quot;:&quot;ITALIC&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;2brp&quot;,&quot;text&quot;:&quot;At 17:30 I got off the train and took a cab to Narrowneck Carpark &amp; Gate ($20), and started that long boring walk along Narrowneck. Tarros Ladder has some metal holds, so is pretty easy if you have a light pack and have done some rock climbing, but probably need to be careful if you have a heavy pack. Then over Tarros Ladder Medlow Gap Walking Track, which is now pretty overgrown, and I think next time I would just continue taking the road, but maybe that’s because I was night hiking. Finally, Medlow gap down through White Dog Ridge Firetrail to Kelpie Point Trail, then camped just before Cox’s River.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;ep1sj&quot;,&quot;text&quot;:&quot;Strava: https://www.strava.com/activities/4536566086&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:44,&quot;key&quot;:0}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;82vh8&quot;,&quot;text&quot;:&quot;Photos: https://imgur.com/a/Q6Fl4fR&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:27,&quot;key&quot;:1}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;8j9ar&quot;,&quot;text&quot;:&quot;&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;8nf19&quot;,&quot;text&quot;:&quot;Day 1 (42km)&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:12,&quot;style&quot;:&quot;ITALIC&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;59duq&quot;,&quot;text&quot;:&quot;The day started off on the wrong foot, as I decided to walk the Cox’s River before heading up to Mount Cookem. I contemplate in hindsight if I should have gone back up Kelpie Point Trail and come down and crossed Cox’s River a bit downstream, but the walk along the river only took 40 minutes. The problem is that this type of bushwhacking - waist height to above my head - is pretty draining. Additionally, I’m not certain if I could have crossed downstream after the Cox merged with the Kowmung River, as when I tried, the water was quickly above my waist. Eventually, I first crossed the Cox then crossed the Kowmung, then started up to Mount Cookem. I think I came up the the wrong hill, as I had to do a few pretty gnarly rock climbs. Eventually I popped out and hit Scotts Main Range.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;a8l6m&quot;,&quot;text&quot;:&quot;Then a long long fireroad walk. The water wells had water, but they quickly clogged my BeFree. Overall just hot and sort of boring, but the most annoying thing was these big flies that would bite me whenever I stopped. They even managed to bite though my clothing.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;dr1j&quot;,&quot;text&quot;:&quot;I started to just wish for something different, and then a downpour started. Probably 3-4 hours of rain, and everything started flooding. No longer was it a problem finding water, as there were now streams forming in the road. The slightly scary part was that there was lightning hitting pretty close, which I didn’t like.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;a65fo&quot;,&quot;text&quot;:&quot;Eventually I managed to come down through Byrnes Gap, and camped between there and Yerranderie, which was my goal for the day. I probably could have gone further, but the rain was starting to get tiring, and I had a big blister forming (more details in the gear review below).&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;rg73&quot;,&quot;text&quot;:&quot;Remember to look out for dead branches before camping, especially after all the fires.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;9dvb8&quot;,&quot;text&quot;:&quot;9hr 19min moving time, but 11hr elapsed time, and at 13:11/km pace (inc the bushwhack and hike up to Cookem).&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;2t6ij&quot;,&quot;text&quot;:&quot;Strava: https://www.strava.com/activities/4536592392&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:44,&quot;key&quot;:2}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;a6lck&quot;,&quot;text&quot;:&quot;Photos: https://imgur.com/a/rvIcBkX&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:27,&quot;key&quot;:3}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;35tbh&quot;,&quot;text&quot;:&quot;&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;2vml5&quot;,&quot;text&quot;:&quot;Day 2 (47km)&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:12,&quot;style&quot;:&quot;ITALIC&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;d9jeh&quot;,&quot;text&quot;:&quot;And here is where things start to really deviate from previous trip reports. The walk from Yerranderie to Wollondilly River was as per spec, except for needing to continue down Sheepwalk Track instead of my planned Roses Track, as it was closed to walkers. My heart sunk a bit when reaching Murrphys Crossing and seeing how big the river was - I was pretty certain there was going to be a need to swim across it, and it was flowing quickly. I sent a message on my inReach, and walked downstream to see if there were any branches and logs that I could get trapped in if I did get swept off my feet. I then started across, and luckily the water never went above my waist. There was good footing the entire way. Looking up the river was beautiful.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;8hep4&quot;,&quot;text&quot;:&quot;Some more fireroad later and a sign pointed in to the bush reading “Mount Beloon”. There was a faint trail, and a pretty easy initial “off track” experience, at least compared to bashing bush that’s as tall as I am. Soon the waist height bushes returned, and this time on the steep hill. At some point the track intersects the cliffs around Mount Beloon, and I thought “faaaaa I could maybe climb this, but in the rain this is going to be sketchy”. Keep looking around and eventually there will be an easier section that requires NO CLIMBING.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;45ii2&quot;,&quot;text&quot;:&quot;Coming down the other side I was excited to be going downhill, but the bush was now quite thick. Soon it dipped in to a dried up creek, which was a little faster to walk through. Continue down the gully, but be ready for a lot of scrambling. I’m not certain if the gully has always been like this, but I think it might have had a few landslides last year: trees and boulders were everywhere. It took about 90 minutes to get to the Nattai River.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;23kq3&quot;,&quot;text&quot;:&quot;One source stated in 2015 that “it was really interesting to see the wheels of time grinding down on the Nattai ‘Road’. Once upon a time it would have been used by 4WD, but now it is completely overgrown and impassable to anything and everyone who isn’t hiking.” Well, I couldn’t even find the road, despite looking, and I had offline maps and GPS. Looking down the Nattai, with no track or easy walking ahead, it was at this point that I knew I likely wouldn’t make it back as per plan.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;jloq&quot;,&quot;text&quot;:&quot;I reached for my inReach and sent the preset “All is well, but behind schedule”.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;1kpu4&quot;,&quot;text&quot;:&quot;Previous reports seem to indicate that the river bed is easy to walk along, but it might be necessary to cross the river a few times. Well, let me tell you, there were usually only two options: bash some very thick bush, or just walk up above-knee deep water. And to make matters worse, a lot of the sand was very damp, so I frequently would take a step and posthole knee deep in the sand. This postholing would sometimes go on for over 50 metres, and was very slow going.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;fj26n&quot;,&quot;text&quot;:&quot;The sun set and I was now hiking by headlamp, but with absolutely no suitable campsites visible, I was getting a little worried. Finally a small patch appeared, and I pulled out my gear and went to bed.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;60kvf&quot;,&quot;text&quot;:&quot;11hr 41min of moving time, but 14hr 55min elapsed time&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;4poqd&quot;,&quot;text&quot;:&quot;Strava: https://www.strava.com/activities/4536901043&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:44,&quot;key&quot;:4}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;32fgg&quot;,&quot;text&quot;:&quot;Photos: https://imgur.com/a/L2Sf7UJ&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:27,&quot;key&quot;:5}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;1q5b0&quot;,&quot;text&quot;:&quot;&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;epman&quot;,&quot;text&quot;:&quot;Day 3 (21km)&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:12,&quot;style&quot;:&quot;ITALIC&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;8c49g&quot;,&quot;text&quot;:&quot;By 6am I was already packed and continuing down the Nattai, yet slowness persisted - maybe 18:00/km. Troys Creek Track was supposed to come out via Troys Creek, but I couldn’t find any sign of a track. Next I came across Emmetts Flat and started up the creek, but there was no evidence of human activity. And then I saw a cairn. Just two stones, but hard to miss. My spirits have never been lifted so much.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;44lg&quot;,&quot;text&quot;:&quot;I found Starlights Trail, and was elated. I bounded up to Point Hill where I had the first mobile phone receptions since leaving Narrowneck, and out to Wattle Ridge. By now it was about 9:30am. The next challenge was how to get to Mittagong Station. I checked Uber (reported about $50), but no cars available. Then I checked 13cabs, but outside coverage. Because I arrived in the morning everybody in the carpark was coming in to the park, and not going out. I started to walk. I ended up walking almost the entire way to Hill Top, and not a single car passed me. Then one white SUV came, I tried to get a ride, but they carried on. Fair enough. A second car came, and they slowed down and picked me up! “Yea, I can drop you off at Mittagong, I’m going that way”. Thank you Jason - lifesaver!&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;bvc26&quot;,&quot;text&quot;:&quot;Strava: https://www.strava.com/activities/4536954800&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:44,&quot;key&quot;:6}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;a56ig&quot;,&quot;text&quot;:&quot;Photos: https://imgur.com/a/Ul2yLJ7&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[{&quot;offset&quot;:8,&quot;length&quot;:27,&quot;key&quot;:7}],&quot;data&quot;:{}},{&quot;key&quot;:&quot;e86kj&quot;,&quot;text&quot;:&quot;Gear Notes: I didn’t do a lighterpack, but everything I had was in an 18L running vest. Basically just a sleeping bag, pad, shelter, food, and rain jacket. It was probably close to SUL, but I knew the weather was going to likely turn wicked and I was going to be in the middle of nowhere; I didn’t want to go stupid light.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:11,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;3vdfc&quot;,&quot;text&quot;:&quot;Gear Experiments: There were two pieces of gear I wished to test on this adventure. The first was a Sunday Afternoons hat, as I figured the ridge walking in the sun wouldn’t be enjoyable with just a trucker hat. This was the right call. It worked great. The next test was a pair of white running tights. I’m trying better to use clothing as sun protection, and the tights worked well. I quickly started to wear just the tights, and they breathed fairly well, and had no chafing. They also proved decent protection from bushes. In fact, the only cuts I got where between my socks and the tights; my shins got quite torn up. No sunburns. They weren’t white when I finished.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:17,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;dbdcu&quot;,&quot;text&quot;:&quot;Gear That Didn’t Work Well: I had several gear malfunctions. The first was my Altra Lone Peak shoes, as I started to get a pretty big blister on my right foot. I thought this was because the shoe was a little too loose, so I tightened it right up. Then I had the skin rub off on the top of my foot. A little leukotape and that problem was solved, but the blister persisted. I rarely got blisters in my Lone Peaks, but had been getting them in the same place for some reason recently, so I pre-taped my foot before heading out. Yes, that’s right, I was getting a blister under tape. Suddenly I realised what was causing the blister: the insole was sliding backwards, which was then putting pressure on my heel. I simply removed the insole, and no more rubbing! Then my right shoe developed a massive hole, which is maybe to be expected, as they have close to (at least) 700km. Finally, I developed life-ending holes in both my Drymax and Injinji socks; the heel of one, the toes of the other. (And I keep my toenails extremely filed down, as per “Fixing Your Feet”).&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:26,&quot;style&quot;:&quot;BOLD&quot;},{&quot;offset&quot;:570,&quot;length&quot;:5,&quot;style&quot;:&quot;ITALIC&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;c3ge2&quot;,&quot;text&quot;:&quot;What would I do differently next time? I would like to avoid Scotts Main Range, and somehow cut up on a parallel track on the other side of the Kowmung River. And then obviously figure out how to get down the Nattai a bit more easily. Alternatively, if I could get my fitness up, and the weather would allow me to go a little bit lighter, I would enjoy being able to run more of the roads. Because of the forecasted weather I had to carry a little bit too much stuff, and the blister was pretty big, or maybe these are the excuses I was telling myself.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[{&quot;offset&quot;:0,&quot;length&quot;:38,&quot;style&quot;:&quot;BOLD&quot;}],&quot;entityRanges&quot;:[],&quot;data&quot;:{}},{&quot;key&quot;:&quot;8gdnn&quot;,&quot;text&quot;:&quot;Please don't hesitate reaching out if you wish to do this track and have any questions. This track could be really fun with a group of people without any hard deadlines.&quot;,&quot;type&quot;:&quot;unstyled&quot;,&quot;inlineStyleRanges&quot;:[],&quot;entityRanges&quot;:[],&quot;data&quot;:{}}]}"><div data-block="true" data-editor="e8ab1d" data-offset-key="a2aed-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="a2aed-0-0"><span data-offset-key="a2aed-0-0" style="font-weight: bold;">When:</span><span data-offset-key="a2aed-0-1">&nbsp;2020/12/27 18:00 to 2020/12/30 morning</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="6o966-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="6o966-0-0"><span data-offset-key="6o966-0-0" style="font-weight: bold;"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="6o966-0-0"><span data-offset-key="6o966-0-0" style="font-weight: bold;">Distance:</span><span data-offset-key="6o966-0-1"> 131km, with maybe 30 km of buckwhacking (details below).</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="96dcu-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="96dcu-0-0"><span data-offset-key="96dcu-0-0" style="font-weight: bold;"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="96dcu-0-0"><span data-offset-key="96dcu-0-0" style="font-weight: bold;">Conditions:</span><span data-offset-key="96dcu-0-1">&nbsp;Day 2 was pretty weird, as it started quite hot, probably around 27C, and then it just opened up and poured. Forecasted to unload 20mm, and I think that felt about right.</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="5tvqb-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="5tvqb-0-0"><span data-offset-key="5tvqb-0-0" style="font-weight: bold;"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="5tvqb-0-0"><span data-offset-key="5tvqb-0-0" style="font-weight: bold;">Useful Pre-Trip Information or Overview:</span><span data-offset-key="5tvqb-0-1">&nbsp;I found a few GPX tracks and added a several backup tracks in Gaia GPS, but opted to follow the boring “quicker” route. I think the GPX I used was not one that had been recorded, but just one that had been created. This was one of the planning mishaps for my adventure: I overestimated possible pace. The GPX had 5km/hr average. I read previous trip reviews of people saying they could jog the track. It quickly became apparent there was no way anybody would be able to do parts of the track that quickly, so either I went a different way, the track got more difficult, or I haven’t mastered bushwhacking.</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="cvgqg-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="cvgqg-0-0"><span data-offset-key="cvgqg-0-0"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="cvgqg-0-0"><span data-offset-key="cvgqg-0-0">A few other prerequisites: I checked that the parks I needed to cross weren’t closed, checked the Cox’s River water gauge at Kelpie Point (0.29m), as well as potential water sources. The most challenging water situation would be on Scotts Main Range, and sure enough, I had to use the water pits, which were pretty dirty. David Noble’s site quoted the walk in the Nattai Valley as “mostly this is easy walking on the riverflats”… more on that later.</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="93dg5-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="93dg5-0-0"><span data-offset-key="93dg5-0-0"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="93dg5-0-0"><span data-offset-key="93dg5-0-0">My goal was to do it in about 2 1/2 days, but with a backup plan to stay one more night, and/or bail via Hill Top.</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="69b6s-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="69b6s-0-0"><span data-offset-key="69b6s-0-0" style="font-weight: bold;"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="69b6s-0-0"><span data-offset-key="69b6s-0-0" style="font-weight: bold;">The Report:</span><span data-offset-key="69b6s-0-1">&nbsp;I will try to be concise, but include information if anybody else wishes to do this hike. Considering I think some of the parks only opened quite recently, it doesn't look like anybody has done this track in quite some time. The conditions I encountered were vastly different from the trip reports I have read previously.</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="2jqnt-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="2jqnt-0-0"><span data-offset-key="2jqnt-0-0" style="font-style: italic;"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="2jqnt-0-0"><span data-offset-key="2jqnt-0-0" style="font-style: italic;">Day 0 (21km)</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="9j4tp-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="9j4tp-0-0"><span data-offset-key="9j4tp-0-0"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="9j4tp-0-0"><span data-offset-key="9j4tp-0-0">At 17:30 I got off the train and took a cab to Narrowneck Carpark &amp; Gate ($20), and started that long boring walk along Narrowneck. Tarros Ladder has some metal holds, so is pretty easy if you have a light pack and have done some rock climbing, but probably need to be careful if you have a heavy pack. Then over Tarros Ladder Medlow Gap Walking Track, which is now pretty overgrown, and I think next time I would just continue taking the road, but maybe that’s because I was night hiking. Finally, Medlow gap down through White Dog Ridge Firetrail to Kelpie Point Trail, then camped just before Cox’s River.</span></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="7vbo9-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="7vbo9-0-0"><span data-offset-key="7vbo9-0-0"><br /></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="7vbo9-0-0"><span data-offset-key="7vbo9-0-0">Strava: </span><a class="_1FRfMxEAy__7c8vezYv9qP" href="https://www.strava.com/activities/4536566086"><span data-offset-key="7vbo9-1-0">https://www.strava.com/activities/4536566086</span></a></div></div><div data-block="true" data-editor="e8ab1d" data-offset-key="bipo4-0-0"><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="bipo4-0-0"><span data-offset-key="bipo4-0-0">Photos: </span><span data-offset-key="bipo4-1-0"><a class="_1FRfMxEAy__7c8vezYv9qP" href="https://imgur.com/a/Q6Fl4fR">https://imgur.com/a/Q6Fl4fR</a></span></div><div class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr" data-offset-key="bipo4-0-0"><br /></div><script async="" charset="utf-8" src="//s.imgur.com/min/embed.js"></script></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2020/08/17/coxs-river-return-via-narrowneck.html">
            Cox’s River return via Narrowneck
          </a>
        </h3>
        <span class="post-meta">Published on Aug 17, 2020</span>
        <p>&nbsp;<span style="background-color: white; color: #2a2e2e; font-family: &quot;Helvetica Neue&quot;, arial, sans-serif; font-size: 14px; white-space: pre-wrap;">Read below for a long list of warnings. After reading some of the comments below, e.g. from Des, it seems like the track can vary significantly depending on when you do it.</span></p><span style="background-color: white; color: #2a2e2e; font-family: &quot;Helvetica Neue&quot;, arial, sans-serif; font-size: 14px; white-space: pre-wrap;">
TL;DR - in winter, after bush fires and floods, this track is a 7/6.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2020/08/07/ultralight-backpacking-food.html">
            Ultralight Backpacking - Food &amp; Electrolytes
          </a>
        </h3>
        <span class="post-meta">Published on Aug 7, 2020</span>
        <span style="font-family: inherit;">In about 2001 or 2002 I read a book called "Beyond Backpacking - Ray Jardine's Guide to Lightweight Hiking", which set me on a path to being as light as possible. It came in very handy when I did my first section hike of the PCT, about 7 days, and I vaguely remember a total pack weight of about 25 lbs - with 4 litres of water. I was a broke college student then, so I guess clipping toothbrushes and straps really paid off. I also used a weird mesh hammock thing and I think a tarp of some kind. I have been "ultralight" ever since, even when renting equipment in Patagonia.</span><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Anyways, the mindset has stuck 20 years later. I now am fortunate enough to have more funds to purchase better equipment, but always keen to read about recommendations on how to have a better experience and maybe even save a little weight.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">Recently a <a href="https://www.youtube.com/channel/UCflIoVkAjQnyAwDKFmhRDDw" target="_blank">series of videos</a> was pasted on YouTube that touched on food, and they were <i>terrific</i>. I had always been pretty good about choosing which food to take. Here in Australia, my general rule of thumb was to try and get something as close to 2000kJ per 100g as possible, and then 4 or 5 stars. This insured I was getting calorie dense food, but with the videos mentioned above, I think I can now get <i>the right</i>&nbsp;calories.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><span style="font-family: inherit;">I am pasting my notes below as reference purely for myself, although I might come back around and paste suitable options from Woolies or Coles that are suitable. If you have an hour or two, and like backpacking, then I really encourage you to have a watch.</span></div><div><span style="font-family: inherit;"><br /></span></div><div><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><b><span style="font-family: inherit;">Breakfast</span></b></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">Mixture of simple (high GI) and complex (low GI) carbs. Simple carbs hand off to complex carbs hand off to fats.</span></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">Ideal ratio for breakfast:</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">65% calories from fat</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">28% from carbs, ideally split complex/simple, maybe leaning to simple</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">7% from protein</span></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><b><span style="font-family: inherit;">Trail Food</span></b></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">Probably want something in the 5% - 15% calories from sugar range, unless eating smaller portions more often, and then 15% - 25%.</span></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">Ideal ratio for the trail:</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">65% calories from fat</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">28% from carbs, ideally split complex/simple, maybe leaning to complex</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">7% from protein</span></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><b><span style="font-family: inherit;">Recovery</span></b></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"></p><ul style="text-align: left;"><li><span style="font-family: inherit;">Drink mix consumed within 15 minutes of finishing for the day.</span></li><li><span style="font-family: inherit;">Ideally a carb/protein ratio between 3:1 and 4:1.&nbsp;</span></li><li><span style="font-family: inherit;">Avoid fat.&nbsp;</span></li><li><span style="font-family: inherit;">Glucose and fructose around 3:1.&nbsp;</span></li><li><span style="font-family: inherit;">Frog fuel (collagen) or hydrolysed whey isolate.</span></li></ul><p></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><b><span style="font-family: inherit;">Dinner</span></b></p><p class="p2" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px; min-height: 14px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">Between 20 - 30g of <i>high quality</i> protein, the rest of calories rich in fat, and as close to bed time as possible for thermogenic effect.</span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;"><b>Electrolytes</b></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;"><b><br /></b></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;">A few key bullet points on usage of electrolytes:</p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><br /></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"></p><ul style="text-align: left;"><li>Three states of dehydration:</li><ul><li>hypertonic: water loss is greater in comparison to sodium loss, so serum sodium concentration increases</li><li>hypotonic: water loss is accompanied by excessive sodium loss, so serum sodium concentration decreases</li><li>isotonic: water and sodium are lost at the same rate</li></ul><li>Hypernatremia is a <i>result</i>&nbsp;of dehydration.</li><li>Hyponatremia is not a result of dehydration, but a result of treatment of dehydration with fluids that do not contain enough sodium.</li><li>Hiking for 8.5 hours @ 435mg Na/hr = 3600mg lost sodium</li><li>Expected losl per hour:</li><ul><li>Na 300 - 500</li><li>K 100 - 160</li><li>Mg 40 - 60</li><li>Ca 20 - 30</li></ul><li>Reminder that to monitor water intake, urine frequency and colour is the way to go.</li><li>Condition most likely to encounter on the trail is "exercise-associated hyponatremia", aka drinking plenty of fluids, but not enough electrolytes. One symptom of hyponatremia is swelling, in particular in hands and feet. Ring is a sensitive instrument... "snug fit, time to start taking on electrolytes with water. Loosey goosey? No need to supplement beyond what already get from trail snacks."</li></ul><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjtHf82oGqG2xU1eUNict6W9p4CA8cnXqJ6ktLJIJKsjL3wflDGseJl5KB8ydS3bdeALcJNuawMXV-Rv9CPjqxuThpFM31we2qCvvNJxFQ_SlL0S3QU2U_R2bjL06zGHAThPRQGGZcz5pab/s474/electrolyte+chart+diagram.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="250" data-original-width="474" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjtHf82oGqG2xU1eUNict6W9p4CA8cnXqJ6ktLJIJKsjL3wflDGseJl5KB8ydS3bdeALcJNuawMXV-Rv9CPjqxuThpFM31we2qCvvNJxFQ_SlL0S3QU2U_R2bjL06zGHAThPRQGGZcz5pab/s16000/electrolyte+chart+diagram.jpeg" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Lots of sodium - 4,500mg would be for long days hiking in the heat<br /></td></tr></tbody></table><br /><div><br /></div><p></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;"><br /></span></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><b><i><span style="font-family: inherit;">In Practice</span></i></b></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><b><i><span style="font-family: inherit;"><br /></span></i></b></p><p class="p1" style="font-stretch: normal; font-variant-east-asian: normal; font-variant-numeric: normal; line-height: normal; margin: 0px;"><span style="font-family: inherit;">Here is a <a href="https://www.reddit.com/r/Ultralight/comments/i023nd/ultralight_food_performance_nutrition_for/fzp0gf3/" target="_blank">follow-up comment</a> on what that might look like in practice:</span></p><p class="_1qeIAgB0cPwnLhDF9XSiJM" style="background-color: white; border: 0px; color: #1a1a1b; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; padding: 0.8em 0px 0.25em; vertical-align: baseline;"><span style="font-family: inherit;">Breakfast - a 2-serving Backpacker's Pantry Granola, 1240 Cal, 34g protein</span></p><p class="_1qeIAgB0cPwnLhDF9XSiJM" style="background-color: white; border: 0px; color: #1a1a1b; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; padding: 0.8em 0px 0.25em; vertical-align: baseline;"><span style="font-family: inherit;">Trail Snacks - your average Kind bar ranks as Light or Very Light, runs close to a 4:1 ratio and has an average 5g protein per 200 Cal, extrapolate for 1000 Cal of same or similar to get another 25g protein</span></p><p class="_1qeIAgB0cPwnLhDF9XSiJM" style="background-color: white; border: 0px; color: #1a1a1b; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; padding: 0.8em 0px 0.25em; vertical-align: baseline;"><span style="font-family: inherit;">Recovery Shake - Gatorade Recover packet and a Starbucks Via, gives the right ratio for 370 Cal and 21g protein</span></p><p class="_1qeIAgB0cPwnLhDF9XSiJM" style="background-color: white; border: 0px; color: #1a1a1b; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; padding: 0.8em 0px 0.25em; vertical-align: baseline;"><span style="font-family: inherit;">Dinner - Mountain House Chicken &amp; Dumplings 2-serving pouch, 600 Cal and 33g protein</span></p><p class="_1qeIAgB0cPwnLhDF9XSiJM" style="background-color: white; border: 0px; color: #1a1a1b; font-family: &quot;Noto Sans&quot;, Arial, sans-serif; font-size: 14px; font-stretch: inherit; font-variant-east-asian: inherit; font-variant-numeric: inherit; line-height: inherit; margin: 0px; padding: 0.8em 0px 0.25em; vertical-align: baseline;"><br /></p></div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2020/07/25/teaching-sight-words.html">
            Teaching Sight Words
          </a>
        </h3>
        <span class="post-meta">Published on Jul 25, 2020</span>
        There are a lot of books on parenting. Before my daughter was born I read a book on pregnancy, one of those 500 pages texts from a high class place - Mayo Clinic or Harvard or something like that. It was helpful, but given I can't even remember the name, clearly not something that I considered life changing.<div><br /></div><div>However, after reading <a href="https://www.amazon.com/Thirty-Million-Words-Building-Childs-ebook/dp/B00SI02BHE" target="_blank">Thirty Million Words: Building a Child's Brain</a> I was all hyped up to drown my new kid in words. We travelled a lot when she was young, so didn't have a lot of books, but she sure had them read to her. When I took a year off as a stay-at-home-dad I kept having those 30 million words ticking in my mind. By the time she was 2 1/2 she was getting five books read to her a night. By the time she was around 3 1/2 she was listening to Amazon Story Time for an hour every evening.</div><div><br /></div><div>Also around 3 she started playing <a href="https://apps.apple.com/us/app/khan-academy-kids/id1378467217" target="_blank">Khan Kids</a>, and could play it for ages if I let her. There was no doubt that she enjoyed learning, and it was lovely to see her take each new step.</div><div><br /></div><div>She entered Kindy when she was about 4 1/2, so one of the younger kids. Her school was teaching them how to read by having them sound out words, look for clues, but also to just brute force a few 100 of the most frequently used words. These were called "sight words", and knowing them supposedly speeds up their comprehension for easier texts, which left more energy for the words they didn't know. Sounds good to me.</div><div><br /></div><div>Without getting into too much detail, the first part of the year was quite challenging for us. At one point I realised I wasn't really helping her as much with her school work as I could have, and while she certainly wasn't falling behind, I also knew she had extra potential that wasn't being explored.</div><div><br /></div><div>Given all this background, I started to take her sight words seriously. I bought a laminator and made her little flash cards, and put in place some low-fi&nbsp;<a href="https://en.wikipedia.org/wiki/Spaced_repetition" target="_blank">spaced repetition</a>, so she wouldn't need to go over 100s of easy words every day. This meant we could go over the "known" words on the weekend, and the less well known words over breakfast.</div><div><br /></div><div>The system works like this: a new sheet gets made and we play a little game where a subset of the cards gets put on the table, and I shout out a word. She finds the word, and we put it in the "learn" bag. Sometimes she knows it, and sometimes needs to sound it out.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgj_K68MBmpwxT2waW41XAw6j2FSwUtV_u7bQuOhCYhrtgEg9YegVuQ0N0jWKnBththUEW3Xt-n-Tv4yiSEHRQh1oYqZEPQcD3OUeycFnwg_CWBtzLAEuSqAMyAlOHrCyKDX2qeHQoknyp8/s640/IMG_4893.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img alt="Learning New Words" border="0" data-original-height="480" data-original-width="640" height="469" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgj_K68MBmpwxT2waW41XAw6j2FSwUtV_u7bQuOhCYhrtgEg9YegVuQ0N0jWKnBththUEW3Xt-n-Tv4yiSEHRQh1oYqZEPQcD3OUeycFnwg_CWBtzLAEuSqAMyAlOHrCyKDX2qeHQoknyp8/w625-h469/IMG_4893.jpeg" width="625" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Learning New Words<br /></td></tr></tbody></table><div><br /></div><div>This is pretty easy for her, for example, if I say "give" then she knows only one word starts with a "g", so chooses that. After doing this a few times we then go through the "learn" bag like normal flash words: I show the word, and let her say it back to me. If she gets it right a few times and clearly has instant recall, then it goes in the "young" bag.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjc5NQYQfgo36Y1dTMvcNn5m-FYoPjYgeQ8Hbwsq97MWxptuFDG8rAXd9CrDyXPTANxjavYTnaYk2tbLSr4BG_55hA7jBTY8olf0LRkLxe186msI0IOXVxPFnxMHwK5hPxgWPLhLx1aFz8C/s640/IMG_4892.jpeg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="480" data-original-width="640" height="469" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjc5NQYQfgo36Y1dTMvcNn5m-FYoPjYgeQ8Hbwsq97MWxptuFDG8rAXd9CrDyXPTANxjavYTnaYk2tbLSr4BG_55hA7jBTY8olf0LRkLxe186msI0IOXVxPFnxMHwK5hPxgWPLhLx1aFz8C/w625-h469/IMG_4892.jpeg" width="625" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Getting Mastery<br /></td></tr></tbody></table><div><br /></div><div>After she gets it right a few more times, then the card goes in the "mature" bag.</div><div><br /></div><div>We do the "learn" bag every breakfast, and the "young" bag every few breakfasts. We do the "mature" bag usually on the weekend or on a Monday morning. If she gets a word wrong, then it goes the other way (e.g. from "mature" back in to "young" or directly to "learn" again).</div><div><br /></div><div>I am really impressed with her school, as most of the kids in kindergarten seem like they can read. Although some of the kids know more sight words than her that's not the point; she has an easier time reading, and I sometimes hear her reading to herself in her room.</div><div><br /></div><div>One thing to note is that she gets no rewards for doing her sight words, but there are almost never any complaints. However, we do have an agreement that when she can read a "level 5" book, which I think is about a grade 4 book, then I will buy her a copy of Harry Potter and we will each read a copy. I can't wait!</div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2019/06/24/my-first-aid-kit-backpacking.html">
            My First Aid Kit (Backpacking)
          </a>
        </h3>
        <span class="post-meta">Published on Jun 24, 2019</span>
        <h2 style="text-align: left;">Background</h2><div><br /></div>I have two first aid kits: one that is in my bag when I go to work, and another when I go hiking. The one in my bag has more stuff in it, but overall the contents are pretty similar. In particular with the hiking kit I am only carrying what is likely to be used, items that cannot be improvised with what I can find, and items that I know how to use. It would be easy to <i>pack my fears</i>&nbsp;and include a&nbsp;tourniquet or triangle bandage or EpiPen, but if I allowed myself to fear that level of risk I would also wear a helmet while walking across crosswalks. The reality is I am much more likely to get blisters, minor cuts, and lots of sore muscles.<div><div><br /></div><h2 style="text-align: left;">Drugs</h2><div><br /></div><div>So, what's it in my kit? Let's start with the drugs.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi3V5DxeTIeYhvGDYEHLqhZnmzT0yQsIMDT5bPyN6J1AYXNk-80-BVQG-c-pP625AYbtJm28QtK90J7GKA__Xxg7MeqO8kPtg3pvUxAGrkjhDGW6IFjZYisBTrRF5y5fYbqWoGZlMdvRiUI/s4032/IMG_4728.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="3024" data-original-width="4032" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi3V5DxeTIeYhvGDYEHLqhZnmzT0yQsIMDT5bPyN6J1AYXNk-80-BVQG-c-pP625AYbtJm28QtK90J7GKA__Xxg7MeqO8kPtg3pvUxAGrkjhDGW6IFjZYisBTrRF5y5fYbqWoGZlMdvRiUI/w640-h480/IMG_4728.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Lots of drugs<br /></td></tr></tbody></table><div><br /></div><div>Pretty standard set of drugs I think. Here's why I have each in my kit:</div><div><br /></div><div><ul style="text-align: left;"><li>Paracetamol: normal headaches</li><li>Ibuprofen aka Vitamin I: aches and pains</li><li>Paracetamol + Ibuprofen: really bad headaches or pain</li><li>Telfast: itchies, but mainly for other people</li><li>Aspirin: heart attacks, but mainly for other people (very unlikely, but also weights nothing)</li><li>Gastro-stop: self-explanatory</li></ul><div>You will notice that I keep these in little coin bags with dosage and expiry. I have noticed people previously hiking with full bottles of each of these.</div></div><div><br /></div><h2 style="text-align: left;">Other Stuff</h2><div><br /></div><div>Let's move on to the other stuff.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj3AoTm19iwsD8h-FDNvaH3k3CSl1m17IQ6R4zZ7w81CiizXfmF2EsYDdLfgKDF3OUom1tlztXsgY0HVjJToml2IHBCjk4I1pF5MZPGGW9D7fEgdr5iIpIJ1f-95q_OIOAg2NkocqYRhdxF/s4032/IMG_4727.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="3024" data-original-width="4032" height="480" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj3AoTm19iwsD8h-FDNvaH3k3CSl1m17IQ6R4zZ7w81CiizXfmF2EsYDdLfgKDF3OUom1tlztXsgY0HVjJToml2IHBCjk4I1pF5MZPGGW9D7fEgdr5iIpIJ1f-95q_OIOAg2NkocqYRhdxF/w640-h480/IMG_4727.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">All the other stuff<br /></td></tr></tbody></table><div><br /></div><div>And to walk through this stuff left to right:</div><div><ul style="text-align: left;"><li>Tiny Westcott titanium sewing scissors with a set of tweezer wrapped in Velcro. Lighter than the smallest Swiss army knife, and more function on both items I might use. Tweezers are for both splinters and ticks.</li><li>Two sewing needles with some thread. Need better storage mechanism.</li><li>Some band-aids</li><li>Lots of Leukotape</li><li>Patch for inflatable</li><li>Patch for puffy or tent</li><li>One gauze pad</li><li>One Antibiotic gel</li><li>Some alcohol wipes</li><li>One antiseptic wipes</li></ul><div>I am always open to suggestions, but at this point I am not certain what else I would carry. I am contemplating getting rid of the gel/wipes, as I have never used them. The things I use most are the Leukotape, pain killers, and scissors. I am contemplating adding a snakebite kit if I go to more remote areas here in Australia, but if I was hiking in other countries I wouldn't bother.</div><div><br /></div></div></div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2019/06/02/overland-track-lighter-pack-tips.html">
            Overland Track Lighter Pack Tips
          </a>
        </h3>
        <span class="post-meta">Published on Jun 2, 2019</span>
        <h2 style="line-height: 1.5;">
Background</h2><div style="line-height: 1.5;"><br /></div>
My hiking companion and I recently completed the Overland Track in Tasmania, and she posted a picture of our packs on a related group on Facebook. There was an overwhelming response, ranging from <i style="line-height: 1.5;">good job!</i>&nbsp;to <i style="line-height: 1.5;">you're a liar</i>&nbsp;or <i style="line-height: 1.5;">you surely didn't have a tent</i>&nbsp;or <i style="line-height: 1.5;">you must be on a tour and didn't bring food</i>.<br />
<br />
I can understand the skepticism. Upon inspecting what people brought, and never used, there is definitely a preference for people to <i style="line-height: 1.5;">pack their fears</i>. Considering this track seemed to be the first time many people have done a multi-day backpacking trip, there were a lot of things they likely would not pack after gaining a little more experience.<div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">The consequences were very real. Most people had knee or foot problems by the time they reached Narcissus Hut, and I was one of only a few people able to hike out (~18km) when the ferry was cancelled (made it in about 3hr 45min and made my transport). One of my more lasting memories from the hike was stumbling on a couple hiking and one of the people being&nbsp;<i style="line-height: 1.5;">unable to cross a fallen tree because their bag was too heavy</i>, and their partner had to help push them up.<br />
<br />The track was likely especially scary for newcomers given the weather we encountered was "the worst so far this season", according to our track transport. A week before we went the weather was supposed to be six days of glorious 5 - 10 C temperatures with only a little drizzle. The night before we flew out of Sydney it was forecasted to snow 1 - 2 mm one of the days. The actual weather was non-stop rain or snow, temperatures ranging from -2 to 3 C, and we only saw blue sky once. Once. I don't remember ever seeing the sun from start-to-finish. It felt like we spent more time walking in streams or mud than on actual dry soil.<div style="line-height: 1.5;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="line-height: 1.5; margin-left: auto; margin-right: auto;"><tbody style="line-height: 1.5;"><tr style="line-height: 1.5;"><td style="line-height: 1.5; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhm0Mgrv8Ar92ho2go3BgsNLgOllPYRQxdt97y4g6FTnV-FqvWqmyabvABz86yCSC3KsIyQYysk_b9p89NeaHWOV8H9USe1KjyxOfF3usYH0oE6yYCECSnW0-YM3UMV1Uo8oKS4BCAoq0Mq/s2944/Overland.png" style="line-height: 1.5; margin-left: auto; margin-right: auto;"><img border="0" data-original-height="2640" data-original-width="2944" height="574" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhm0Mgrv8Ar92ho2go3BgsNLgOllPYRQxdt97y4g6FTnV-FqvWqmyabvABz86yCSC3KsIyQYysk_b9p89NeaHWOV8H9USe1KjyxOfF3usYH0oE6yYCECSnW0-YM3UMV1Uo8oKS4BCAoq0Mq/w640-h574/Overland.png" width="640" /></a></td></tr><tr style="line-height: 1.5;"><td class="tr-caption" style="line-height: 1.5; text-align: center;">The Overland Track. Plan ahead and say goodbye to mobile reception.</td></tr></tbody></table><div style="line-height: 1.5;"><br />Given we encountered just about the worst the trail could throw at us outside of winter, how do we know we brought just the right amount of stuff?</div><div style="line-height: 1.5;">
<br />
1) We were one of only two parties from our van transport that even stayed in our tent<br />
2) We never shivered a single time, nor did we think we were ever in any danger<br />
3) The ferry was cancelled when we rolled in to Narcissus Hut, so 16 extra people had to stay overnight; about five of them didn't have enough food, and we were the ones giving them food because we had plenty of food remaining (that said, we were also 1 1/2 days ahead of schedule)<br />
4) People routinely borrowed our lighter, as the&nbsp;piezo on their stove was broken<br />
5) We had hot meals every night, coffee twice a day, and still had fuel left over<br />
6) We let three people charge their phones at NH so they could sort out travel arrangements, as they didn't have a spare power bank<br />
<br />
<h2 style="line-height: 1.5;">
Suggestion From What We Saw</h2>
<div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">
Here's a list of things that we saw people bring, but with suggested substitutes that would reduce overall weight while not reducing safety or comfort. You might think "that's only 50g savings", but it all adds up. We had by far the lightest bags with a total pack weight of around 8 kg (with 1 litre of water), and the heaviest in our van was 23kg. Most were around 15kg.</div><div style="line-height: 1.5;"><br /></div>
<div style="line-height: 1.5;">
<h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">
Camp Shoes</font></h3><div style="line-height: 1.5;">
Seen Brought: 2nd pair of sneakers for camp shoes</div>
<div style="line-height: 1.5;">
Better: Crocs/Flip-Flops or hotel slippers</div>
<div style="line-height: 1.5;">
Best: Plastic bags</div>
<div style="line-height: 1.5;">
<br /></div>
<div style="line-height: 1.5;">
A lot of people brought a 2nd pair of sneakers just for walking around the huts. Many people were a little more wise and brought a lighter pair of Crocs (good for socks, but mine weight 349g) or flip-flops (mine weigh 155g), but I'd argue that hotel slippers (mine weigh just 39g) serve the same purpose. Or bring two bread bags and when you get to the hut take off your wet socks, put them immediately on or near the heater, put on your sleep socks, and put on bread bags on top of them. You can then wear your wet shoes without getting your sleep socks wet.</div><div style="line-height: 1.5;"><br /></div>
<h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">
Fresh Fruit / Veggies</font></h3><div style="line-height: 1.5;">
Seen Brought: Fresh Fruit/Veggies</div>
<div style="line-height: 1.5;">
Better: Dried fruit / dehydrated veggies</div>
<div style="line-height: 1.5;">
Best: None</div>
<div style="line-height: 1.5;">
<br /></div>
<div style="line-height: 1.5;">
Feel free to bring a fresh apple for lunch the first day, but fresh fruit is extremely heavy for the calories they provide. We saw people four days in giving away cucumbers / zucchini. To put this in perspective, 100g of cucumbers have 72 calories vs. 100g of peanut m&amp;m have 516 calories.</div><div style="line-height: 1.5;"><br /></div><h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">
Tinned Food</font></h3><div style="line-height: 1.5;">
Seen Brought: Cans of tuna</div>
<div style="line-height: 1.5;">
Better: Starkist tuna packets</div>
<div style="line-height: 1.5;">
Best: Jerkey or biltong or just nuts or peanut butter m&amp;m</div>
<div style="line-height: 1.5;">
<br /></div>
<div style="line-height: 1.5;">
On my first multi-day hike several years ago with this hiking companion my shopping instructions where: if it has to cook, then it needs to be able to be done in less than 3 minutes, and no cans or jars of anything. Bringing in a can of tuna, which isn't even that calorie dense to begin with, means you have to keep carrying that tin your entire hike. If you must bring in a tuna packet, but do a little research, as you can save significant weight by paying attention to the food you bring. Please see <a href="https://andrewskurka.com/the-5000-calories-per-day-wilderness-diet/" style="line-height: 1.5;" target="_blank">Skurka's post</a>&nbsp;for some overall tips, and then over at <a href="https://www.greenbelly.co/pages/best-high-calorie-backpacking-foods" style="line-height: 1.5;" target="_blank">Greenbelly</a> for some actual food/weight breakdown. Please see below for our food breakdown. We deviated a little bit in what we ended up buying in TAS (e.g. no banana chips), but it was plenty. If you have the time, and like planning, then consider doing the same. Alternatively, and this is the guideline I follow if I do not intend to do much planning, then try to buy food at Woolies or Coles that is as close to 2000kJ per 100g as possible.</div><div style="line-height: 1.5;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="line-height: 1.5; margin-left: auto; margin-right: auto;"><tbody style="line-height: 1.5;"><tr style="line-height: 1.5;"><td style="line-height: 1.5; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnAZ7YTMY2IPOiJ9Rp9vP2TD50Y2IqEgzXPuhDdkytuSLqqN5k0n2jnTy0FJBmkvD4rjvrSzzbNifYGTB9564QNDi_5x-jS8RpOchUDGeMqw3MKc80qB6heI5_Wp09ue3Qen4huqah9gdA/s2028/Food.png" style="line-height: 1.5; margin-left: auto; margin-right: auto;"><img border="0" data-original-height="1180" data-original-width="2028" height="372" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnAZ7YTMY2IPOiJ9Rp9vP2TD50Y2IqEgzXPuhDdkytuSLqqN5k0n2jnTy0FJBmkvD4rjvrSzzbNifYGTB9564QNDi_5x-jS8RpOchUDGeMqw3MKc80qB6heI5_Wp09ue3Qen4huqah9gdA/w640-h372/Food.png" width="640" /></a></td></tr><tr style="line-height: 1.5;"><td class="tr-caption" style="line-height: 1.5; text-align: center;">Initial food planning for two<br /></td></tr></tbody></table><div class="separator" style="clear: both; line-height: 1.5; text-align: center;"><br /></div><div style="line-height: 1.5;"><br /></div><h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">Tools / Kitchen Stuff</font></h3><div style="line-height: 1.5;">Seen Brought: Small cast iron skillet, hunting knives</div><div style="line-height: 1.5;">Better: Not a cast iron skillet</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">A lot of people were cooking pretty elaborate meals, which is pretty impressive. They also brought four pans and three canisters of fuel. I hesitate making recommendations on food, but I'd probably suggest getting some dehydrated meals from Snowys a few weeks in advance, and you won't need all those pots and pans. Another nice thing is you can use the package as a container, so one less bowl to bring and clean. Bring one spoon with a long handle (sporks might sound nice, but if you're eating cous cous or something small, then you can't easily scoop it up, and I would hesitate that you might pop a hole in a dehydrated bag).</div><div style="line-height: 1.5;"><br /></div>
</div>
<h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">
Duplicate Clothing / Cotton</font></h3><div style="line-height: 1.5;">
Seen Brought: "I'm wearing four fleeces" or duplicates of every item</div>
<div style="line-height: 1.5;">
Best: <a href="https://andrewskurka.com/2015/backpacking-core-clothing-thirteen-3-season-conditions/" style="line-height: 1.5;" target="_blank">Skurka's Core 13</a></div>
<div style="line-height: 1.5;">
<br /></div>
<div style="line-height: 1.5;">
TAS Parks provides a list of minimum gear that you need to bring, but I don't think you need to bring more than what is on it. Even better would be to read the article by Andrew Skurka on the Core 13 items he suggests you bring. We surprisingly saw quite a bit of cotton shirts / pants being worn, which was a surprise.</div><div style="line-height: 1.5;"><br /></div>
<h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">
Big Trowel</font></h3><div style="line-height: 1.5;">
Seen Brought: Metal garden trowels</div><div style="line-height: 1.5;">Better: Deuce of spaces</div><div style="line-height: 1.5;">Best: Nada</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">I typically carry a 'deuce of spades' on any overnight, but in the case of the Overland, if doing it again, I'd probably skip bringing it. There are toilets at every site, and the ground was pretty moist, so digging a cat hold wouldn't be a problem.</div><div style="line-height: 1.5;"><br /></div><h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">Water</font></h3><div style="line-height: 1.5;">Seen Brought: People carrying 5L of water</div><div style="line-height: 1.5;">Better: 2L</div><div style="line-height: 1.5;">Best: 1L + Sawyer Squeeze (filter)</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">When we went there was water everywhere, like, it felt like most of our time was walking in streams. If you aren't in a stream, then you are no more than 1km away from crossing some stream. Our van driver / ex-guide said she didn't filter often, but for some reason I have a fear of water, so I tend to always filter unless high up in the mountains. I brought a 1L balance water bottle and a filter, and never once needed more than that. Most of the time I just filtered at the huts and filled up there.</div><div style="line-height: 1.5;"><br /></div><h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">First Aid Kits</font></h3><div style="line-height: 1.5;">Seen Brought: 1kg kits from Big W</div><div style="line-height: 1.5;">Better: make it yourself</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">It seems like quite a few people thought "huh, I need a FAK, I'll get the next one I see" and end up with something that has a million bandaids and big gauze pads, but nothing you actually need. You can <a href="https://www.kelvinism.com/2019/06/my-first-aid-kit-backpacking.html" style="line-height: 1.5;" target="_blank">see what is in my FAK</a>, which probably still has too many wipes, but I can deal with the most common issues: blisters, and soreness. It weights about 60g / 2oz.</div><div style="line-height: 1.5;"><br /></div><h3 style="line-height: 1.5; text-align: left;"><font size="5" style="font-weight: normal; line-height: 1.5;">Books</font></h3><div style="line-height: 1.5;">Seen Brought: several hardback books</div><div style="line-height: 1.5;">Better: Kindles</div><div style="line-height: 1.5;">Best: skip books and chat with people or Audible</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">One lady opened her bag and pulled out <i style="line-height: 1.5;">multiple</i>&nbsp;books, read for 20 minutes, then chatted with people. Bring a kindle. Or realise it is only 4 - 6 days, and leave the books at home and chat with people. I tend to load up my phone with books on Audible or podcasts.</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;"><h2 style="line-height: 1.5;">We Wish We Brought...</h2></div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">You can read above that we had planned more for the experience than most people, and we have done several other multi-day hikes previous. I am immensely glad I read one of Ray Jardin's books back in ~2002 to learn how to prepare for backpacking and stop packing my fears.</div><div style="line-height: 1.5;"><br /></div><div style="line-height: 1.5;">There wasn't much we wish we would have brought, except for perhaps some type of mittens that would have blocked the wind. When hiking on the ridges the temperature ended up dropping significantly, and when combined with the wind, it made my hands quite cold. We kept moving and that kept us generating heat, but stopping on a ridge would have been uncomfortable.</div><div style="line-height: 1.5;"><br /></div>
</div></div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2018/05/26/ys-and-i-recently-purchased-echo-from.html">
            IoT Foray with Sonoff S20 / IFTTT / Lambda / CloudMQTT
          </a>
        </h3>
        <span class="post-meta">Published on May 26, 2018</span>
        I recently purchased an Echo from Amazon, and we were contemplating how else to better integrate it with our somewhat minimalistic home. I thought it would be interesting to get it to link to a WiFi-enabled power outlet, but unfortunately they are pretty expensive in Australia.<br />
<br />
Then I stumbled across the <a href="http://sonoff.itead.cc/en/" target="_blank">Sonoff</a>&nbsp;devices by Itead, and learned that they were somewhat hackable via a <a href="https://github.com/arendst/Sonoff-Tasmota" target="_blank">custom firmware</a>. Coincidentally I received the two devices on the same day my daughter was off sick, so when she had her nap, I got hacking.<br />
<br />
The first bottleneck was discovering that the units I received did not have any headers. A little quick soldering later, and we had headers.<br />
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzXxcHLSh3p-9YEHjtC6rnj6mJO17whJj92HUsJts2ZxD9umE7b7Rb-KUL6yFe2Ppu3ckOaoFhBmDr5yX915j97AKICugRNSOTQ-RI9dK90n6zR9J_0HnftlSFtzP-tXW0o7Q0pCrdWL1K/s1600/20180502_200103.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="900" data-original-width="1600" height="360" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjzXxcHLSh3p-9YEHjtC6rnj6mJO17whJj92HUsJts2ZxD9umE7b7Rb-KUL6yFe2Ppu3ckOaoFhBmDr5yX915j97AKICugRNSOTQ-RI9dK90n6zR9J_0HnftlSFtzP-tXW0o7Q0pCrdWL1K/s640/20180502_200103.jpg" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">No headers mom :(</td></tr>
</tbody></table>
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgxcIKHmY3Z3RMOShYMEGg92Tyd9QG6ENDpfn7QiDMiUtLbWhkm8smrsGYHTc7wNlkGv0f8T760LOqsISTPu7XEVetkuuIuzGOpqWQkjFOmUVo8mAyMBFju8GHWN-VLs1mCPzvdpNogJhd9/s1600/20180502_163741.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="900" data-original-width="1600" height="360" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgxcIKHmY3Z3RMOShYMEGg92Tyd9QG6ENDpfn7QiDMiUtLbWhkm8smrsGYHTc7wNlkGv0f8T760LOqsISTPu7XEVetkuuIuzGOpqWQkjFOmUVo8mAyMBFju8GHWN-VLs1mCPzvdpNogJhd9/s640/20180502_163741.jpg" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Now we have headers!</td></tr>
</tbody></table>
A few notes of warning: the $2 programmer I got from AliExpress has 3.3v and 5v, but the <i>output</i>&nbsp;is 5v. I'm glad I measured it with my multimeter, and used a random 3.3v breadboard supply instead.<br />
<br />
In hindsight I wish I had just purchased the <a href="https://www.itead.cc/foca.html" target="_blank">FTDI programmer</a> from Itead. It looks pretty neat.<br />
<br />
After following the rest of the Tasmoto <a href="https://github.com/arendst/Sonoff-Tasmota/wiki/Sonoff-S20-Smart-Socket" target="_blank">hardware instructions</a>, and then the <a href="https://github.com/arendst/Sonoff-Tasmota/wiki/Upload" target="_blank">PlatformIO instructions</a>, I was able to successfully flash both my units with the custom firmware.<br />
<br />
I then created a Lambda function that sends a signal to CloudMQTT, and connected the two devices.<br />
<br />
Voila!<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<iframe allowfullscreen="" class="YOUTUBE-iframe-video" data-thumbnail-src="https://i.ytimg.com/vi/r0aE5gpFUtU/0.jpg" frameborder="0" height="532" src="https://www.youtube.com/embed/r0aE5gpFUtU?feature=player_embedded" width="640"></iframe><br />
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/12/13/geocoding-photos-mac.html">
            Geocoding Photos (Mac)
          </a>
        </h3>
        <span class="post-meta">Published on Dec 13, 2014</span>
        I've recently started using OSX (again), and am really enjoying it (again). One Windows-only tool that I found really useful is&nbsp;<a href="http://www.geosetter.de/en/" target="_blank">Geosetter</a>, which allows you to add geo coordinates into photos. There don't appear to be any free geocoding tools that work to my satisfaction to do this, so the next best thing was geocode like you would using Linux. Here's how.<br />
<br />
We're going to use the command line program <a href="http://www.sno.phy.queensu.ca/~phil/exiftool/" target="_blank">ExifTool</a> (by Phil Harvey) to extract coordinates from a gpx file and embed them in a directory of images.<br />
<br />
Firstly, install exiftool using <a href="http://brew.sh/" target="_blank">brew</a>. Here's the command:<br />
<br />
<pre class="brush: plain; light: true; ">brew install exiftool
</pre>
<br />
Copy the gpx files into your image directory and initiate the sync with the geotag flag:<br />
<br />
<pre class="brush: plain; light: true; ">exiftool -geotag=gpslog2014-12-10_212401.gpx ./
</pre>
<br />
It is possible to also specify multiple gpx files (e.g. multiple day trip):<br />
<br />
<pre class="brush: plain; light: true; ">exiftool -geotag=gpslog2014-12-10_212401.gpx -geotag=gpslog2014-12-07_132315.gpx -geotag=gpslog2014-12-08_181318.gpx -geotag=gpslog2014-12-10_073811.gpx ./
</pre>
<br />
And finally, you can include a time offset with the geosync flag. For instance, I had an 11-hour (39600 seconds) difference due to a timezone hiccup with my new camera, so we can get rid of that:<br />
<br />
<pre class="brush: plain; light: true; ">exiftool -geotag=gpslog2014-12-10_212401.gpx -geotag=gpslog2014-12-07_132315.gpx -geotag=gpslog2014-12-08_181318.gpx -geotag=gpslog2014-12-10_073811.gpx -geosync=39600 ./
</pre>
<br />
It will process the images, renaming the original with an ".original" extension, and give you a report at the end:<br />
<br />
<pre class="brush: plain; light: true; ">1 directories scanned
193 image files updated
83 image files unchanged
</pre>
<br />
If your camera is set to GMT, then put all the GPX files in the same directory as the photos to geocode, and do this:<br />
<br />
<pre class="brush: plain; light: true; ">TZ=GMT exiftool -geotag "*.gpx" *.jpg
</pre>
<br />
For any additional manual geocoding I fallback on <strike>Picasa's Places</strike>&nbsp;<a data-jsbanchorprepared="DbMHD3VqBP0TPju" href="http://www.snafu.org/GeoTag/" target="_blank">GeoTag</a>&nbsp;to add the coordinates.<br />
<br />
If you have Lightroom, then try doing a search for a suitable ExifTool Lightroom plugin, as there seem to be a few.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/11/01/snap-ci-deploy-to-openshift.html">
            Snap-CI Deploy to OpenShift
          </a>
        </h3>
        <span class="post-meta">Published on Nov 1, 2014</span>
        There are some wonderful <a href="http://www.thoughtworks.com/continuous-integration" target="_blank">CI</a> / <a href="http://www.thoughtworks.com/continuous-delivery" target="_blank">CD</a>&nbsp;tools out there right now, and some of them have very usable free tiers. A few good examples include <a href="https://www.shippable.com/" target="_blank">Shippable</a>, <a href="http://wercker.com/" target="_blank">Wercker</a>, <a href="http://www.cloudbees.com/products/dev" target="_blank">CloudBees,</a> and <a href="https://www.snap-ci.com/" target="_blank">Snap-CI</a>. There are others, of course, but these all allow at least one private project to get started.<br />
<br />
I have recently moved my projects to Snap, and my hack for the day needed to be deployed to OpenShift. Although Snap has built in integrations for some providers, no such integration currently exists for OpenShift (yet!). However, it takes less than 10 minutes to configure a Deploy step to OpenShift, and here's how.<br />
<br />
<b>Add SSH Keys</b><br />
<b><br />
</b> You will need to add your private SSH key (i.e. id_rsa) to Snap, and your public key to OpenShift (i.e. id_rsa.pub)<br />
<br />
You can create the keys on another machine with the ssh-keygen command, and copy them into them into the corresponding places. In OpenShift, this is under Settings -&gt; Add a new key. Once open, paste in the contents of your id_rsa.pub key<br />
<br />
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmL4dE8VgbPKgFDflwiA3-oPHDGrFOd78PatxOxxjTH-j2r5HTmgKlelJpZbVN-9ye1dENz4GQSnIIKqDP0WzlXBbzMFluNn_U3s_z98W4iRYVVKp1PEwW1NDAGFe604gFoSRRnMj-C2uq/s1600/openshift.tiff" imageanchor="1"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmL4dE8VgbPKgFDflwiA3-oPHDGrFOd78PatxOxxjTH-j2r5HTmgKlelJpZbVN-9ye1dENz4GQSnIIKqDP0WzlXBbzMFluNn_U3s_z98W4iRYVVKp1PEwW1NDAGFe604gFoSRRnMj-C2uq/s320/openshift.tiff" /></a><br />
<br />
<div class="clear">
<br /></div>
<br />
In Snap, edit your configuration, navigate to your Deploy step, and look for "Secure Files" and "Add new"<br />
<br />
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjnLe0T3zGNxp5K4gbrAXmVBJBLDM88nxeuifqbu4ssmcUYUOsv3ZdKnekpLIle3l6GRblomcU-q0q4o4GcWRHStJs4PCvGI7100RKNLpc9j0mHaKsD-R3iV_TV33KmBab1rhtS_IL1oYdA/s1600/AddFiles.tiff" imageanchor="1"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjnLe0T3zGNxp5K4gbrAXmVBJBLDM88nxeuifqbu4ssmcUYUOsv3ZdKnekpLIle3l6GRblomcU-q0q4o4GcWRHStJs4PCvGI7100RKNLpc9j0mHaKsD-R3iV_TV33KmBab1rhtS_IL1oYdA/s320/AddFiles.tiff" /></a><br />
<br />
<div class="clear">
<br /></div>
<br />
Get the content of the id_rsa key you generated earlier and post it in the content box. It should look like this, with "/var/go" as the file location, except with a real key:<br />
<br />
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgA8Ox5iz27x-HNT2QVWG8prydd6lMfbcrDa6YPAkU8zTSECO0ZDK_4e4KLP_-1zPt8dtRVPQPgP6hWMmffFPEmTmci13SBYL2azquQkelAouMa-s9xsmVqCLDCz_Yfthh4Zz53TsbJ9BNF/s1600/AddIdRSA.tiff" imageanchor="1"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgA8Ox5iz27x-HNT2QVWG8prydd6lMfbcrDa6YPAkU8zTSECO0ZDK_4e4KLP_-1zPt8dtRVPQPgP6hWMmffFPEmTmci13SBYL2azquQkelAouMa-s9xsmVqCLDCz_Yfthh4Zz53TsbJ9BNF/s400/AddIdRSA.tiff" /></a><br />
<br />
<div class="clear">
<br /></div>
<br />
<b>Enable Git Push from Snap</b><br />
<br />
If you've used ssh much, you are probably aware that that you can specify an identify file with the "-i" flag. The git command has no such flag, yet, but we can create a simple bash script that emulates this (script courtesy of <a href="http://alvinabad.wordpress.com/2013/03/23/how-to-specify-an-ssh-key-file-with-the-git-command/">Alvin Abad</a>).<br />
<br />
Add another New File in Snap and paste in the below script:<br />
<br />
<pre class="brush: plain; light: true; ">#!/bin/bash</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/07/02/solved-slow-build-times-from.html">
            Solved: slow build times from Dockerfiles with Python packages (pip)
          </a>
        </h3>
        <span class="post-meta">Published on Jul 2, 2014</span>
        I have recently had the opportunity to begin exploring <a href="http://www.docker.com/">Docker</a>, the currently hip way to build application containers, and I generally like it. It feels a bit like using Xen back in 2005, when you still had to download it from&nbsp;cl.cam.ac.uk, but there is <i>huge</i>&nbsp;momentum right now. I like the idea of breaking down each component of your application into unique services and bundling them up - it seems clean. The next year is going to be very interesting with Docker, as I am especially looking forward to seeing how Google's App Engine allows Docker usage, or what's in store for the likes of Flynn, Deis, CoreOS, or Stackdock.<br />
<div>
<br /></div>
<div>
One element I had been frustrated with is the build time of my image to host a Django application I'm working on. I kept hearing these crazy low rebuild times, but my container was taking ages to rebuild. I noticed that it was cached up until I re-added my code, and then pip would reinstall all my packages.</div>
<div>
<br /></div>
<div>
It appeared as though anything after I used ADD for my code was being rebuilt, and reading online seemed to confirm this. Most of the items were very quick, e.g. "EXPOSE 80", but then it hit "RUN pip -r requirements.txt"</div>
<div>
<br /></div>
<div>
There are various documented ways around this, from two Dockerfiles to just using packaged libraries. However, I found it easier to just use multiple ADD statements, and the good Docker folks have added caching for them. The idea is to ADD your requirements first, then RUN pip, and then ADD your code. This will mean that any code changes don't invalidate the pip cache.</div>
<div>
<br /></div>
<div>
For instance, I had something (abbreviated snippet) like this:</div>
<br />
<pre class="brush: plain; light: true; "># Set the base image to Ubuntu
FROM ubuntu:14.04</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/05/07/tls-module-in-saltstack-not-available.html">
            TLS Module In SaltStack Not Available (Fixed)
          </a>
        </h3>
        <span class="post-meta">Published on May 7, 2014</span>
        I was trying to install <a href="https://github.com/saltstack/halite">HALite</a>, the WebUI for <a href="http://www.saltstack.com/">SaltStack</a>, using the provided instructions. However, I kept getting the following errors when trying to create the certificates using Salt:<br />
<code><br />
'tls.create_ca_signed_cert' is not available.<br />
'tls.create_ca' is not available.</code><br />
<code><br /></code>
Basically, the 'tls' module in Salt simply didn't appear to work. The reason for this is detailed on <a href="http://intothesaltmine.org/install_and_configure_halite_alpha_on_arch_linux.html">intothesaltmind.org</a>:<br />
<br />
<i>Note: Use of the tls module within Salt requires the pyopenssl python extension.</i><br />
<br />
That makes sense. We can fix this with something like:<br />
<code><br />
apt-get install libffi-dev<br />
pip install -U pyOpenSSL<br />
/etc/init.d/salt-minion restart</code><br />
<code><br /></code>
Or, better yet, with Salt alone:<br />
<br />
<code>
salt '*' cmd.run 'apt-get install libffi-dev'<br />
salt '*' pip.install pyOpenSSL<br />
salt '*' cmd.run "service salt-minion restart"</code><br />
<code><br /></code>
The commands to create the PKI key should work now:<br />
<br />
<code>
Created Private Key: "/etc/pki/salt/salt_ca_cert.key." Created CA "salt": "/etc/pki/salt/salt_ca_cert.crt."<br />
</code></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/04/30/beers-of-myanmar.html">
            Beers of Myanmar
          </a>
        </h3>
        <span class="post-meta">Published on Apr 30, 2014</span>
        <div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEif7aRldJHf11iFGfj_pzfi2I6yMjdlUiqyVIM4axh4zsh6yITSFlguCWVt2JuulOXI-sOlspMs4rxoVPOsnrUriAhPs6eNN9sGamwL7GUKsVGem57gqYBtmSdv54YRqdEayrjiwQ9BpquD/s1600/IMG_20140423_082522.jpg" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><br /></a><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEif7aRldJHf11iFGfj_pzfi2I6yMjdlUiqyVIM4axh4zsh6yITSFlguCWVt2JuulOXI-sOlspMs4rxoVPOsnrUriAhPs6eNN9sGamwL7GUKsVGem57gqYBtmSdv54YRqdEayrjiwQ9BpquD/s1600/IMG_20140423_082522.jpg" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><br /></a><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEif7aRldJHf11iFGfj_pzfi2I6yMjdlUiqyVIM4axh4zsh6yITSFlguCWVt2JuulOXI-sOlspMs4rxoVPOsnrUriAhPs6eNN9sGamwL7GUKsVGem57gqYBtmSdv54YRqdEayrjiwQ9BpquD/s1600/IMG_20140423_082522.jpg" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="241" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEif7aRldJHf11iFGfj_pzfi2I6yMjdlUiqyVIM4axh4zsh6yITSFlguCWVt2JuulOXI-sOlspMs4rxoVPOsnrUriAhPs6eNN9sGamwL7GUKsVGem57gqYBtmSdv54YRqdEayrjiwQ9BpquD/s1600/IMG_20140423_082522.jpg" width="320" /></a></div>
While in Myanmar on a recent trip I did a brief taste comparison of the three main beers available in most supermarkets.<br />
<br />
<b><br /></b>
<b>Andaman</b>&nbsp;- Not to my taste, perhaps like XXXX, VB,&nbsp;Natural Light, or a light Steel Reserve.<br />
<b><br /></b>
<b>Myanmar</b>&nbsp;- Quite refreshing, a bit like similar beers in the region, e.g. Chang, Tiger, or Laos Beer.<br />
<br />
<b>ABC</b>&nbsp;- An extra stout (and 8%!) in such a hot country? That's a surprise.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/03/01/error-opening-devsda-no-medium-found.html">
            Error opening /dev/sda: No medium found
          </a>
        </h3>
        <span class="post-meta">Published on Mar 1, 2014</span>
        I have had this issue before, solved it, and had it again.<br />
<br />
Let's say you plug in a USB drive into a Linux machine, and try to access it (mount it, partition it with fdisk/parted, or format it), and you get the error<br />
<code><br />
Error opening /dev/sda: No medium found<br />
</code><br />
<br />
Naturally the first thing you will do is ensure that it appeared when you plugged it in, so you run 'dmesg' and get:<br />
<code><br />
sd 2:0:0:0: [sda] 125045424 512-byte logical blocks: (64.0 GB/59.6 GiB)<br />
</code><br />
<br />
And it appears in /dev<br />
<code><br />
Computer:~ $ ls /dev/sd*<br />
/dev/sda<br />
Computer:~ $<br />
</code><br />
<br />
Now what? Here's what has bitten me twice: make sure the drive has enough power. Let's say you mounted a 2.5" USB drive into a Raspberry Pi. The Pi probably doesn't have enough current to power the drive, but it <i>does</i>&nbsp;have enough to make the drive recognisable. Or, if you are like me, the USB charger powering the drive is faulty, so even though it has power, it doesn't have enough.<br />
<br />
The next troubleshooting step should be obvious: give the drive enough power to completely spin up.<br />
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2014/01/05/continuous-flow-through-worm-bin.html">
            Continuous Flow Through Worm Bin
          </a>
        </h3>
        <span class="post-meta">Published on Jan 5, 2014</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/11/28/free-splunk-hosting.html">
            Free Splunk Hosting
          </a>
        </h3>
        <span class="post-meta">Published on Nov 28, 2013</span>
        <div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhidCIsvAamk9SjeJxqIcMmNA_hjCUOzREgxQ3hJuSXhU4RIHXuQO6WXMZZ1Eu34jI3exx0F8JwVX4Fu2iO_jBIazNkArv21u4OSbo3GFY_YcTScbA_kC0u5p0iiE_YyhAOl85Ze-742pB6/s1600/SplunkOpenShift.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhidCIsvAamk9SjeJxqIcMmNA_hjCUOzREgxQ3hJuSXhU4RIHXuQO6WXMZZ1Eu34jI3exx0F8JwVX4Fu2iO_jBIazNkArv21u4OSbo3GFY_YcTScbA_kC0u5p0iiE_YyhAOl85Ze-742pB6/s1600/SplunkOpenShift.png" height="200" width="400" /></a></div>
I first used Splunk about 10 years ago after an old colleague&nbsp;installed it on a computer in the corner, and ever since then I have preached about it. If you have log data, of any kind, I'd recommend you give it a go.<br />
<div>
<br /></div>
<div>
The Splunk people have a a few pretty good options for trying Splunk out, as you can either use <a href="https://www.splunkstorm.com/" target="_blank">Splunk Storm</a>&nbsp;or Splunk Free. The first option is obviously hosted, and has a generous storage option, but also does not allow long term storage of data. I send system log data to Splunk Storm.</div>
<div>
<br /></div>
<div>
However, what if you don't have a lot of data, but you want to keep that data forever? After reading <span id="goog_1253560755"></span><a href="https://twitter.com/edrabbit" target="_blank">Ed Hunsinger<span id="goog_1253560756"></span>'s</a>&nbsp;<a href="http://blogs.splunk.com/2013/10/22/go-splunk-yourself/" target="_blank">Go Splunk Yourself</a>&nbsp;entry about using it for Quantified Self data, I knew I had to do the same.</div>
<div>
<br /></div>
<div>
From personal experience, Splunk requires <i>at least</i>&nbsp;1GB to even start. You can probably get it to run on less, but I haven't had much success. This leaves two options: look at <a href="http://lowendbox.com/" target="_blank">Low End Box</a>&nbsp;for a VPS with enough memory (as cheap as $5/month), of use <a href="https://www.openshift.com/" target="_blank">OpenShift</a>. Red Hat generously provides three "gears" to host applications, for free, and each with 1GB of memory. I have sort of a love-hate relationship with OpenShift, maybe a bit like using OAuth. Red Hat calls OpenShift the "Open Hybrid Cloud Application Platform", and I can attest that it is really this. They have provided a method to bundle an application stack and push it into production without needing to fuss about infrastructure, or even provisioning and management of the application. It feels like what would happen if Google App Engine and Amazon's EC2 had a child. Heroku or dotCloud might be its closest alternatives.</div>
<div>
<br /></div>
<div>
Anyways, this isn't a review of OpenShift, although it would be a positive review, but instead on how to use OpenShift to host Splunk. I first installed Splunk in a gear using Nginx as a proxy, and it worked. However, this felt overly complex, and after one of <a href="https://twitter.com/aeriadesign" target="_blank">my colleagues</a>&nbsp;started working on installing Splunk in a cartridge, I eventually agreed this would be the way to go. The result was a Splunk cartridge that can be installed inside any existing gear. Here are the instructions; you need an OpenShift account, obviously. The install should take less than ten clicks of your mouse, and one copy/paste.</div>
<div>
<br /></div>
<div>
From the <a href="https://github.com/kelvinn/openshift-splunk-cartridge" target="_blank">cartridge</a>'s GitHub README:</div>
<div>
<br /></div>
<div>
<ol>
<li>Create an Application based on existing web framework. If in doubt, just pick "Do-It-Yourself 0.1" or "Python 2.7"</li>
<li>Click on "Continue to the application overview page."</li>
<li>On the Application page, click on "Or, see the entire list of cartridges you can add".</li>
<li>Under "Install your own cartridge" enter the following URL: https://raw.github.com/kelvinn/openshift-splunk-cartridge/master/metadata/manifest.yml</li>
<li>Next and Add Cartrdige. Wait a few minutes for Splunk to download and install.</li>
<li>Logon to Splunk at: https://your-app.rhcloud.com/ui</li>
</ol>
<div>
<br /></div>
<div>
More details can be read on the cartridge's&nbsp;GitHub page, and I would especially direct you to the <a href="https://github.com/kelvinn/openshift-splunk-cartridge#limitations" target="_blank">limitations</a> of this configuration. This will all stop working if Splunk makes the installer file unavailable, but I will deal with that when the time comes. Feel free to alert me if this happens.</div>
</div>
<div>
<br /></div>
<div>
<br /></div>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/09/13/finding-same-misspelled-name-using.html">
            Finding The Same (Misspelled) Name Using Python/NLTK
          </a>
        </h3>
        <span class="post-meta">Published on Sep 13, 2013</span>
        I have been meaning to play around with the <a href="http://nltk.org/">Natural Language Toolkit</a>&nbsp;for quite some time, but I had been waiting for a time when I could experiment with it and actually create some value (as opposed to just play with it). A suitable use case appeared this week: matching strings. In particular, matching two different lists of many, many thousands of names. <br />
<br />
To give you an example, let's say you had two lists of names, but with the name spelled incorrectly in one list:<br />
<br />
List 1: <br />
Leonard Hofstadter<br />
Sheldon Cooper<br />
Penny<br />
Howard Wolowitz<br />
Raj Koothrappali<br />
Leslie Winkle<br />
Bernadette Rostenkowski<br />
Amy Farrah Fowler<br />
Stuart Bloom<br />
Alex Jensen<br />
Barry Kripke<br />
<br />
List 2:<br />
Leonard Hofstadter<br />
Sheldon Coopers<br />
Howie Wolowits<br />
Rav Toothrapaly<br />
Ami Sarah Fowler<br />
Stu Broom<br />
Alexander Jensen<br />
<br />
This could easily occur if somebody was manually typing in the lists, dictating names over the phone, or spell their name differently (e.g. Phil vs. Phillip) at different times.<br />
<br />
If we wanted to match people on List 1 to List 2, how could we go about that? For a small list like this you can just look and see, but with many thousands of people, something more sophisticated would be useful. One tool could be NLTK's edit_distance function. The following Python script displays how easy this is:<br />
<br />
<pre class="brush: python; light: true; ">import nltk</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/09/08/sydneys-education-levels-mapped.html">
            Sydney&#39;s Education Levels Mapped
          </a>
        </h3>
        <span class="post-meta">Published on Sep 8, 2013</span>
        I was talking to a friend about what education levels might look like across Sydney, and a friend challenged me to map it. The below map is my first draft.<br />
<br />
The map was derived by combining three datasets from the Australian Bureau of Statistics (<a href="http://www.abs.gov.au/">ABS</a>&nbsp;- a department releasing some great datasets). The first dataset was the spatial data for "SA2" level boundaries, the second the population data for various geographic areas, and the third from the 2011 Census on Non-School Qualification Level of Education (e.g. Certificates, Diplomas, Masters, Doctorates). I aggregated all people with bachelors or higher in an SA2 region, and then divided that number by the total number of people in that region. A different methodology could have been used.<br />
<br />
<b>EDIT</b>: I should have paid more attention to mapping education levels. I mapped the percentage of overall population, but should have mapped the percentage of 25 to 34 year olds, as this would have aligned to various government metrics.<br />
<br />
Reported education levels differ vastly by region, e.g. "North Sydney - Lavender Bay" (40%) vs. "Bidwell - Hebersham - Emerton" (3%). It is interesting to look at the different <a href="http://www.kelvinism.com/2013/07/mapping-urban-density-in-sydney.html">urban density levels</a> of the areas, as well as the <a href="http://www.kelvinism.com/2013/08/sydney-commute-times-mapped-part-2.html">commute times to the nearest centre</a>.<br />
<br />
Without trying to sound too elitist, I was hoping to use this map to guide me where to consider buying our next property (i.e. looking for a well educated, clean area with decent schools and frequent public transport). It was interesting to discover that the SA2 region we currently live in has the second highest percentage in NSW.<br />
<br />
Feel free to take a <a href="https://docs.google.com/spreadsheet/pub?key=0Ak3XfQfX87ELdEJRYVhIYlFRUGRZaDhQel9sbXlHY0E&amp;output=html">look at the aggregated data</a> yourself or <a href="https://docs.google.com/spreadsheet/pub?key=0Ak3XfQfX87ELdEJRYVhIYlFRUGRZaDhQel9sbXlHY0E&amp;single=true&amp;gid=0&amp;output=csv">download it</a>&nbsp;(attribution to ABS for source datasets).<br />
<br />
<iframe height="600px" src="http://maps.kelvinism.com/sydney_educated.html" width="650px"></iframe><br />
<a href="http://maps.kelvinism.com/sydney_educated.html" target="_blank">View Full Screen</a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/08/05/sydney-commute-times-mapped-part-2.html">
            Sydney Commute Times Mapped Part 2
          </a>
        </h3>
        <span class="post-meta">Published on Aug 5, 2013</span>
        In <a href="http://www.kelvinism.com/2013/07/sydney-commute-times-mapped-part-1.html">Sydney Commute Times Mapped Part 1</a>&nbsp;I took a small step to a bigger goal of mashing together public transport in Sydney, and the&nbsp;<a href="http://strategies.planning.nsw.gov.au/Portals/0/Documents/MetroCommunityGuide.pdf">Metropolitan Strategy for Sydney to 2031</a>. The question I wanted to answer is this: how aligned is Sydney's public transport infrastructure and the Metropolitan Strategy's of a "city of cities"?<br />
<br />
I decided to find out.<br />
<br />
Thanks to the release of GTFS data by 131500 it is possible to visualise how long it takes via public transport to commute to the nearest "centre".<br />
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhDc0IriO971A2BQ7F9Nu1zYVZ_uO5OEwv8n0Z9vpPB1IElGYMI0r5bzCah9UCv5fqNzthkaHnPFBN6Pd5PD32GL_xXUJDAYKvXdx3OK8DwtotghU_PDA_Mc_qWYa8gUEKiJxj8Uos4mYbk/s1600/CItyOfCities.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhDc0IriO971A2BQ7F9Nu1zYVZ_uO5OEwv8n0Z9vpPB1IElGYMI0r5bzCah9UCv5fqNzthkaHnPFBN6Pd5PD32GL_xXUJDAYKvXdx3OK8DwtotghU_PDA_Mc_qWYa8gUEKiJxj8Uos4mYbk/s1600/CItyOfCities.png" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Cities and Corridors -&nbsp;<a href="http://strategies.planning.nsw.gov.au/Portals/0/Documents/MetroCommunityGuide.pdf" style="font-size: medium; text-align: start;">Metropolitan Strategy for Sydney to 2031</a></td></tr>
</tbody></table>
<br />
The Australian Bureau of Statistics collects data based on "mesh blocks", or roughly an area containing roughly 50 dwellings. Last week I had some fun <a href="http://www.kelvinism.com/2013/07/mapping-mesh-blocks-with-tilemill.html">mapping the mesh blocks</a>, as well as looking at Sydney's <a href="http://www.kelvinism.com/2013/07/mapping-urban-density-in-sydney.html">urban densities</a>. These mesh blocks are a good size to look at for calculating commute times.<br />
<br />
The simplified process I used was this, for the technical minded:<br />
<br />
<ol>
<li>Calculate the centre of each mesh block</li>
<li>Calculate the commute time via public transport from each block to every "centre" (using 131500's GTFS and OpenTripPlanner's Analyst tool)</li>
<li>Import times in a database, calculate lowest commute time to each centre</li>
<li>Visualise in TileMill</li>
<li>Serve tiles in TileStache and visualise with Leaflet</li>
</ol>
<br />
The first map I created was simply to indicate how long it would take to the nearest centre. There appears to be rapidly poorer accessibility on the fringe of Sydney. I was also surprised of what appears to be a belt of higher times between&nbsp;Wetherill Park and all the way to Marrickville. There also appears to be poorer accessibility in <i>parts</i>&nbsp;of Western Sydney. It is worth noting that I offer not guarantee of the integrity of the data in these maps, and I have seen a few spots where the commute times increase significantly in adjacent mesh blocks. This tells me the street data (from OpenStreetMap) might not be connected correctly.<br />
<br />
<br />
<iframe height="600px" src="http://maps.kelvinism.com/syd_city_cities.html" width="650px"></iframe><br />
<a href="http://maps.kelvinism.com/syd_city_cities.html" target="_blank">View Full Screen</a><br />
<br />
My next map shows what areas are within 30 minutes.<br />
<br />
<iframe height="600px" src="http://maps.kelvinism.com/syd_city_cities_2.html" width="650px"></iframe><br />
<a href="http://maps.kelvinism.com/syd_city_cities_2.html" target="_blank">View Full Screen</a><br />
<br />
These maps were both created using open data and open source tools, which I find quite neat. In that spirit, I have exported the database (probably a bit hard for most to work with) to a Shapefile. You can open this in TileMill and experiment, if you wish. Download it from <a href="http://cdn.kelvinism.com/mb_2011_nsw_transport.zip">here</a>&nbsp;(note: 250MB zip file):<br />
<br />
I have been interested in mapping traffic for a number of years, maybe ever since arriving in Sydney. It is sort of a hobby; I find making maps relaxing. My first little map was way back in 2008, where I&nbsp;<a href="http://www.kelvinism.com/2008/04/baby-steps-at-graphing-traffic_522.html">visualised speed</a>&nbsp;from a GPS unit. A little later I added&nbsp;<a href="http://www.kelvinism.com/2008/04/another-baby-step_1340.html">some colour to the visualisations</a>, and then used this as an excuse to create a little&nbsp;<a href="http://www.kelvinism.com/2008/05/gui-to-plot-driving-speed_6997.html">GUI for driving speed</a>. My interest in visualising individual vehicles has decreased recently, as it has now shifted to the mapping wider systems. Have an idea you would like to see mapped? Leave a note in the comments.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/07/27/quantified-self-interview.html">
            Quantified Self Interview
          </a>
        </h3>
        <span class="post-meta">Published on Jul 27, 2013</span>
        YS and I were recently interviewed about self-tracking and Quantified Self by one of the major news channels in Australia. I will reflect on the experience after the show has aired, but it was an overall great experience. We have a new respect for filming what may ultimately be just a two minute segment. Depending on how the editing is done it will either provoke the hosts to contemplate the value of a data-centric macroscopic view of the world, or give them lots of fodder.<br />
<br />That said, as you would expect, I had to track my heart rate during the interview - see below. My interpretation is that my heart rate jumped at the start of every questions, and went down as I answered the question. It also dropped when the interview finished. I wish I had a more expensive heart rate monitor (e.g. Zephyr BioHarness or Scanadu) that tracked skin temperature and breathing. My hands felt cold by the end.<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiC9Rqg935yk28KMHOmsVtoQ6CL6UtLubOVrYphTiS1P09_9rGdtv3LSUmjE2TYOUWuhKNCITwG5ktH1R45mUXUYlUgaIVwPXHvdu29-uZF9lsD3y8Sb5dt6i9t7-a5CDg3esOtfkEINwLJ/s1600/HeartRateInterview.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiC9Rqg935yk28KMHOmsVtoQ6CL6UtLubOVrYphTiS1P09_9rGdtv3LSUmjE2TYOUWuhKNCITwG5ktH1R45mUXUYlUgaIVwPXHvdu29-uZF9lsD3y8Sb5dt6i9t7-a5CDg3esOtfkEINwLJ/s1600/HeartRateInterview.png" /></a></div>
.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/07/27/coffee-beer-wine-and-time-of-day.html">
            Coffee, Beer, Wine and Time of Day
          </a>
        </h3>
        <span class="post-meta">Published on Jul 27, 2013</span>
        One of the things I like Tableau, a piece of software to visualise data, is that it aggregates on dates really well. Below is a spread of beer / wine / coffee over 18 months, but grouped by what hour is fell in. You can see some trends, like I usually consume coffee in the morning, and that I usually drink after 17:00. There are exceptions, of course, like that beer I had at 10AM, and that coffee I had at 1AM.<br />
<br />
<br />
<a href="http://goo.gl/photos/3vl06vRYnl" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhF5CqYUKn1vo3qhGMkQ8UI-wLz6oYR4qLlazTmMESFyfplzT5cRPzhirjMFvlDdK7s_nh03v8x25E7S0ATH5-hB4lshN4DAYgK0vTTX7PH31hyqstUfqndZKwZyjDH5cNpY8tG98hJMAVy/s512/beerwinecoffee.png" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/07/25/some-qs-numbers.html">
            Some QS Numbers
          </a>
        </h3>
        <span class="post-meta">Published on Jul 25, 2013</span>
        There is the possibility I will be giving an interview on the <a href="http://en.wikipedia.org/wiki/Quantified_Self">Quantified Self</a> "movement". What follows is a brief summary of QS, the things I track, and some pretty charts.<br />
<br />
<b>What is Quantified Self</b><br />
<br />
I suppose it depends on who you talk to. Wikipedia states that it is "a movement to incorporate technology into data acquisition on aspects of a person's daily life in terms of inputs", but I side more on the idea that the movement is "a collaboration of users and tool makers who share an interest in self knowledge through self-tracking." It is at this point that it is probably important to interject that most people are self-trackers: weight, height, reps at the gym, hours worked, and so forth. If you have ever made a goal, you probably tracked how you could reach it. What makes us QS folk a bit different is that we tend to track <i>lots</i> of things, correlate between them, and share our results. So, with this theme, let me share what I track.<br />
<br />
<b>What I Track, and How</b><br />
<br />
This is a list of some of the things I track, and the tools I use to do so.<br />
<br />
<ul>
<li>Weight / Body Fat / Temperature / Measurements -&gt; scales, callipers, ear thermometer</li>
<li>Resting Heart Rate&nbsp;-&gt;&nbsp;oximeter</li>
<li>Drinks (wine, beer, coffee – and previously water)&nbsp;-&gt;&nbsp;Android app (bespoke)</li>
<li>Drugs and vitamins&nbsp;-&gt;&nbsp;Android app (bespoke)</li>
<li>Various conditions (headaches, “colds”, itchiness, nausea, sore throats, “the runs”)&nbsp;-&gt; Android app (bespoke)</li>
<li>Finances (family)&nbsp;-&gt;&nbsp;Android app (TOSHL)</li>
<li>Start/Stop times of work&nbsp;-&gt;&nbsp;Excel…</li>
<li>Mood (Terrible to Great)&nbsp;-&gt;&nbsp;Android app (How Are You Feeling)</li>
<li>Indoor air quality (not really QS)&nbsp;-&gt;&nbsp;various sensors</li>
<li>Computer activity (Keystrokes / mouse clicks / mouse movement)&nbsp;-&gt;&nbsp;WorkRave</li>
<li>Location&nbsp;-&gt;&nbsp;Google Latitude</li>
<li>Steps &amp; sleep&nbsp;-&gt;&nbsp;Fitbit</li>
<li>Fitness --&gt;&nbsp;Android app (Sports Tracker) and a Zephyr Bluetooth Heart Rate Monitor</li>
<li>Health History&nbsp;-&gt;&nbsp;Microsoft HealthVault</li>
<li>Photo every day -&gt; Android app (PhotoChron)</li>
</ul>
<div>
You can see that this list seems <i>utterly normal</i>, but still gives me enough to work with to start forming a <a href="http://aether.com/themacroscope" target="_blank">macroscopic</a> view of life.</div>
<div>
<br /></div>
<div>
<b>A Few Charts</b></div>
<div>
<b><br />
</b></div>
<div>
I created these using Tableau, a fabulous piece of software for putting meaning behind numbers. These are not good examples of what the software is capable of, but it is the quickest way for me to visualise them.</div>
<div>
<br /></div>
<div>
I like coffee. It is, in all honesty, a drug. There have been times (I could probably find the date!) when I went from two cups a day to none, and I had withdrawals (headaches and nausea). I track the amount of coffee I consume to remind myself to not get into the habit of having two cups/day for too long. It is also bad for my stomach.</div>
<div>
<br /></div>
<div>
If I chart the days of the week I like to drink coffee over the last 18 months, it turns out I drink the most amount of coffee on <i>Saturday</i>.&nbsp;</div>
<div>
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEizhWBMSzyyjd6pBQIO6Xl_HxHDrs0FL1BrTR0cCaiA5m13VPD6aA9Z5jtnAcnd_InEad5Hc2ea3RL5-jJFfONPXXi4LeYSRRX1q0ImuM-d4zgEUJ4kR9_mcNr1a0FD3TDH8x-1zT0NL8w9/s1600/Coffees+Consumed.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEizhWBMSzyyjd6pBQIO6Xl_HxHDrs0FL1BrTR0cCaiA5m13VPD6aA9Z5jtnAcnd_InEad5Hc2ea3RL5-jJFfONPXXi4LeYSRRX1q0ImuM-d4zgEUJ4kR9_mcNr1a0FD3TDH8x-1zT0NL8w9/s400/Coffees+Consumed.png" width="362" /></a></div>
<div>
<br /></div>
<br />
<br />
<div class="clear">
</div>
<div>
<br /></div>
<div>
&nbsp;I also enjoy an alcoholic drink from time to time, but was told in January to cut back (for my stomach's sake).</div>
<div>
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjR5ykT5bhy_ad8S8JoI6EUQ0RCzM2gZ5s5tW5un-KLyHDmgN36wHpK6jMpnp48Xivsr6A419_mGIalt3JH0f765uTe1tPNwf4dwFFy4eR0F0cI5hc5KwKrqRiuVb5IzWfvvSTa-5JeCW60/s1600/DrinksPerMonth.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjR5ykT5bhy_ad8S8JoI6EUQ0RCzM2gZ5s5tW5un-KLyHDmgN36wHpK6jMpnp48Xivsr6A419_mGIalt3JH0f765uTe1tPNwf4dwFFy4eR0F0cI5hc5KwKrqRiuVb5IzWfvvSTa-5JeCW60/s640/DrinksPerMonth.png" width="640" /></a></div>
<div>
<br /></div>
<br />
<div class="clear">
</div>
I track both beer and wine consumption. I have managed to cut back on wine, but not so much on beer.<br />
<br />
<div>
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYLivknCrrbpipLuzJ3PzD2PQ0ybjrYtauWcccp-n84eW7EkRVQ1NEMrjKBK5z1Fn_7cObH7jrw8EKENoMLiGjYQGXfLfMM2ExURZvOIOnMoolGExYLmgG5uvck6YM5q0mZYGh6JJfRf__/s1600/WineVsBeer.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="332" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYLivknCrrbpipLuzJ3PzD2PQ0ybjrYtauWcccp-n84eW7EkRVQ1NEMrjKBK5z1Fn_7cObH7jrw8EKENoMLiGjYQGXfLfMM2ExURZvOIOnMoolGExYLmgG5uvck6YM5q0mZYGh6JJfRf__/s400/WineVsBeer.png" width="400" /></a></div>
<div>
<br />
<div class="clear">
</div>
<br /></div>
This can be explained because I tend to have beer when I go out with work colleagues or friends, but wine at home. It appears to have been easier to stop drinking with dinner than when out.<br />
<div>
<br /></div>
<div>
For the last two years I have been wearing a <a href="http://www.fitbit.com/" target="_blank">FitBit</a>, usually, and using it to "track" my sleep.</div>
<div>
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhhS2LBzZFHnIDgkYNEP_eRfl1Bbsh5Hs3TiSenJzRIAvWPDnGRW6wc3dpS38XK7FFCGvlFAqyW5dVGiBsuFHlWXdShzo-g3MxpGnShMWr80QXnkyXTcmK9GXL9I0a3l4iT2SRAvgdHL7i-/s1600/StepsPerWeek.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="265" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhhS2LBzZFHnIDgkYNEP_eRfl1Bbsh5Hs3TiSenJzRIAvWPDnGRW6wc3dpS38XK7FFCGvlFAqyW5dVGiBsuFHlWXdShzo-g3MxpGnShMWr80QXnkyXTcmK9GXL9I0a3l4iT2SRAvgdHL7i-/s400/StepsPerWeek.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<br />
<div class="clear">
</div>
It looks like I averaged about 7500 steps/day, yet started walking more in January of this year. Walking more was not a New Year's Resolution. In May I broke the clip to my FitBit, but a friend was kind enough to give me their's as a replacement. I should walk more.<br />
<div class="separator" style="clear: both; text-align: left;">
<br /></div>
<div class="separator" style="clear: both; text-align: left;">
I should also sleep more. It appears as though maybe, just maybe, I am starting to sleep more. My average is about 7.5hr/night. This is one area I would like to experiment more with.</div>
<div class="separator" style="clear: both; text-align: left;">
<br /></div>
<div class="separator" style="clear: both; text-align: left;">
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhcuFmtvrfu2PrU7u50G8mZiI5BQKlBwrxH4VZW2gxRKKshnF8hG73r4x_OPrlDT9IjmSuzbsYbxaN8gNlTcHBU56Gt0v2qdb9ggvqmfUdaAjdx6XR_ZmzmX2uw0zvGo5khqZpaEpKT8fBQ/s1600/MinutesAsleep.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="345" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhcuFmtvrfu2PrU7u50G8mZiI5BQKlBwrxH4VZW2gxRKKshnF8hG73r4x_OPrlDT9IjmSuzbsYbxaN8gNlTcHBU56Gt0v2qdb9ggvqmfUdaAjdx6XR_ZmzmX2uw0zvGo5khqZpaEpKT8fBQ/s400/MinutesAsleep.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<br /></div>
I have also started tracking happiness on a simple Terrible -&gt; Great! scale.<br />
<div>
<br /></div>
<div>
This graph shows my average happiness on a weekly basis for the last ~8 months. We could conclude that I'm getting more happy, and was really unhappy around Christmas.</div>
<div>
<br /></div>
<div>
<br /></div>
<div>
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiaPNyvwROBXvcUDbvmWjXQNkdoUtbIS1d5WNiYe4gY_k89yQ7TD_zX24Xx6IRQ3tauBiScGxlCl_Pl7HueBsj5vHCKMdBBG6c_JxvNDa_AhNn_WoAtlstQPjqpPOF5wEHg-2lj4Jg7g9lt/s1600/HappinessLevels.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiaPNyvwROBXvcUDbvmWjXQNkdoUtbIS1d5WNiYe4gY_k89yQ7TD_zX24Xx6IRQ3tauBiScGxlCl_Pl7HueBsj5vHCKMdBBG6c_JxvNDa_AhNn_WoAtlstQPjqpPOF5wEHg-2lj4Jg7g9lt/s400/HappinessLevels.png" width="400" /></a></div>
<br />
<div class="clear">
</div>
<br />
And here we have my happiness levels when grouped by day of the week. We could conclude that I am, on average, the most content on a Sunday. I would like to believe it is just a coincidence that I am most content on a Sunday, and drink the least amount of coffee.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjZSPSAIcShizGYihxqq8sUEBuym3QKmjW5MzqLG2UDYhTNq4dPnnULLbnNk6XN66CoxRQKDCbpe-R5C2Ei6ZYW3sXvpUweHLIqLkUEJ9copLPBYMVsWSWDjUKKbqGERORa6vIFRvYClUpi/s1600/HappinessLevelsByWeekday.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="375" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjZSPSAIcShizGYihxqq8sUEBuym3QKmjW5MzqLG2UDYhTNq4dPnnULLbnNk6XN66CoxRQKDCbpe-R5C2Ei6ZYW3sXvpUweHLIqLkUEJ9copLPBYMVsWSWDjUKKbqGERORa6vIFRvYClUpi/s400/HappinessLevelsByWeekday.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<br />
<div class="clear">
</div>
<br />
<div class="separator" style="clear: both; text-align: left;">
This is the standard deviation of my happiness tracking on a monthly basis. It looks like I am also getting less moody.</div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjH1tHZVTIM1VKrYUelpM8MuNwxtVirH2sSetHMvo_ZeBrU3hX-Hxy8m5Pr5W87HRmdmbGWv9ltCn4YwN_haNDRCVz7DZT6ZAwbq9IkqkiBaLG4N2L1KQgRu2bK7txg2aeRtN1m7DsDjUTC/s1600/StdDevHappiness.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="335" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjH1tHZVTIM1VKrYUelpM8MuNwxtVirH2sSetHMvo_ZeBrU3hX-Hxy8m5Pr5W87HRmdmbGWv9ltCn4YwN_haNDRCVz7DZT6ZAwbq9IkqkiBaLG4N2L1KQgRu2bK7txg2aeRtN1m7DsDjUTC/s400/StdDevHappiness.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
<div>
And finally, weight. Nothing interesting here. I need to get back down to 77KG, which is a more natural weight for me. I use a normal scale so only record every few months - if I had a wi-fi scale, I would be able to record much more frequently.&nbsp;</div>
<div>
<br /></div>
<br />
<div class="clear">
</div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjc37Tdd2wc3vLwfhPtKvYtY8mtVN0tV2pbbq7sjaqqBEOS9UGr0VzLC1fGY_PyI1SA8g3Y3TQOcqOAIyIUsByoNzsL_9pBDEdyjlk7n48RVZd-P3tdVWNZ_7h2M2gwZVcsESRkPj-YdAM1/s1600/Weight.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="313" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjc37Tdd2wc3vLwfhPtKvYtY8mtVN0tV2pbbq7sjaqqBEOS9UGr0VzLC1fGY_PyI1SA8g3Y3TQOcqOAIyIUsByoNzsL_9pBDEdyjlk7n48RVZd-P3tdVWNZ_7h2M2gwZVcsESRkPj-YdAM1/s640/Weight.png" width="640" /></a></div>
<br />
<div>
<br /></div>
<div>
<br /></div>
<br />
<div class="clear">
</div>
<br />
<br />
<div>
<b>Final Thoughts</b></div>
<div>
<br />
In the last ~18 months I have become more happy and less moody, with Sunday being my happiest day, and Monday and Wednesday being my least content. I have put on three KG. I drink the most amount of coffee on Saturday, the least amount on Sunday, and have been able to drink less wine, but keep drinking the same amount of beer.</div>
<div>
<br /></div>
<div>
By looking at this evaluation I know I should probably start to incorporate a lunchtime walk into my daily routine, and stop drinking coffee on one day of the weekend. I should also drink my beer at a slower pace when I'm out, as this will prevent me from buying more than one, or, even harder to resist, friends and colleagues buying it for me.<br />
<br />
Finally: I know none of the charts have a title. Read the text.</div>
<div>
<br /></div>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/07/21/sydney-commute-times-mapped-part-1.html">
            Sydney Commute Times Mapped Part 1
          </a>
        </h3>
        <span class="post-meta">Published on Jul 21, 2013</span>
        I quite like open data. I like data based on open standards (or mostly open standards) even better. Many transport operators around the world have started releasing their timetable data using (mostly) open standards, e.g.&nbsp;<a href="http://en.wikipedia.org/wiki/General_Transit_Feed_Specification" target="_blank">GTFS</a>. One of the nice things about using a standard is that clever people have created tools to work with the timetable data, and those tools can now be used to manipulate timetable data from hundreds of agencies. The magnificent OpenTripPlanner is one such tool, and it works well with <a href="http://131500.info/" target="_blank">131500</a>'s GTFS data.<div><br />
</div><div>New South Wales Planning &amp; Infrastructure have released a draft <a href="http://strategies.planning.nsw.gov.au/MetropolitanStrategyforSydney.aspx" target="_blank">plan</a> for how they hope to shape Sydney's growth, which is where they detail the idea of a "city of cities". I thought it would be interesting to mash these smaller "cities" with 131500's transport data, and then display a map with the shortest commute to the nearest city. Various cities, I believe including Melbourne, have goals of re-achieving a "20-minute" city, or something similar (i.e. X% of the population can reach X% of the city within X minutes).</div><div><br />
</div><div>This map is the first stage. It only displays the commute time to St Leonards from every Mesh Block in the greater Sydney area. I used the open source tool OpenTripPlanner to computer the commute times, with OpenStreetMaps to support walking distances. The next map I release will probably have all the regional cities, and a similar styled map depicting time to nearest "centre".</div><div><br />
</div><div><br />
<iframe height="600px" src="http://maps.kelvinism.com/st_leonards_commute.html" width="650px"></iframe><br />
<a href="http://maps.kelvinism.com/st_leonards_commute.html" target="_blank">View Full Screen</a><br />
<br />
<br />
</div><div><br />
</div></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/07/20/mapping-mesh-blocks-with-tilemill.html">
            Mapping Mesh Blocks with TileMill
          </a>
        </h3>
        <span class="post-meta">Published on Jul 20, 2013</span>
        This quick tutorial will detail how to prepair the ABS Mesh Blocks to be used with MapBox's TileMill. Beyond scope is how to install postgresql, postgis and TileMill. There is a lot of documentation how to do these tasks.<br />
<br />
First, we create a database to import the <a href="http://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/1270.0.55.001July%202011?OpenDocument">shapefile</a> and <a href="http://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/2074.02011?OpenDocument">population data</a> into:<br />
<br />
<br />
Using 'psql' or 'SQL Query', create a new database:<br />
<br />
<pre>CREATE DATABASE transport WITH TEMPLATE postgis20 OWNER postgres;
# Query returned successfully with no result in 5527 ms.</pre>
<br />
It is necessary to first import the Mesh Block spatial file using something like PostGIS Loader.<br />
<br />
<img height="603" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi8zpIUCky4eqQcl82ds0um_KZvlqepw11Svcc5SnyMT24IBX8O9ZTIurIyzM0nNivejDs3uiPyoejPNuxpuVcMgf45IY7xYb6FmtcCUG9TbTxCDiq2feCnileNBwms5M8PrEDjhP7DRtvG/s640/PostGISLoader2.png" width="640" /><br />
<br />
We then create a table to import the Mesh Block population data:<br />
<br />
<pre>CREATE TABLE tmp_x (id character varying(11), Dwellings numeric, Persons_Usually_Resident numeric);</pre>
<br />
And then load the data:<br />
<br />
<pre>COPY tmp_x FROM '/home/kelvinn/censuscounts_mb_2011_aust_good.csv' DELIMITERS ',' CSV HEADER;</pre>
<br />
It is possible to import the GIS information and view it in QGIS:<br />
<br />
<img height="448" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEir_OlfVmY_FZjQGoh_UdIr2wVe1xsNQLDzYH6M5gX5V5a-lknehk_lDEuhaZUC9tqwcoKHoKCv9KLLSSmlcqU5sX89jkJzne-FHgQYQUML9KwGoCoAQEa8DEOHuI3KA4qDq7n4kWtUbvC3/s640/qgis.png" width="640" /><br />
<br />
Now that we know the shapefile was imported correctly we can merge the population with spatial data. The following query is used to merge the datasets:<br />
<br />
<pre>UPDATE mb_2011_nsw
SET    dwellings = tmp_x.dwellings FROM tmp_x
WHERE  mb_2011_nsw.mb_code11 = tmp_x.id;</pre>
<br />
<pre>UPDATE mb_2011_nsw
SET    pop = tmp_x.persons_usually_resident FROM tmp_x
WHERE  mb_2011_nsw.mb_code11 = tmp_x.id;</pre>
<br />
We can do a rough validation by using this query:<br />
<br />
<pre>SELECT sum(pop) FROM mb_2011_nsw;</pre>
<br />
And we get 6916971, which is about right (ABS has the 2011 official NSW population of 7.21 million).<br />
<br />
Finally, using TileMill, we can connect to the PostgGIS database and apply some themes to the map.<br />
<br />
<pre>host=127.0.0.1 user=MyUsername password=MyPassword dbname=transport
(SELECT * from mb_2011_nsw JOIN westmead_health on mb_2011_nsw.mb_code11 = westmead_health.label) as mb</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/07/20/mapping-urban-density-in-sydney.html">
            Mapping Urban Density in Sydney
          </a>
        </h3>
        <span class="post-meta">Published on Jul 20, 2013</span>
        Five years ago I started exploring different mapping technologies by detailing instructions on&nbsp;<a href="http://www.kelvinism.com/2008/04/setting-up-mapnik-server-on-ubuntu_118.html">installing Mapnik</a>&nbsp;and&nbsp;<a href="http://www.kelvinism.com/2008/11/revised-modtile-install-howto_1369.html">mod_tile</a>. Times have changed significantly in the last five years, and thanks a lot to the products offered by <a href="http://www.mapbox.com/" target="_blank">MapBox</a>. After playing with TileMill, MBTiles, Leaflet and UTFGrids, it is great how many annoyances have been fixed by MapBox. I find it enjoyable making maps now, as I no longer need to worry about patching code just to get it to run, or mucking about with oddities in web browser.<br />
<br />
Each night this week I have created a new map using Mesh Block spatial data from the Australian Bureau of Statistics (Mesh Blocks are the smallest area used when conducting surveys). I am thankful to live in a country that provides a certain amount of open data, and the ABS should be applauded for the amount of data they provide. They provide <a href="http://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/1270.0.55.001July%202011?OpenDocument" target="_blank">spatial data</a> about Mesh Blocks, as well as <a href="http://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/2074.02011?OpenDocument" target="_blank">population counts</a> for this spatial data. It is relatively easy to merge the two and then visualise them using TileMill.<br />
<br />
First up - population density of Sydney, i.e. persons reported to be living in each mesh block. Darker red indicates a higher population count.<br />
<br />
<iframe height="500px" src="http://maps.kelvinism.com/syd_pop_density.html" width="650px"></iframe><br />
<a href="http://maps.kelvinism.com/syd_pop_density.html" target="_blank">View Full Screen</a><br />
<br />
I find it interesting to see how many people live in certain Mesh Blocks. You will notice that Mesh Blocks with high population levels tend to be nearer public transport - either major roads with frequent bus service, or train stations.<br />
<br />
We can look at the urban densities by determining dwellings per hectare, and do this per Mesh Block. The definition I used for urban densities comes from <a href="http://annforsyth.net/" target="_blank">Ann Forsyth</a>&nbsp;in "Measuring Density: Working Definitions for Residential Density and Building Intensity" (<a href="http://www.corridordevelopment.org/pdfs/from_MDC_Website/db9.pdf" target="_blank">pdf</a>). Ann discusses the need to consider net or gross densities, depending on the type of land use. At the Mesh Block level the land use type appears to be singular: Industrial, Parkland, Commercial, Residential, and Transport. Because the land use type was generally singular I have not adjusted to gross/net, but still used Ann's definitions of certain density bands:<br />
<ul><li>Very low density: 11 dw/ha</li>
<li>Low density: 11-22 dw/ha</li>
<li>Medium density: 23-45 dw/ha</li>
<li>High density: 45 dw/ha</li>
</ul>"dw/ha" is dwellings per hectare. I decided to map the four density levels, which can be relatively easily achieved using TileMill. See below for an example.<br />
<br />
<iframe height="600px" src="http://maps.kelvinism.com/syd_urban_density.html" width="650px"></iframe><br />
<a href="http://maps.kelvinism.com/syd_urban_density.html" target="_blank">View Full Screen</a><br />
<br />
<p>You can zoom in and scroll over any Mesh Block in Sydney to find out more. Additional installation information on how I did this can be found on this special page: <a href="http://www.kelvinism.com/2013/07/mapping-mesh-blocks-with-tilemill.html">Mapping Mesh Block Data</a>.<br />
<br />
<br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/06/29/hiking-w-circuit-torres-del-paine.html">
            Hiking the W Circuit (Torres del Paine)
          </a>
        </h3>
        <span class="post-meta">Published on Jun 29, 2013</span>
        <div dir="ltr">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmKGA0j5Z25NkCby3nEWwQeIyj5RZwDF-CmNKR3asVKlojpdpPc2TtR8ISaevfODn3BwaRpEB60SbTegfb7-VDUMq2pIOWhMPRLKRFfzoKy8XjJ3oghEt0mSLeHQL8t80G3QmkDCGOdFFV/s1600/IMG_2686.JPG" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmKGA0j5Z25NkCby3nEWwQeIyj5RZwDF-CmNKR3asVKlojpdpPc2TtR8ISaevfODn3BwaRpEB60SbTegfb7-VDUMq2pIOWhMPRLKRFfzoKy8XjJ3oghEt0mSLeHQL8t80G3QmkDCGOdFFV/s320/IMG_2686.JPG" height="240" width="320" /></a>We have just returned from hiking the "W", a famous circuit through the Torres del Paine, in Patagonia. Although we did some research before doing the trek, it turns out we made a number of assumptions that turned out to be incorrect. I will detail in this entry what we learned, a few things that worked well, and a few things that did not work so well.<br />
<br />
I will try to avoid posting spoilers of the major sites, and instead focus on logistics of doing the trek. First things first: much of this content is from what we learned at a talk given at the <a href="http://www.erraticrock.com/" target="_blank">Erratic Rock</a> hostel, at 3PM the day before entering the park. The single biggest suggestion I would give you is to go to this talk.</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
Next, I should clear the two biggest assumptions I had before arriving, so you can plan accordingly.</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
1) "Pirate" camping is frowned upon - probably even illegal in the park. You must stay at a designated camp-site.</div>
<div dir="ltr">
2) You can only cook at designated areas, which means you need to plan lunch meals that do not need to be cooked.</div>
<div dir="ltr">
3) Water from streams is apparently safe to drink. Nobody uses filters. Just fill up at a place with flowing water, which comes straight from glaciers, and not where there is a horse crossing.</div>
<div dir="ltr">
4) There are paid refugios and free refugios.</div>
<div dir="ltr">
5) The paid refugios (shelters) have showers.</div>
<div dir="ltr">
6) The transportation to and from the park is timed perfectly for all the trekkers, but it is crucial you plan for what bus you want to take.</div>
<div dir="ltr">
7)&nbsp; It gets really cold at night, at least it did in March. If you bring your own sleeping bag, then make sure it is rated at least down to -5C, maybe -10C, otherwise you won't be getting much sleep.</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
How do you get to the Torres del Paine?</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
<div class="separator" style="clear: both; text-align: center;">
</div>
This naturally depends where you are coming from. We were in Santiago, so flew to Punta Arenas and took a bus to Puerto Nateles. One thing&nbsp;that was a little unclear was if the bus would stop at the airport in Punta Arenas or not. We decided not to risk it, so caught a mini-bus from the airport to the bus terminal (3000CLP), and caught a bus to Puerto Nateles almost immediately. It turns out the bus did stop at the airport and picked on person up - there were no other seats left. I would suggest you email or call the bus company (<a href="http://www.busesfernandez.com/" target="_blank">Bus Ferdnandez</a>) and make sure they pick you up.</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsmxhnusOi1UD3OiYOIyKj6DegRZHov_YopVNjmTKY9onKiVGGM9YWRGn8ejebqILTbg_v8i8paf6Tz9nlvwT5cQ1ynY7Y9cHSZ4t0ljXGROrDxTzXLi4VA5ntRU7Y39pF36ZMs3QetwCv/s1600/IMG_2754.JPG" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgsmxhnusOi1UD3OiYOIyKj6DegRZHov_YopVNjmTKY9onKiVGGM9YWRGn8ejebqILTbg_v8i8paf6Tz9nlvwT5cQ1ynY7Y9cHSZ4t0ljXGROrDxTzXLi4VA5ntRU7Y39pF36ZMs3QetwCv/s320/IMG_2754.JPG" height="320" width="240" /></a></div>
One of the first decisions you will need to make is if you should camp, or just stay in a refugio? It was obvious the people who were staying in refugios, as their packs were usually quite small, and they smelled really clean. It was obvious the people doing the full trek, as they usually looked tired, and not terribly clean. We were in the later group. Base Camp, right next to Erratic Rock, where the 3PM talk is held, offers gear rental. The <a href="http://www.erraticrock.com/equipment/" target="_blank">prices</a> are reasonable. Equipment needs to be reserved before you arrive during high season.</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
What are these refugios? Do they need to be booked in advance? The refugios are little shelters at different camp-sites strewn throughout the park. We camped, but I believe there are nice shelters (more similar to cabins), and some that are more like dormitories. Take note that you <i>must</i>&nbsp;camp at one of these designated campsites, and they aren't all free - more details below in the day-to-day breakdown.&nbsp;The two companies running the refugios are: <a href="http://www.fantasticosur.com/en/" target="_blank">Fantasticosur</a> and <a href="http://www.verticepatagonia.com/" target="_blank">Vertice</a>. I think you should book in advance, but maybe research this.&nbsp;</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
What route to take? The route you take will depend strictly on how far you want to trek each day, or are capable, as you must stay at a camp-site. At the Erratic Rock talk they will give you a suggested route, from west to east, which is one we and a group of others followed. A map of the hiking area will be provided at check in.<br />
<br />
I brought my GPS logger with me on the trip, as I do on <a href="https://www.google.com/fusiontables/embedviz?viz=MAP&amp;q=select+col2+from+768469+&amp;h=false&amp;lat=-32.4&amp;lng=148&amp;z=7&amp;t=4&amp;l=col2" target="_blank">all my trips</a>, so was able to make a record of where we walked. See below for the map, or you can <a href="http://cdn.kelvinism.com/files/Trekking+TDP.kmz" target="_blank">download the KML file</a>.</div>
<div dir="ltr">
<br /></div>
<div dir="ltr">
<br />
<iframe frameborder="no" height="600" scrolling="no" src="https://www.google.com/fusiontables/embedviz?q=select+col2+from+1Xy-f46Pg7c1mfaRXSLQs_QajAsy0RStYtyABRhs&amp;viz=MAP&amp;h=false&amp;lat=-51.00095896160556&amp;lng=-72.90675563171146&amp;t=3&amp;z=11&amp;l=col2&amp;y=2&amp;tmplt=2" width="650"></iframe><br />
<br />
<br />
The "Erratic Rock Route" goes like this:<br />
<br /></div>
<div dir="ltr">
<div style="text-align: center;">
<b>Day 1</b></div>
<br />
Catch 7:30 bus into Torres del Paine - your hostel/hotel can surely organise. Our bus cost 15000CLP return. You will enter park at about 10:00 and pay the park entrance fee. The fee is 18000CLP. You will also listen to a short talk telling you not to "pirate" camp, and don't burn down the forest. The bus will wait for you. Continue taking the bus to the second stop, which is right next to Lago Pehoe. Disembark the bus and walk to the catamaran. The boat goes between this second stop and refugio Paine Grande. The boat costs 8000CLP.<br />
<br />
You will arrive Paine Grande at about 13:00 and need to start hiking immediately. This day you will hike 11KM to Refugio Grey where you will set-up tent and put down your bags. The stay is 4000CLP. After setting down your bags you will keep going along the trail to the Mirador overlooking the glacier - this hike is about 4KM. Arrive as early as possible, as the sun will set behind the glacier and taking photos will become difficult.<br />
<br /></div>
<div dir="ltr">
<div style="text-align: center;">
<b>Day 2</b></div>
<br />
Wake up rather early, cook breakfast, and hike from Refugio Grey back to Refugio Paine Grande (11KM, ~3.5hr). Have a quick lunch, and continue hiking to Campamento Italiano (7.6KM, ~2.5hr). This is a free camp-site, so set-up tent, cook dinner, and get ready for bed. There is a water sprout near the top of the camp, so you don't need to walk to the river for water.<br />
<br /></div>
<div dir="ltr">
<div style="text-align: center;">
<b>Day 3</b></div>
<br />
Wake up and hike the French Valley (7.5KM each way,&nbsp; ~3hr each way). Return to camp, collect your gear, and walk to Los Cuernos (5.5KM, ~1.5hr). This stay is 8000CLP, but the showers were really hot. The camp-site fills up pretty early, as people are coming from both directions, so try to arrive earlier rather than later.<br />
<br /></div>
<div dir="ltr">
<div style="text-align: center;">
<b>Day 4</b></div>
<br />
Hike from Los Cuernos to Campamento Torres. About 9KM out of Los Cuernos you will encounter a big sign that says "SHORTCUT" - take it. This will take you around the backside of one mountain, by a lake, and cut some time off an already pretty long day. It is maybe 3.5hr from the shortcut to Campamento Torres, but it is all uphill. The trail gets very well used after merging with the trail from Los Torres hotel. Campamento Torres is a free camp-site. Consider camping uphill from the bathroom.</div>
<div dir="ltr">
<br />
<div style="text-align: center;">
<b>Day 5</b></div>
<br />
Wake up quit early and depart for the Base de las Torres for sunrise. Most people leave Campamento Torres by about 6:15am, but when we went it was overcast, and the sun didn't actually hit the mountain until almost 7:50. The walk takes about 45 minutes. Take your photos, hike back down to camp, pack up, and get back to Hotel Los Torres by 14:00. We ate breakfast at sunrise at the Base de las Torres (trail mix), but had a hot lunch at Campamento Chileno. A mini bus will pick you up by Hotel Los Torres at 14:00 and take you back to Laguna Amarga. This mini bus costs 2500CLP. Your bus will depart back to Puerto Natales at 14:30. Please shower and do laundry as soon as you get back - you probably smell like you're homeless.<br />
<br /></div>
<div dir="ltr">
So, what are some things that worked really well for us?<br />
<br />
One of the best things we did was keep our packs light. Our packs were both under 10KG, including five days food, sleeping bags, pads, and tent. My pack was probably about 7KG. Probably the biggest regret we heard on the trail was that everyone's pack was too heavy. I would say most were above 20KG, even for females. A lot of this was due to the food choices made. I read a book on ultralight hiking in university, so knew some basic rules for keeping pack weight down:</div>
<div dir="ltr">
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEghTzCYUBEO6YCmbA_IaXsadCSSvSWir9qx1K0VeE_FILscI-cvn2KoEn9lgV45OkynQmG3OMqyTvxl7c3xTC7jMn6gd3JrYUg2uTFGmCDm9dnldiuipVOpyVwd2kGeop9b7XV04MQ7Htfl/s1600/IMG_2791.JPG" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEghTzCYUBEO6YCmbA_IaXsadCSSvSWir9qx1K0VeE_FILscI-cvn2KoEn9lgV45OkynQmG3OMqyTvxl7c3xTC7jMn6gd3JrYUg2uTFGmCDm9dnldiuipVOpyVwd2kGeop9b7XV04MQ7Htfl/s320/IMG_2791.JPG" height="320" width="240" /></a></div>
<ol>
<li>Don't buy food in tin cans or water (e.g. tuna)</li>
<li>Don't bring fresh fruits or vegetables</li>
<li>Bring plastic or titanium/aluminum cutlery</li>
<li>Don't bring "it" if you won't have to use "it" every day</li>
<li>No knives or leatherman (you don't have tins to open now...)</li>
<li>1x pants, 2x shirts, 2x socks, 2x underwear (or none), 1x long sleeve, 1x fleece, 1x down vest (maybe if cold), and 1x windbreaker/raincoat. That's it. You don't need three jumpers or five pairs of underwear. You probably don't even need the shirts as a base.</li>
<li>Put duct tape on random things (e.g. trekking poles) instead of bringing a roll of duct tape.</li>
<li>Buy food that cooks quickly, not types of pasta that take 20 minutes. Risotto is pretty efficient (boil, heat it some, take off flame and cover), as are some thing types of pasta in soup.</li>
<li>You can eat out of the bowls you are cooking in - you don't need pots and plates.</li>
<li>Bottles for only enough for 5 days. A full tube of toothpaste, big bottle of shampoo, and tube of sun screen all ads up the weight. The same is true for pills - you don't need a full pack of multivitamins, five will do.</li>
</ol>
</div>
<div dir="ltr">
We heard stories of people cooking pancakes and french fries somehow, which would taste amazing, but I would rather eat risotto and have a pack 1/3 the weight. We both made it through with not a single blister, whereas the person next to us right now has seven.<br />
<br /></div>
<div dir="ltr">
Other suggestions of things that&nbsp; worked well for us include:</div>
<div dir="ltr">
<br />
<ol>
<li>Wool or wool blends of everything. It dries fast, keeps you warm, and doesn't keep odour. Get some wool blend underwear for travelling if you don't already have some.</li>
<li>Bring a super light day pack (like one of these) that you can toss water and food into for hikes that don't require the full pack. If your full pack is comfortable enough, then just use that.</li>
<li>Polarized UV protection glasses are a must, as is a hat. There were some seriously sun burned people returning from the trip, despite putting on "two layers of sunscreen". Wear a hat.</li>
<li>I brought my MSR "dragonfly" stove with me, and the normal cup to cook with. Erratic Rock / Base Camp have a container with half empty gas canisters. If you don't mind risking running out of gas, grab one from here. Otherwise gas is about 8 bucks.</li>
<li>Find additional people to share food with. Oatmeal is only sold by 1KG packages, which is a lot. Most people were throwing away leftover oatmeal at the end of the trip.</li>
</ol>
</div>
<div dir="ltr">
However, there were a few things that did not work that well, or not work as well as expected. The worst thing was a growing pain in my right knee. I've always had some pain in my knee after hiking, but by day two I was starting to have severe pain. The trails have quite steep ascends/descends. This destroyed my knee. On day four another walker who knew about my knee passed by and said "I have some trekking poles - I tried them, tripped over myself, and haven't used them since. Wanna try?" I had never used poles before, thinking they were only for old people with bad knees... Needless to say, I'll be buying a pair when I get back to Sydney, and I finished the day 4 hike without any pain. If you ever, even once, have had pain in your knees, then rent trekking poles. We had to skip the French Valley because my knees were hurting too much (I guess technically we hiked the "U", not the "W"). If my pack was not so light, I do not think I would have been able to go up to the Torres.<br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjMc375uOJ094b_h83P9Go4DYiU8ZMGIwnRIQj_DJp2e3Nssln2c5nOKB4bBqz6OMifVawpGgCyzWvCH0WOG8UaBm79SCuw3LElLFhiaQv20vqajj-KiF4hB6eqFRH9klIwB1VtEP4dVzHS/s1600/IMG_2835.JPG" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjMc375uOJ094b_h83P9Go4DYiU8ZMGIwnRIQj_DJp2e3Nssln2c5nOKB4bBqz6OMifVawpGgCyzWvCH0WOG8UaBm79SCuw3LElLFhiaQv20vqajj-KiF4hB6eqFRH9klIwB1VtEP4dVzHS/s320/IMG_2835.JPG" height="240" width="320" /></a></div>
The second mistake I made was not bringing a flashlight. My logic was we would just go to bed when it got dark, and rise when it got light. This is what I have always done before when trekking. Unfortunately, this does not work that well when you want to be up before the sun rises, e.g. to see the Base de las Torres. We followed (closely) some people with torches, so made it, but came close to tripping quite a few times, and it generally wasn't that enjoyable. Most people had those LED lights that go on your forehead - that would be advisable.<br />
<br /></div>
<div dir="ltr">
Finally, I brought a Platypus for water. Hiking back in Oregon there would be some stretches with no water - maybe 4-5 hours of hiking without easy access to water. In the Torres del Paine, there was water nearly every two kilometers, so a Nalgene would have worked well. My better half just used her Nalgene, and it worked fine. It is also easier to fill up, and has measuring lines for how much water is needed for risotto.<br />
<br /></div>
<div dir="ltr">
That's all the advice and information I can give about hiking the "W" in the Torres del Paine. The hike is a bit more expensive than I had expected, but there was some great camaraderie with other hikers, and it leaves you with a feeling of accomplishment when finished. <br />
<br />
There are a few more sites that detail this trek, including:<br />
<a href="http://www.stephandben.com/2012/04/map-how-to-hike-w-in-torres-del-paine.html" target="_blank">How to hike the "W" in Torres del Paine</a><br />
<a href="http://www.worldtravelforcouples.com/the-definitive-guide-to-hiking-torres-del-paine/" target="_blank">THE Definitive Guide to Hiking Torres del Paine</a></div>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/02/22/february-sydney-python-presentation.html">
            February Sydney Python Presentation
          </a>
        </h3>
        <span class="post-meta">Published on Feb 22, 2013</span>
        In February I gave a presentation to about 80 people at the Sydney Python group hosted by Atlassian. Firstly, Atlassian's office was beautiful, feeling a little like Google's Sydney office, but with beer on tap instead of cereal dispensers. Secondly, the talk before me on Cython by&nbsp;<a href="https://plus.google.com/113985890803565448326/posts" target="_blank">Aaron Defazio</a>&nbsp;was exceptionally interesting, garnering lots of questions from the audience. My presentation, more of a show and tell on piping location data to Google's Latitude through App Engine, was also meant to&nbsp;subtly&nbsp;share my views on the need for innovation in the public sector (all sectors, really).<br />
<br />
My slides are below. I used very little text in the slides, but you can probably catch what is going on. The response from the audience was favourable, and I thank&nbsp;<a href="https://twitter.com/djay75" target="_blank">Dylan Jay</a>&nbsp;for giving me the opportunity to speak.<br />
<br />
<br />
<iframe allowfullscreen="true" frameborder="0" height="389" mozallowfullscreen="true" src="https://docs.google.com/presentation/d/1_X17S-OPc4yik5c4396suvBUQNQpz5AyF9htCK9M2js/embed?start=false&amp;loop=false&amp;delayms=3000" webkitallowfullscreen="true" width="480"></iframe></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/01/14/lessons-learned-from-kathmandu.html">
            Lessons Learned from Kathmandu
          </a>
        </h3>
        <span class="post-meta">Published on Jan 14, 2013</span>
        Our first trip to Kathmandu is now over, so there are some lessons learned I should scribe. Some of these are obvious, and which we abide by whenever travelling, and some we simply forgot in our (very) impromptu trip to Nepal.<br />
<br />
1) When agreeing on a price, make 100% sure the other person states the price back to you. I thought a price had been agreed to when the other person responded "ok ok, you are a lucky man", but this does not count. As they say, reconfirm, reconfirm, reconfirm.<br />
<br />
2) When arriving at the airport, make sure you have small bills, too. We had 3x 100RS, 1x 10RS, and then a few 500RS. The price we negotiated was 440RS, and it would have been nice to have paid the exact amount.<br />
<br />
3) Kathmandu is polluted and dirty. I cannot emphasise this enough. It is dirtier than probably any other city we have been to. If we come back, we will be bringing masks. I know this sounds silly, to wear a mask, but any local on a motorbike or in a taxi wears a mask, and many just walking around. Instead of the normal cloth masks that many people use, I would probably bring a make with finer grained material (maybe not <a href="http://www.amazon.com/gp/product/B001FA0XMO/ref=as_li_ss_tl?ie=UTF8&amp;tag=kelvinismcom-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B001FA0XMO">N95</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B001FA0XMO" style="border: none; margin: 0px;" width="1" />&nbsp;quality), and something with activated carbon. I'd probably get a mask like <a href="http://www.amazon.com/gp/product/B00A9UKMRW/ref=as_li_ss_tl?ie=UTF8&amp;tag=kelvinismcom-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A9UKMRW">one of these</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B00A9UKMRW" style="border: none; margin: 0px;" width="1" />. We ultimately tried to avoid walking on main roads, but having some activated carbon absorb something would have made it a little less unpleasant.<br />
<br />
4) My traveling companion's tip: bring dirty cloths, and throw them away after the trip. Or just bring black. Her beautiful blue jacket is now pretty filthy, with grease covering parts of it.<br />
<br />
5) Bring some toilet paper. Similar to other parts of Asia, the bathrooms don't have any.<br />
<br />
6) Bring a flashlight. The load shedding makes the city dark, and if you go out, you will want a flashlight. There aren't any lights. We only used it a few times, but I am really glad we brought two flashlights with us.<br />
<br />
7) Bring vitamin C and lots of hand sanitizer. We did, like we always do when we travel, and I'm really glad we did. Everybody is coughing or sick, and everybody spits. It is similar to the situation in China, i.e. everyone spits. Then everybody gets sick. Bring hand sanitizer.<br />
<br />
8) If you take a bus somewhere, try to ask when you buy tickets to sit on the left side in the middle. The front is a no-go for me. We typically had seats in the rear right, but on the&nbsp;curvy&nbsp;roads I think the left middle would be safer, as oncoming buses won't hit you. One bus on the way back had the left side decimated. If you do a search on "nepal bus crashes" in images.google.com, you will quickly see why you don't want to be in the front row.<br />
<br />
9) Our hotel rooms all typically had just one power outlet. If you bring multiple&nbsp;electronic&nbsp;devices, bring some way to &nbsp;charge&nbsp;more&nbsp;than one at a time. Something like <a href="http://www.amazon.com/gp/product/B005AF0C2G/ref=as_li_ss_tl?ie=UTF8&amp;tag=kelvinismcom-20&amp;linkCode=as2&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005AF0C2G">like this travel charger</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B005AF0C2G" style="border: none; margin: 0px;" width="1" />&nbsp;would work well.<br />
<br />
10) Bring clothing to stay warm at night. We travelled to Nepal in winter, and all our rooms got pretty cold at &nbsp;night.<br />
<br />
Enjoy!<br />
<br />
<iframe frameborder="no" height="300" scrolling="no" src="https://www.google.com/fusiontables/embedviz?viz=MAP&amp;q=select+col2+from+1RFDybcyTiZ_M_VoDJdx9sjuqeMKU1cx-RnRxMg&amp;h=false&amp;lat=27.8261456587275&amp;lng=84.92039544339092&amp;z=10&amp;t=1&amp;l=col2&amp;y=2&amp;tmplt=2" width="650"></iframe></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2013/01/10/migrate-custom-blog-to-blogger.html">
            Migrate Custom Blog to Blogger
          </a>
        </h3>
        <span class="post-meta">Published on Jan 10, 2013</span>
        For the last ten years I have run this website from various systems. First it was on Wordpress, then Mambo, then Joomla, and since early 2006 it has been running on custom code written using Django. I used this site as a learning tool for Django, re-wrote it after gaining more knowledge of Django, and then re-wrote it again when Google released App Engine. However, I recently realised that for the last few years I have spent more time writing little features than actually writing. I have entire trips that I never wrote because I was too busy writing code.<br />
<br />
This week it all changed. I did the unthinkable. I moved this website to Blogger.<br />
<br />
After evaluating some of the features of blogger, i.e. custom domains, location storing, ability to filter on labels, custom HTML/CSS, great integration with Picasa, and their mobile app, I realised I could virtually replace everything I had previously custom made.<br />
<br />
This post gives a technical description how to migrate a site running Django, but readily applies to any blog running on custom code. I initially spent a fair bit of time trying to figure out how to convert my existing RSS feed into something Blogger could accept, but every solution required troubleshooting. I soon remembered why I love Django so much, and that it would be trivial to generate the correct XML for import.<br />
<br />
1) <b>Create Blogger Template</b><br />
I wanted to keep my design, so I hacked it to support Blogger. Take one of the existing templates, edit the HTML, and adjust it for your design. If you've worked with templates before this shouldn't be too difficult.<br />
<br />
2) <b>Generate Sample XML</b><br />
The first step was to generate a sample XML file from Blogger to see what would be needed for import. Create a sample post with a unique name and a few labels, and location. In Blogger, go to Settings-&gt;Other and click Export Blog. The first 90% of the file will be for your template and other settings, but eventually you will find a section with &lt;entry&gt; elements in it. Copy this sample element out - this will become your template.<br />
<br />
3) <b>Format Template</b><br />
Using the sample section from the blog export, format it so the view you will create populates it correctly. A note of caution: the t<span style="font-family: inherit;">emplate nee</span>ds ti<span style="font-family: inherit;"><span style="font-family: inherit;">me in&nbsp;<span style="background-color: white; line-height: 16.78333282470703px;">ISO 8601</span>&nbsp;for</span>m</span>at, you need the &lt;id&gt; element, and the location element needs coordinates if there is a name. It won't import later if there is a name with no coordinates. My template looks like this:<br />
<h4>
feeds/rss.html</h4>
<pre class="brush: html; light: true; ">{%  load blog_extras %}
{% for entry in entries %}
    <entry>
        <id>tag:blogger.com,1999:blog-1700991654357243752.post-{% generate_id %}</id>
        <published>{{ entry.publish_date|date:"Y-m-d" }}T10:30:00.000123</published>
        <updated>{{ entry.publish_date|date:"Y-m-d" }}T10:30:00.000123</updated>
        <category scheme="http://schemas.google.com/g/2005#kind" term="http://schemas.google.com/blogger/2008/kind#post">
        {% for tag in entry.tags %}
            <category scheme="http://www.blogger.com/atom/ns#" term="{{ tag.name }}">
        {% endfor %}</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2012/07/02/how-to-convert-131500-tdx-to-gtfs.html">
            How to convert 131500 TDX to GTFS
          </a>
        </h3>
        <span class="post-meta">Published on Jul 2, 2012</span>
        TDX data has been available for a number of years on 131500.info, but many tools are GTFS specific. I also find GTFS easier to work with.<br />
<br />
Luckily, converting from TDX to GTFS is not overly difficult, and below are some instructions. This howto is a bit old, as I am only now copying it from my "Notes" folder to put online to help others.<br />
<br />
<b>Note:</b>&nbsp;You can now directly download GTFS from the TransportInfo website:&nbsp;<a href="https://tdx.131500.com.au/" rel="nofollow" target="_blank">https://tdx.131500.com.au</a><br />
<br />
1) Signup for an account with EC2 (AWS), unless you have 16GB of memory available on a machine.<br />
2) Upload <a href="http://code.google.com/p/googletransitdatafeed/" target="_blank">TransXChange2GTFS</a> to a place you can download from.<br />
3) Upload the latest TDX data dump from 131500.info to a place you can download from.<br />
4) Login to AWS and start an EC2 instance. &nbsp;I picked a large instance and used 64-bit Ubuntu 10.04, us-east-1 ami-f8f40591<br />
5) Download the Data and transxchange to /mnt<br />
<br />
<pre>wget http://ec2-175-41-139-176.ap-southeast-1.compute.amazonaws.com/Data20110127.zip
wget http://cdn.kelvinism.com/transxchange2GoogleTransit.jar
</pre>
<br />
6) Install Sun JRE.<br />
<pre>apt-get install python-software-properties
add-apt-repository "deb http://archive.canonical.com/ lucid partner"
apt-get update
apt-get install sun-java6-jre</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2012/05/21/goodbye-facebook_21.html">
            Goodbye Facebook
          </a>
        </h3>
        <span class="post-meta">Published on May 21, 2012</span>
        <p>I seldom used Facebook, and felt a bit depressed after logging on each time. I don't know if I am alone, but each time still felt a bit like a secret spitting contest. A bit, not a lot, but sort of subconsciously. Oh, he has a nice (sounding) job. -1 I've traveled more than her. +3  The old school cool guy is back living with his parents. +3 She has five kids already - I knew that would happen! -5 Honestly, though, even at an involuntary subconscious level, I don't like spitting contests. I would rather be sharing ideas or creating something. Wish me luck.</p><a href="https://picasaweb.google.com/lh/photo/xl8h2cKY6O1qGO6FFzPUNdMTjNZETYmyPJy0liipFm0?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjZq9nMANbPfzo3PHwgsL4Be1EfRyx0pIVBjLGYTuq4SRfKR8COZ5r6KpNFA-2d41M0lB-QrQTqHxTKwC_XqNAAK8LuDxV6eaL9-QDUW7c8fWQ5Kl0MTJNvER1IOSx7uX5QVzvkY5MsGr7U/s400/fbdelete.jpg" height="167" width="400" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2012/05/08/131500trains-updates-to-gtalk_8.html">
            131500trains Updates to GTalk
          </a>
        </h3>
        <span class="post-meta">Published on May 8, 2012</span>
        <p>Here's a little hack I thought I'd share. There are maybe other ways to do this, but this way took all of two minutes, which suits me. My daily routine has me taking a train along the Inner West Line (here in Sydney), and I wanted to know in advance if there was any issues with the line. 131500 provides weekely emails about upcoming trackwork, and there's an RSS feed of delays; this is what you'd see in many of the Sydney transport-related apps. Another information source is through Twitter. For all of these sources I only really care about the one line I take every day - the quickest answer would seem to be if I could only get updates on Twitter for my line</p><p>Luckily this is all quick to do using an only service called <a href="http://www.ifttt.com">ifttt</a>. What I needed to do was create a task searching Twitter for "Inner West from:131500trains", and if any new items are located it sends me a message on GTalk. This is one example of what I like about having some mostly open data - I can consume it how I want it. Let's just say I'm looking forward to <a href="http://www.govhack.org">GovHack 2012</a></p><p>This example could be extended for other purposes, e.g. searching for the word "discount" on some suppliers Twitter stream.</p><a href="https://picasaweb.google.com/lh/photo/8h-kPAUWTOnkLEqguXAjPtMTjNZETYmyPJy0liipFm0?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh9Xfom6wP98Yvf6jLdln-G1Pn-BE7-bzuhwgbxOA1UXaozsqANwxeldbmFVNA8y2Igl3Y0cyMjoJewdsUf-wfVt9-laeQsXMcN4JvZAh5WjKYohJJObc7qQjgcU-zy9Oaw1M6uosJ1aZmX/s400/ifttt131500trains.jpg" height="400" width="285" /></a><br /><br /><a href="https://picasaweb.google.com/lh/photo/pWjijYYAgM-ERMpFtAi4mdMTjNZETYmyPJy0liipFm0?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjp_IqO0pCcccUfWeS8NMSs1IQ0qu3IN-q6CUJUrBjPUvZFEp8oVkb8c_pL7H02ZZO9Q1Q3IrXAGcNZAptqYjiy53LwIMGLhcsibQXrygycJH5jgN4enwhPegaKmIp1mvS-tHYNMqU0xZ9P/s400/screenshot-1336481752845.jpg" height="400" width="240" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2012/01/20/lessons-learned-for-lightweight-travel.html">
            Lessons Learned for Lightweight Travel to Europe
          </a>
        </h3>
        <span class="post-meta">Published on Jan 20, 2012</span>
        Now that our Europe trip has ended, I need to leave a note of things I wish we had done better, both travel-wise, and the stuff we brought along.<br />
<br />
I like to travel light, and find it a little comical when I see people struggling with giant 70L backpacks; my partner and I always do carry-on, no matter for a two week trip, or two months. (This means our packs have to weigh less than 7KG). Even in winter it is possible to pack light. The trick seems to be only packing what one will use&nbsp;regularly, with no duplicates, of appropriate size, and hopefully reusable for other purposes. Don't pack anything you would be gutted if it broke.<br />
<br />
The lessons below are not just to pack light, but also to reduce stress. Some really only apply to me for next time :) This is not a howto list on packing light for travel, just a few things I need to do better for next time.<br />
<br />
<b>Electronics</b><br />
<b><br />
</b>Only bring electronic devices that can be charged by USB, which leads me to my next point...<br />
<br />
Look on eBay <a href="http://www.amazon.com/s/?_encoding=UTF8&amp;bbn=2407773011&amp;camp=1789&amp;creative=390957&amp;keywords=usb%20travel%20charger&amp;linkCode=ur2&amp;qid=1359631165&amp;rh=n%3A2335752011%2Cn%3A!2335753011%2Cn%3A2407755011%2Cn%3A2407761011%2Cn%3A2407773011%2Ck%3Ausb%20travel%20charger%2Cp_72%3A2491149011&amp;rnid=2491147011&amp;tag=kelvinismcom-20" target="_blank">or from Amazon</a><img alt="" border="0" height="1" src="https://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" style="border: none !important; margin: 0px !important;" width="1" /> for a USB charger that has multiple inputs (make sure it has enough amps if you are charging certain phones). It became a hassle trying to charge four or five devices using just one USB charger. The charger, if going to Europe, should have room to accept a ground, or be able to get around the ground plug used in many places. In other words, get one like <a href="http://www.amazon.com/gp/product/B005DOKG70/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005DOKG70&amp;linkCode=as2&amp;tag=kelvinismcom-20">this one</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B005DOKG70" style="border: none !important; margin: 0px !important;" width="1" /> not like <a href="http://r.ebay.com/RQ5an7" rel="nofollow" target="_blank">this one</a>&nbsp;(basically, not like any of the block ones from eBay). Once again, try to get a 4-port one with travel adaptors included.<br />
<br />
I'm going to consider not bringing my Kindle next time, but instead bring one paperback book. The weight might be about the same. I might not even bring a book - less stuff to break or get wet. I don't do much reading on my travels anyway, instead writing in a journal or finding out what to do next.<br />
<br />
Get an <a href="http://www.amazon.com/gp/product/B002UT42UI/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002UT42UI&amp;linkCode=as2&amp;tag=kelvinismcom-20">Eye-Fi</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B002UT42UI" style="border: none !important; margin: 0px !important;" width="1" />&nbsp;or be able to read a USB stick with my phone. I need to figure out a way to backup photos from my camera to the cloud every night using only my phone (if the hotel has free wi-fi). Sorry if you are the guest next door...<br />
<br />
<b>Going Light</b><br />
<br />
Don't bring jeans, or bring only one nice pair of pants for semi-formal situation. I have to admit, I almost never wore my jeans. After only&nbsp;wearing&nbsp;them once or twice they would get wet, dirty, and/or smelly, so I would be forced to wear my Columbia <a href="http://www.amazon.com/gp/product/B00AHLYP5I/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00AHLYP5I&amp;linkCode=as2&amp;tag=kelvinismcom-20">pseudo-hiking pants</a>&nbsp;over and over<img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B00AHLYP5I" style="border: none !important; margin: 0px !important;" width="1" />.&nbsp;The pants are not particularly stylish, especially in European cities, but they are reasonable warm, repel water, dry quickly, and are exceptionally light. After weeks of abuse they didn't smell, or look dirty, somehow. I'm a bit of a Columbia fan...<br />
<br />
Try to find one pair of shoes that are ergonomic and athletic enough for walking 20KM/day, or on a trail, but also stylish enough to go into a nice restaurant and not draw too much attention. And dry quickly. I don't really have any suggestions, since I'm still looking, but I'm certainly never going to put <a href="http://www.amazon.com/gp/product/B001TDKZEI/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B001TDKZEI&amp;linkCode=as2&amp;tag=kelvinismcom-20">my Allen Edmonds shoes</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B001TDKZEI" style="border: none !important; margin: 0px !important;" width="1" />&nbsp;in a backpack. I am an AE fan, too...<br />
<br />
Bring cotton undershirts instead of normal shirts for winter travel. I never ended up wearing a t-shirt on the outside, so the shirts were basically just used to keep the rest of my clothing clean. I may look into undershits that wick better than cotton.<br />
<br />
Replace my money belt with something. It is just uncomfortable. I am trying to find an alternative, maybe something that goes over the shoulder instead. I only need something for my passport.<br />
<br />
My <a href="http://www.amazon.com/s/?_encoding=UTF8&amp;camp=1789&amp;creative=390957&amp;field-keywords=gloves%20fingerless%20thinsulate&amp;linkCode=ur2&amp;rh=i%3Aaps%2Ck%3Agloves%20fingerless%20thinsulate&amp;tag=kelvinismcom-20&amp;url=search-alias%3Daps" target="_blank">fingerless gloves</a><img alt="" border="0" height="1" src="https://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" style="border: none !important; margin: 0px !important;" width="1" />&nbsp;worked really well, because I could still use my mobile phone without taking off my gloves.<br />
<br />
<b>Staying Clean and Healthy</b><br />
<br />
Bring two large dry bags for dirty clothing, a dry bag for larger electronics, a dry bag for electronic cords/cables/chargers, and a dry bag for lotions and creams. Or get indestructible bags. The zip-loc bags I brought all had holes within the first few days of travel, spewing my cables everywhere. The corners on any bottle tears straight through them. I have since bought some <a href="http://www.amazon.com/s/?_encoding=UTF8&amp;camp=1789&amp;creative=390957&amp;keywords=loksak&amp;linkCode=ur2&amp;qid=1359632248&amp;rh=i%3Aaps%2Ck%3Aloksak&amp;tag=kelvinismcom-20" target="_blank">Loksak bags</a><img alt="" border="0" height="1" src="https://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" style="border: none !important; margin: 0px !important;" width="1" />, and a year later they are still holding up.<br />
<br />
Bring more vitamins, both Multi and C, especially if in winter. A tube from an energy capsule mix would work well to store them in, or Vitamin C fits well into a Tic-Tac container. Only bring enough pills that you need. For instance, I usually only bring two pills of Gastro-Stop, because that stuff works maybe too well. Also, vitamins were really inexpensive in parts of Europe compared to most places I have lived.<br />
<br />
Long Johns next time we travel in winter and it looks to go below 0C. We were OK, but that extra layer would have been nice.<br />
<br />
Buy a Mach 3 as soon as possible. I tried shaving in Prague before the opera with a normal three blade razor, and it was horrible. I had to use an entire pack just to see skin, and even then had little patches of hair that I couldn't get. I'm never making that mistake again. Alternatively, I'm thinking of getting a portable <a href="http://www.amazon.com/gp/product/B001ANH1S0/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B001ANH1S0&amp;linkCode=as2&amp;tag=kelvinismcom-20">Sanyo electric razor</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=as2&amp;o=1&amp;a=B001ANH1S0" style="border: none !important; margin: 0px !important;" width="1" />&nbsp;that I saw my dad use when we were in New Zealand.<br />
<br />
<b>RELATED</b>: I have added a similar entry on our <a href="http://www.kelvinism.com/2013/01/lessons-learned-from-kathmandu.html" target="_blank">recent trip to Nepal</a>&nbsp;(12/2012).</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/11/24/lessons-learned-losing-parts_458.html">
            Lessons Learned: Losing Parts
          </a>
        </h3>
        <span class="post-meta">Published on Nov 24, 2011</span>
        <p>I don't know how many times I've lost tiny parts and had to spend time trying to find them. I realized after removing the back of my monitor that I'm starting to learn from those mistakes; instead of just sticking the screws in a box with other screws, and then having to dig them out, I taped them to the back of the monitor.</p><a href="https://picasaweb.google.com/lh/photo/OqMPZv-C1FIlFQUDle20ttMTjNZETYmyPJy0liipFm0?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjdsrGGIgIwudUyykswXY0FS7wK2fssrepfNQqldElC7NFgom4pMNJ8amETDCayCKzgOkMeJFNlSNbC4y6lOs9Oj9fK1i5DWNpTF5CoRr_h0rb1s-OUm88qoNyODThD1zm4vmh0Ygt1a3Qu/s400/IMG_20111103_191634.jpg" height="400" width="300" /></a><br /><br /><p>This sounds small, but after doing it I realised how many times I had to hunt through a box of screws trying to find the exact one that fit. Lesson learned.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/10/14/destroying-hard-drives_7046.html">
            Destroying Hard Drives
          </a>
        </h3>
        <span class="post-meta">Published on Oct 14, 2011</span>
        If you're like me there is a box of hard drives sitting in a dusty corner somewhere. Some are mine, some are others', but they are all in a failed or semi-failed state. So, why have I lugged them around? I've been a bit paranoid about throwing them away. Some of the hard drives are encrypted, others aren't, and the drives from friends certainly aren't. Although the chances of somebody getting the drive from a landfill and restoring it is minimal, I never wanted to take the chance.<br />
So, I kept lugging a bag of drives through each move.<br />
My friend Clinton has recently returned from Europe, and he brought me a gift: a Swiss-made Victorinox, the 'CyberTool'. After playing with it for several minutes I noticed it came with a Torx 8, 10 and 15 bit. This was a reminder that one method of mostly disabling a hard drive is to destroy the platters.<br />
Other methods I have heard are to use a hammer and nails - which I unfortunately don't have in our tiny apartment. Whilst finishing Dexter I started pulling apart the box of hard drives, and it surprisingly didn't take long to disable them.<br />
<b>Step 1:</b> Remove Torx screws<br />
<div class="clear">
</div>
<br />
<a href="https://picasaweb.google.com/lh/photo/O-GmE3eHG9U-OXc9ofhHUQ?feat=embedwebsite"><img height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjhokbuYUa7JT8XbrfA5vuGKjO6pQYrgLdiawZ5Eh5OyfQRjmQhpmUIi3_tDHxOrddforwq3gUXMqlDRu0SXknw6N5YlcPZLV-OIhLwihNfLY9Ycfr1VVUeVR0NW-TwW529hECpY22S7aF1/s400/IMG_20111014_185852.jpg" width="400" /></a><br />
<br />
<div class="clear">
</div>
<br />
<br />
<i>Hint: Don't forget the screw covered under the paper.</i><br />
<b>Step 2:</b> Use a flathead and pop off the cover<br />
<div class="clear">
</div>
<br />
<br />
<a href="https://picasaweb.google.com/lh/photo/UCY5r3qEBeaG-mcWOmIYnQ?feat=embedwebsite"><img height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZ4_UT3RI6qGVg9m9FVYwY8dB3fo1qkzb1J1Qg5KYQF-iRms69p7VGFveWqiPIfQUcE3xqFVFTmf6xyDKpPZll34hp3OqdIkGd-5gZZxktCQUqm9YyhIgCa0uIUcTO8BUt8YRaUYiQEzmg/s400/IMG_20111014_185947.jpg" width="300" /></a><br />
<br />
<div class="clear">
</div>
<br />
<br />
<b>Step 3:</b> Stare at the shiny platters<br />
<div class="clear">
</div>
<br />
<a href="https://picasaweb.google.com/lh/photo/cab-oE-cD1Hmeel3o90pfA?feat=embedwebsite"><img height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEghjNb9VTfqmTLc84ZVOCFmv5qXFvAk6cz6Ei5htC4mLy5OCS20DWYBpg60YjXYbBg5NJSysM6W2OxwV7t3KoPw8nlEYphCNSCNrkC2DaeCeTWvhYRPG2rl574JO7edsvrdFSTcm9TDjtae/s400/IMG_20111014_190003.jpg" width="400" /></a><br />
<br />
<div class="clear">
</div>
<br />
<br />
<b>Step 4:</b> Scratch platters with flathead, and bend platters if possible<br />
<div class="clear">
</div>
<br />
<br />
<a href="https://picasaweb.google.com/lh/photo/tlrCm21ZQ1Mi26iXw6Gztw?feat=embedwebsite"><img height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEibfpUo1aD4D_lhwKNJ6qNE3GXnpINN_YE7OY64sY22gSXvJavK_Nw6ZUOh_vpwKBEosV-S7BQw0lwckvQ5ziDnN2dXeE7_yuwYEUpu3PJYPiJYXrGHl2Y1tPozvjVc7_3h_3VmyuMeQU8H/s400/IMG_20111014_190303.jpg" width="400" /></a><br />
<br />
<div class="clear">
</div>
<br />
<br />
<b>Step 5:</b> Dispose of bits and pieces<br />
<div class="clear">
</div>
<br />
<br />
<a href="https://picasaweb.google.com/lh/photo/gObs85TTYvn_1ys6X3Ov4Q?feat=embedwebsite"><img height="300" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgXzJNr7AWUFmKANBfziWE9tnQjF9jJIJWLthyphenhyphenY_vMAnQ5bz647GTjtW4p7yMGMw1hZvknO9V6pf6QQ-eMUtfILS9qVNcuzTwoqE1XD8wxpYUmyjBt_3vOjqZpcj1KMZ-kf1JGV7QrASHiS/s400/IMG_20111014_192607.jpg" width="400" /></a><br />
<br />
<div class="clear">
</div>
<br />
<br />
<b>Warning!</b> The CyberTool didn't have a Torx small enough to open the 2.5" hard drives, but I could just use a pair of pliers to lift up the cover and jam a flathead in there. However, and here's the warning, 2.5" platters are sometimes not made of metal. I forgot about this on the third 2.5" hard drive and covered the desk I share with YS with shards of glass.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/06/11/fusion-tables-and-131500-stops_465.html">
            Fusion Tables and 131500 Stops
          </a>
        </h3>
        <span class="post-meta">Published on Jun 11, 2011</span>
        A short while ago I wrote about <a href="http://www.kelvinism.com/articles/visualizing-transport/">visualizing transport</a> by using 131500's TDX data, converted to GTFS, and served by GeoServer. Because I've started <a href="http://www.kelvinism.com/travelmap/">playing around</a> with Google's Fusion table, I thought it would be interesting to see what all the transit stops in Sydney look like in FT. So, voila!<br />
<iframe height="400px" scrolling="no" src="http://www.google.com/fusiontables/embedviz?viz=MAP&amp;q=select+col0%2C+col1%2C+col2%2C+col3%2C+col4%2C+col5%2C+col6%2C+col7+from+985552+&amp;h=true&amp;lat=-33.86129311351552&amp;lng=151.04141235351562&amp;z=10&amp;t=3&amp;l=col7" width="600px"></iframe></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/06/08/reload-cisco-router-without-worry.html">
            Reload a Cisco Router WIthout Worry
          </a>
        </h3>
        <span class="post-meta">Published on Jun 8, 2011</span>
        Recently I tried editing my Cisco's ACL at home on the train. It went something like this:<br />
<ul>
<li>I logged in</li>
<li>I started updating the ACL</li>
<li>I hit a blackspot in my 3g coverage</li>
<li>My command stops at "router(config)#access-"</li>
<li>I get a call from my partner saying "what did you do to our internet!"</li>
</ul>
Although it is simple enough to just ask her to "flip the switch on the black box", I still don't like doing it. Plus, if she's not home, I'm stuck. This accident immediately reminded me of one of a trait of the 'reload' command: it can be scheduled.<br />
<br />
In the case of updating a device remotely, it is as easy as:<br />
<br />
<pre code="plain">router# reload in 2
router# conf t
router(config)# [type in desired commands]
router(config)# exit
router# reload cancel
</pre>
<br />
If the commands are entered in fine, then cancel the reload. If there is a problem, then the router will reboot and resort to the startup config.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/06/06/converting-gtfs-to-graphserver.html">
            Converting GTFS to GraphServer
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2011</span>
        If you want to use Graphserver to do some analysis with GTFS, you will need to convert GTFS into the database. This is how I did it.<br />
<h4>
Get an appropriate AMI from Amazon's EC2</h4>
I used the following AMI. If you have enough memory, you don't need to do this.<br />
<br />
<pre>ami-7000f019
</pre>
<br />
Lookup and read the GTFSDB <a href="http://code.google.com/p/gtfsdb/downloads/detail?name=GTFSDB%20INSTALL.txt" rel="nofollow" target="_blank">INSTALL.txt</a> document<br />
<h4>
Prepare system</h4>
<pre>sudo apt-get install mercurial
hg clone https://gtfsdb.googlecode.com/hg/ gtfsdb
sudo apt-get install python-setuptools
sudo easy_install psycopg2
sudo apt-get install build-essential</pre>
<h4>
Download GTFS database</h4>
<pre>ubuntu@domU-12-31-39-00-5D-B8:/mnt/gtfsdb$ pwd
/mnt/gtfsdb
sudo python setup.py install
sudo wget http://cdn.kelvinism.com/google_transit.zip
sudo apt-get install python-psycopg2</pre>
<h4>
Prepare configuration file</h4>
<pre>#default.cfg
[options]
create = True
database = postgresql://nsw:131500@10.128.49.175:5432/nsw
filename = /mnt/google_transit.zip
geospatial = True
#schema = None</pre>
<h4>
Perform import</h4>
<pre>screen
python gtfsdb/scripts/load.py
</pre>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/04/03/visualizing-transport_1492.html">
            Visualizing Transport
          </a>
        </h3>
        <span class="post-meta">Published on Apr 3, 2011</span>
        I've had several conversations with neighbors and co-workers about the "lack" of forward thinking, or at least the lack of forward action.  Of course, I keep in the back of my mind that we aren't "experts", and the more I learn about transport the more I learn how complex it is.  Dr. Sussman's <i>CLIOS</i> process (Complex, Large-<br />Scale, Integrated, Open Systems) appears more and more true the longer I work in and study transport.  There is a plethora of excuses that can be made, but the general conclusion was that the earlier we prepare the better.  I can remember working near Zhongshan 7-8 years ago and driving around on huge roads in the middle of empty fields. There weren't even stoplights at every intersection. It was then that I had an epiphany of how smart the planning was to build the infrastructure <i>before</i> the masses arrived.<br />
<br />
Sydney is estimated to increase by some 1.7 million people by 2036, and I can tell you, from a transportation (private and public) standpoint, that sort of scares me.  When people ask me why transport is so difficult I justify it by with my uneducated guess that the CBD is next to the ocean, so everybody travels in from just 180 degrees instead of 360.  Maybe this is why the NSW government created the "<a href="http://www.metrostrategy.nsw.gov.au/TheStrategy/tabid/38/language/en-US/Default.aspx">City of Cities</a>" strategy.  I realized this within the first few weeks: most people live west but work east.<br />
<br />
Tonight (a Saturday) I was bored, and should have been studying, but wanted to create a few visualizations first.<br />
<br />
The below maps were created using TDX data released from 131500. After converting it to GTFS I imported it into PostGIS using GTFSDB, and then could serve it via GeoServer.  Finally, I could access it via WMS in QGIS.  I added the stops into a map of Sydney and added some boundaries, and added the Growth Zones. The result was a map with every bus/train/ferry stop.  Darker areas have stops that are closer (not necessarily more frequent service).<br />
<br />
<br />
<a href="https://picasaweb.google.com/lh/photo/OFVoJjgA8rE7DnDEn-5s8g?feat=embedwebsite"><img height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhkt_ncrwpoO0aHDkgFihoyvgu9rtIcFwlzQzteTjYbpmXDxHnOB4iLmDdKQOcDXxKSJ8qeNrEHbm_Pa_5RNvLmLKlmNCrtQLGb5Q-_KKcIuyE9t-7UMPZx20cA3vdnprQLo4zKQCIwndyi/s400/Screenshot-4.png" width="367" /></a><br />
<br />
<a href="https://picasaweb.google.com/lh/photo/GOEcSQyVq9ExTJdIYzTF0Q?feat=embedwebsite"><img height="273" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjMg3aEJToq5P2XQm2Yq4550mzTi6q9AsSv7dPaeqSyNahlZ01lRpglbMnC7s6_f8XDD1Sewna-aFKq_QwO2Zl4FRkrggnMeRlS87go9qFmJhKYMHyIVvr7tl1Zx0NQ8lKV_DTeLOUota8z/s400/growtharea.png" width="400" /></a><br />
<br />
<a href="https://picasaweb.google.com/lh/photo/Yp2Z2tpQ2OKGKs52WAJkiw?feat=embedwebsite"><img height="273" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhy_Fbqf9siL_AND2UfnYRLbG2UGqb64rSWXBZrTKRGBjBw8rj3IV9_AQqYs0b_kc5ohyqxAuBoFq-sTYspWPgIagbRELFe995VnWuvmlt01aXUirynovd2hCwC6Zom31z6Pyvpabl13N0I/s400/growtharea2.png" width="400" /></a><br />
<br />
One of the first things I noticed is that there isn't much physical infrastructure in these areas.  There also aren't many transit stops; I suppose this is why the <a href="http://en.wikipedia.org/wiki/South_West_railway_line,_Sydney">South West Rail Link</a> is going to be so important. I don't know all of the political ramifications, but let's hope the <a href="http://en.wikipedia.org/wiki/Proposed_railways_in_Sydney#North_West_Rail_Link_.28NWRL.29">North West Rail Link</a> is built as well?</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/01/19/removing-unused-contenttypes_4881.html">
            Removing Unused ContentTypes
          </a>
        </h3>
        <span class="post-meta">Published on Jan 19, 2011</span>
        I've been cleaning up my personal blog a bit, and I noticed that my tagging system recently broke.  I've investigated the cause, and it appears to be because I removed some apps but the contenttypes remained.  This meant that whenever I tried calling a tag with a TaggedItem that had been deleted, I was getting this error:<br />
<pre class="brush: bash; light: true; ">'NoneType' object has no attribute '_meta'
</pre><br />
<br />
The solution is to first list all app_labels for contenttypes, and then delete any not in use.<br />
<pre class="brush: python; light: true; ">In [61]: from django.contrib.contenttypes.models import ContentType</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/01/18/integrate-imified-into-django_2631.html">
            Integrate imified into Django
          </a>
        </h3>
        <span class="post-meta">Published on Jan 18, 2011</span>
        I recently had the desire to send small updates to my so called <a href="http://www.blogger.com/about-me/">lifestream</a> page via XMPP/GTalk.  I played around with Twisted Words and several other Python XMPP clients, but I didn't really want to keep a daemon running if unnecessary.  It turns out imified took a lot of the pain out of it.  The steps for me were as follows:<br />
Create an account with imified, and create a URL, e.g. /app/api/<br />
We then configure the <b>urls.conf</b><br />
<pre class="brush: python; light: true; ">urlpatterns = patterns('',   
(r'^app/api/$', bot_stream),
)
</pre>
<br />
<br />
We then create the necessary views. So, in <b>views.py</b>:<br />
<pre class="brush: python; light: true; ">from django.shortcuts import render_to_response
from django.http import HttpResponse
from lifestream.forms import *
from datetime import datetime
from time import time</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2011/01/09/stock-android-and-postfix_2931.html">
            Stock Android and Postfix
          </a>
        </h3>
        <span class="post-meta">Published on Jan 9, 2011</span>
        I was having some issues with my personal mail server (Postfix) and my phone (Android).  The logs depicted the below issue:<br />
<br />
<br />
<br />
<pre class="brush: bash; light: true; ">Jan  9 09:19:53 ip-11-222-23-223 postfix/smtpd[12345]: NOQUEUE: reject: RCPT from 12-13-14-15.abc.com.au[12.13.14.15]: 504 5.5.2 <localhost>: Helo command rejected: need fully-qualified hostname; from=<emailaddr kelvinism.com="kelvinism.com"> to=<emailaddr gmail.com="gmail.com"> proto=ESMTP helo=<localhost>
</localhost></emailaddr></emailaddr></localhost></pre>
<br />
<br />
We can see here that the stock Android email client is doing a 'helo localhost'.  One part of my main.cf file specifies this:<br />
<br />
<pre class="brush: bash; light: true; ">smtpd_helo_required = yes
smtpd_helo_restrictions =
    permit_mynetworks,
    reject_non_fqdn_helo_hostname,
    reject_invalid_helo_hostname,
    permit_sasl_authenticated,
    permit</pre>
<br />
<br />
To resolve, unfortunately, just change the order to authenticated clients are permitted earlier:<br />
<br />
<pre class="brush: bash; light: true; ">smtpd_helo_required = yes
smtpd_helo_restrictions =
    permit_mynetworks,
    permit_sasl_authenticated,
    reject_non_fqdn_helo_hostname,
    reject_invalid_helo_hostname,
    permit</pre>
<br />
<br />
You also may need to do the same for smtpd_recipient_restrictions and/or smtpd_sender_restrictions (i.e. put permit_sasl_authenticated above the reject lines).<br />
<br />
<br />
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/10/28/hacking-splunk-with-python_9416.html">
            Hacking Splunk with Python
          </a>
        </h3>
        <span class="post-meta">Published on Oct 28, 2010</span>
        <p>A few weeks ago I saw an opening to give a 5-10 minute lightening talk at SyPy (Sydney Python), and with two nights to prepare, decided it would be interesting to explore Splunk's usage of Python.  Below was the quick presentation I gave.</p><br /><br /><br /><iframe src="https://docs.google.com/present/embed?id=dfqg2mcx_0c38zqxg8&interval=60&size=m" frameborder="0" width="555" height="451"></iframe></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/09/21/enable-icmp-through-ufw_461.html">
            Enable ICMP through UFW
          </a>
        </h3>
        <span class="post-meta">Published on Sep 21, 2010</span>
        <p>I like using Ubuntu's UFW command, but today I needed to allow outgoing ICMP.  I received results as so:</p><pre><br />$ ping 4.2.2.2<br />PING 4.2.2.2 (4.2.2.2) 56(84) bytes of data.<br />ping: sendmsg: Operation not permitted<br />ping: sendmsg: Operation not permitted<br />ping: sendmsg: Operation not permitted<br /></pre><br /><br /><br /><br /><br /><p>To allow outbound icmp I edited 'before.rules' and added the following lines.</p><pre>$ sudo vi /etc/ufw/before.rules</pre><br /><br /><br /><pre><br /># allow outbound icmp<br />-A ufw-before-output -p icmp -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT<br />-A ufw-before-output -p icmp -m state --state ESTABLISHED,RELATED -j ACCEPT<br /></pre></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/07/11/using-html-in-django-form-label_2240.html">
            Using HTML in a Django form label
          </a>
        </h3>
        <span class="post-meta">Published on Jul 11, 2010</span>
        I recently had the need to add some HTML to the label for a form field using Django.  The solution is pretty easy, except I didn't see it written explicitly anywhere, and I missed the memo of the function I should be using.<br />
My form first just had the HTML in the form label as so:<br />
<pre class="brush: python; light: true; "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/06/12/ubuntu-1004-django-and-gae-part-2_6130.html">
            Ubuntu 10.04, Django and GAE - Part 2
          </a>
        </h3>
        <span class="post-meta">Published on Jun 12, 2010</span>
        All my Django sites are running 1.2, which poses a conflict with writing apps for Google's App Engine, as use_library currently only supports &lt; Django 1.1.  There are two solutions that I found: a) use virtualenv, or b) chroot, which <a href="http://www.kelvinism.com/howtos/ubuntu-1004-django-and-gae-part-1/">I've already detailed</a>.  This document will hopefully show you how to create a virtual environment to use a secondary django version, especially for GAE.  Of the two options, I think this one is a bit quicker, but there will likely be tradeoffs that a chroot environment can deal with better, e.g. python imaging (I don't use it for GAE).<br />
First, install PIP and virtualenv:<br />
<pre class="brush: bash; light: true; ">
kelvinn@kelvinn-laptop:~/workspace$ sudo easy_install -U pip
kelvinn@kelvinn-laptop:~/workspace$ sudo pip install -U virtualenv</pre>
<br />
<br />
Second, configure an environment for any app that will use Django 1.1:<br />
<pre class="brush: bash; light: true; ">
kelvinn@kelvinn-laptop:~/workspace$ virtualenv --python=python2.5 --no-site-packages django-1.1
New python executable in django-1.1/bin/python
Installing setuptools............done.
kelvinn@kelvinn-laptop:~/workspace$ pip install -E django-1.1 yolk
kelvinn@kelvinn-laptop:~/workspace$ pip install -E django-1.1 Django==1.1</pre>
<br />
<br />
Now, download the <a href="http://code.google.com/appengine/downloads.html#Google_App_Engine_SDK_for_Python">python GAE sdk</a> and put it in the django-1.1 folder.  I also just dump any project directory requiring Django 1.1 into this django-1.1 folder, although I guess you could create a virtualenv for each project.  The last thing to do is start the virtual environment, and run the GAE app.<br />
<pre class="brush: bash; light: true; ">
kelvinn@kelvinn-laptop:~/workspace$ source django-1.1/bin/activate
(django-1.1)kelvinn@kelvinn-laptop:~/workspace$ yolk -l
(django-1.1)kelvinn@kelvinn-laptop:~/workspace$ cd django-1.1
(django-1.1)kelvinn@kelvinn-laptop:~/workspace/django-1.1$ ls
bin  google_appengine  include  lib  myproject1 myproject2
(django-1.1)kelvinn@kelvinn-laptop:~/workspace/django-1.1$ google_appengine/dev_appserver.py myproject1</pre>
<br />
<br />
When you're all finished, you can jump out of virtualenv:<br />
<pre class="brush: bash; light: true; ">
(django-1.1)kelvinn@kelvinn-laptop:~/workspace/django-1.1$ deactivate</pre>
<br />
<br />
<b>Update</b>: You'll find this article especially interesting if you get an error such as the following:<br />
<pre class="brush: python; light: true; ">
UnacceptableVersionError: django 1.1 was requested, but 1.2.0.beta.1 is already in use</pre>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/06/12/ubuntu-1004-django-and-gae-part-1_8750.html">
            Ubuntu 10.04, Django and GAE - Part 1
          </a>
        </h3>
        <span class="post-meta">Published on Jun 12, 2010</span>
        I've started to get into Google's App Engine again, and have started developing a simple product that I had a use for.  The initial first draft was a quick 200 lines in webapp, and it worked great.  However, I'm starting to find certain things quite cumbersome.  I'm a huge fan of Django, and but also about keeping things as simple as possible, which is why I picked webapp to begin with.<br />
I'm now considering making a swap to Django, but there are some development issues; namely, I'm using Ubuntu 10.04, Python 2.6, and Django 1.2.  This setup presents several setbacks, as GAE has the requirement of Django 1.1 and Python 2.5.  There are two solutions that I found: a) use virtualenv, which <a href="http://www.blogger.com/blogger.g?blogID=3439832858234004835#">I've detailed</a>, or b) chroot. This document will hopefully show how to configure a chroot environment of Ubuntu 9.10 and prepare it for Django on GAE.  Using a jailed environment should allow you to edit your code with your normal IDE and VCS, but use Django 1.1 and Python 2.5.<br />
First, I installed schroot and debootstrap.<br />
<pre class="brush: bash; light: true; ">
$ sudo apt-get install schroot debootstrap</pre>
<br />
<br />
Second, I edited /etc/schroot/schroot.conf and added the following section to the end.<br />
<pre class="brush: bash; light: true; ">
[karmic]
description=karmic
type=directory
location=/var/chroot/karmic
priority=3
users=kelvinn #your username goes here
groups=admin
root-groups=root
run-setup-scripts=true
run-exec-scripts=true</pre>
<br />
<br />
Third, I created the directories needed for the jailed environment and installed karmic.<br />
<pre class="brush: bash; light: true; ">
$ sudo mkdir -p /var/chroot/karmic
$ sudo debootstrap --arch i386 karmic /var/chroot/karmic </pre>
<br />
<br />
Forth, I logged into the jailed environment and updated packages, installed Python 2.5 / Django 1.1. Make sure to note that I don't call 'python', I call 'python2.5'.<br />
<pre class="brush: bash; light: true; ">
$ sudo schroot -c karmic
(karmic)root@kelvinn-laptop:~# apt-get update
(karmic)root@kelvinn-laptop:~# apt-get install python2.5
(karmic)root@kelvinn-laptop:~# cd /usr/src
(karmic)root@kelvinn-laptop:~# apt-get install wget
(karmic)root@kelvinn-laptop:/usr/src# wget http://www.djangoproject.com/download/1.1.2/tarball/
(karmic)root@kelvinn-laptop:/usr/src# tar -xpzf Django-1.1.2.tar.gz
(karmic)root@kelvinn-laptop:/usr/src/Django-1.1.2# python2.5 setup install
(karmic)root@kelvinn-laptop:/usr/src/Django-1.1.2# exit</pre>
<br />
<br />
Lastly, I log in as my normal user, and start the app. Let's say I have a folder called '~/gaeapps' for my GAE stuff, and that's where I put the SDK.<br />
<pre class="brush: bash; light: true; ">
$ scroot -c karmic
(karmic)kelvinn@kelvinn-laptop:~/gaeapps$ ls
google_appengine  myproject
(karmic)kelvinn@kelvinn-laptop:~/gaeapps$ google_appengine/dev_appserver.py myproject</pre>
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/05/20/debug-postfix-tip_7051.html">
            Debug Postfix Tip
          </a>
        </h3>
        <span class="post-meta">Published on May 20, 2010</span>
        <p>One thing I love about open source stuff is that the developers usually take great care to allow awesome debug messages.  There's a catch-22, however: how much logging to enable? Today I was creating a Postfix/Dovecot/Postgresql install and I kept getting an error message in mail.log, but it wasn't very helpful.</p><p>Luckily you can turn up the verbosity in Postfix for error messages.  You'll need to find out what component is in error, e.g. "postfix/virtual[4467]: warning:", and then open master.cf.  Add a -v to the end of the daemon that's faulting, and you'll get more logging than you know what to do with.</p><pre class="brush: bash; light: true; ">virtual   unix  -       n       n       -       -       virtual -v
</pre><br />
<br />
<p>I hope this helps somebody.  You can read more debugging tips on the Postfix <a href="http://www.postfix.org/DEBUG_README.html">DEBUG readme</a>.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/05/16/rip-old-sites_7527.html">
            RIP Old Sites
          </a>
        </h3>
        <span class="post-meta">Published on May 16, 2010</span>
        <p>Over the years I've created several websites, some with the hope of becoming big and popular.  Naturally, I'm still waiting to create a site that becomes big and popular.  In the meantime, it seems appropriate to retire some of the older sites and ideas.  The truth is, I'm moving all my little sites from MySQL on a mediocre VPS to Postgresql on EC2.</p><p>Because I put some sweat and blood into these sites, I thought it would be only appropriate to record how the sites looked for future sentimental value.  I downloaded a small plug-in for Firefox to take full-length pictures, and I thus post them here.</p><p>Back in Taiwan I created a site to demo blogs.  The idea certainly wasn't revolutionary, but I thought that somebody would find it useful.  Nope.</p><p>The second idea was to send a bunch of little ducks around the world and track their progress.  My friend Jamie took one to Europe, but besides that, I don't think most people really understood that they were supposed to hand the duck off to somebody else.  The main reason I created the site was because my partner was out of town.  I'll re-brand and launch it again if I can find a little twitter logo to send around, because hopefully people on twitter will understand to pass the duck onwards.</p><p>So photos for nostalgic sake.</p><div class="clear"></div><br /><br /><a href="http://picasaweb.google.com/lh/photo/LYDLBv2SkTJV-5barb0UzA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiXp_m4SvvN8PbAymlRJs2ZvT7KrZzCbqf4WAVWs-lt0Y41x9VUbhOjxEtvezbZAqKtmna3GW5g-uVXpkBa95u1uMV5yShzQZ6x0qalpOM8zmMqQ9WWl5g6wSAhqkCIVAdThIKDH9ozpYLM/s288/blogmozaic_front.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/ueEvQfTqKLwCSvK9CsQAqA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjUt2b5shCscp12lVUUBXnlC3GcWfaU83m2Ew4V7RRSq530tgGcUoiCT0sdA8C-3596klcwP2tedeshlYmdtizgPiVcv5HxNTmpYilEJ3mMxS3Vtol9mDBF23TlSN_YhbP4MQBXP9r06Um/s400/blogmozaic_list.jpg" /></a><br /><br /><br /><br /><br /><br /><br /><a href="http://picasaweb.google.com/lh/photo/PcPXbQv6iUwLlDcw8w6CxA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhYGMzQAzewL7jfYamv0CrDPIk97PyzteH0asEOqtODMpFiU_AiaU0TIgnc3uO1vlFFkv3OOGNH0GdiYqy-5kEgIr2rQVN-b5ka6WSyXMoIIBh0_jsj9zLDGq11cqs7RTMFHbL4CE7EfaZ_/s400/ducktracker_front.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/n4aEWCTxpy02ZN529pLKnw?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh3EzUKR873JiXy3kXp4Ic4u4T4vSzc3KJz9XXhq4V5HN5mVA1cx8uvQCbgRO7JejPEDB18731_c_BltqOkWoD7-si6q-ELuT3xEjoP20nD7R-RCcCM7nDKJsKKpL6-5Dre3ESBuznzjO5F/s400/ducktracker_details.jpg" /></a><br /><div class="clear"></div><br /><br /><p>It is always a bit rough retiring old sites, but looking back I learned a little, had some hope, and that's all I can ask for.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/05/16/retiring-old-websites_2251.html">
            Retiring Old Websites
          </a>
        </h3>
        <span class="post-meta">Published on May 16, 2010</span>
        <p>Sometimes all good things <a href="http://www.kelvinism.com/tech-blog/rip-old-sites/">come to an end</a>.  There aren't too many links going into either of these sites, but I'd like to redirect <u>all</u> of them to a page on my blog saying the website doesn't exist anymore.  I've already created simple screendumps for nostalgic purposes with the Firefox plugin Screengrab!, so the remaining simple server-side steps are:</p><ul><li>1) Edit the DNS records from the live server to the server with the notice page is on.</li></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/05/16/retiring-another-site_942.html">
            Retiring Another Site
          </a>
        </h3>
        <span class="post-meta">Published on May 16, 2010</span>
        <p>After much consideration, I've decided to retire yet another website: Colddirt.  This site was created as an example of how to use the different parts of Django, mostly in just one afternoon.  I've decided it is time to just take a few screenshots and retire the site - the domain is expiring, and honestly, I don't want to spend $10 to renew the domain.  So, here are the screenshots.</p><a href="http://picasaweb.google.com/lh/photo/ePVyNddWOBJSJWqEIhYalw?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi09jrZynm_kNvbfNESRQ9Dp8epPrHZ2iIrLNkGcoV2XpenNw51zVDWyq9rQmtdnYtabIsTnGaN0G9cWio2VhwKEmXkAdDd0ec0E6yr4uLeokPiZrVVMhoy3b9Ud34QWHHpPAueSWNnn_So/s400/colddirt_2.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/dUx9f_L2Es2gV5omSaWeGQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiun0nAJr22Vwiat1OPdZSUwhSbCCq6Ak-v2U-R3NXpd0Qe_1u7u5U6Ad2_HqKIGmFf8AP3tYDL2coPTkKnZ1rArEvpoMDHG49XGG6jx9KV3kWikjtxH5hoCGOol6j7RSAlmkG1JPuxO2Ky/s288/colddirt_3.jpg" /></a><br /><br /><br /><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/02/12/fun-with-osm_3920.html">
            Fun with OSM
          </a>
        </h3>
        <span class="post-meta">Published on Feb 12, 2010</span>
        <p>I have to admit, to me, editing <a href=http://www.openstreetmap.org/>OpenStreetMap</a> is actually a little therapeutic.  Sort of like gardening.</p><p>My first major contribution was when I brought my little QStarz GPS unit across Indonesia, by train, sitting against the window.</p><a href="http://picasaweb.google.com/lh/photo/a9waevHOnamwhJuZ0631AQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhVRc8DuYUf5aDc9yLzjBA5JZmXTczhYyV8R4LeLVmss6J1D7RvhUo5MvP-NRqbOQ7a-v9UBY0vqlIEG_nXnQ0XJ3cZjDGBtmAygoJNRUu7R3ptkL7TtnRQM3fnRYhq01LZjLCLi6b2c3ll/s288/indorailroad.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/xg8TeUUtiZZhLH8T2irceA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEihqDfKD5tB1QYhRxDb3FFUfxBaDTMn7gNCdK7SeVrC_JzI5OwYdYS2NFaZ5hh-dtX3GgRW4Ony8XAbIr8hRKYNP1UMQmKAoSM7CoX-YsoYdYYwwCQm_jjnRCzRFcxdkiD2olu-guGS0s4e/s288/dubbozoo.jpg" /></a><br /><br /><p>The most recent contribution was our trip to Dubbo, where I helped fill in a few missing roads, and added an initial outlay of Dubbo Zoo.</p><p>If you have a GPS or have $60 to spend on one, and like anything CAD-drawing like, give editing OSM a try!</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/01/24/reduce-bandwidth-by-shrinking-images_3510.html">
            Reduce Bandwidth By Shrinking Images
          </a>
        </h3>
        <span class="post-meta">Published on Jan 24, 2010</span>
        <p>My girlfriend's brother has a simple WordPress-based website that I set up for him a few year ago - and he likes to post a lot of images.  For various reasons I have it hosted on my VPS in Australia, which only comes with 15GB of bandwidth, most likely because I got a crazy good deal on it.</p><p>The problem is, that isn't much bandwidth.  Each page of his site was previously using almost 10MB of bandwidth per view - which meant the 15GB was running out.  I deduced the high usage in Firebug and noticed it was *gasp* from large images, some almost 1MB large.  The images on the server are contained in subdirectories under a gallery folder - and I wanted to resize them.  What I actually wanted to do was:</p><br />
<br />
1) If the image was over 1024x900, resize it.<br />
<br />
2) If the image size (bytes) was over X, lower the quality.<br />
<br />
<br />
<p>I ended up using ImageMagick, which is what first obviously came to mind for image manipulation.  While there is likely a better way to resize all the images, this is what I came up with.  Maybe somebody else will find it useful too.</p><pre class="brush: bash; light: true; ">
for dir in /home/vhosts/website.com/html/wp-content/gallery/*
do
cd $dir
for filename in *.jpg
do
echo Filename: "$filename"
width=`identify -ping -format %w "$filename"`
height=`identify -ping -format %h "$filename"`
if [ $width -ge 1024 -a $height -ge 900 ]; then
convert "$filename" -resize "%80>" "$filename"
echo New Dimensions: $width x $height 
fi
filesize=`stat -c%s "$filename"`
if [ $filesize -ge 414981 ]; then
convert "$filename" -quality 90 "$filename"
echo Old Filesize: $filesize
echo New Filesize: `stat -c%s "$filename"`
fi
done
done
</pre><br />
<br />
<p>Save it as "resize.sh" and run it with "bash resize.sh".  The output:</p><pre class="brush: plain; light: true; ">Filename: img_5364.jpg
Old Filesize: 950748
New Filesize: 331426
Filename: img_5366.jpg
Filename: img_5367.jpg
Filename: 1c10_1.jpg
Filename: 1.jpg
Filename: 2752_1.jpg
Filename: 42920014.jpg
New Dimensions: 1544 x 1024
Filename: 42920017.jpg
New Dimensions: 1544 x 1024
</pre></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2010/01/01/french-word-collage_8613.html">
            French Word Collage
          </a>
        </h3>
        <span class="post-meta">Published on Jan 1, 2010</span>
        For the last year YS and I have been studying French once a week (4.5hr on Saturday!)  A few months ago I wrote some Python code to read the RSS feeds of the most popular French newspaper site, and then kept track of the count of each word.  I repeated this every week for a few months.<br />
In the end I had a database of the top ~3000 words used on the site.  Today I decided I wanted to play with <a href="https://www.blogger.com/www.processing.org">Processing</a>, so created this little word collage.  It is 1680x1050, my monitor's resolution.  Two thumbs up for Processing!<br />
<br />
<a href="http://picasaweb.google.com/lh/photo/LEhF_wU3cRN1nDSmZHV4yQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgRdZOipwir6sVYYSd-ciSK2ppCJyvzXX1fX4Tckt93ich-A-VRPGnoTT43vnj7416TxpbAwbku-yLTIzFaGMivL1EbuiOelhHWJ2PWphyzVnDLDrDmIuh7-RG4kvz5Kd8trb9rZLMII5-Y/s400/WordCloud_FR.jpg" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/12/05/vortex86dx-instructions-from-icop_3935.html">
            Vortex86DX Instructions from ICOP
          </a>
        </h3>
        <span class="post-meta">Published on Dec 5, 2009</span>
        <p>Alexandru T. and I have exchanged a few emails, and he sent through a few helpful suggestions that were provided from ICOP.  I have included them below. Thanks Alexandru!</p><br />
<br />
1. Install Debian 5.0 on a normal PC (using a netinst image, for minimal install)<br />
<br />
2. After installation boot normally from the same PC<br />
<br />
3. Then, take the kernel from ftp://icop.com.tw/DIS_info/VDX/operating_system/VDX_Linux/linux-image-2.6.30-vortex86mx_1.0_i386.deb and then issue the following commands :<br />
<br />
<br />
<pre class="brush: plain; light: true; "># dpkg -i  linux-image-2.6.30-vortex86mx_1.0_i386.deb
# update-initramfs -k 2.6.30-vortex86mx -c
# update-grub
# restart
</pre><br />
<br />
<br />
4. Then take the hard-drive and install it on the Vortex86DX<br />
<br />
5. When GRUB menu appears, press "e" and modify the boot loader as follows :<br />
<br />
<br />
<pre class="brush: plain; light: true; ">root        (hd0,0)
kernel        /boot/vmlinuz-2.6.30-vortex86mx root=/dev/hdb1 ro         --> if hdb1 does not work you can try (hda1= Primary Master or hdc1=Secondary Master)
initrd        /boot/initrd.img-2.6.30-vortex86mx
</pre><br />
<br />
Then press b to boot<br />
<br />
<br />
<br />
6. After booting, go to /boot/grub/menu.lst and make modifications from above permanently, so you will boot without any intervention ;)<br />
<br />
<br />
<br />
<p><b>Edit:</b>Bob A. has also sent through some additional resources for your eboxing pleasures.</p><p>FYI - this Swedish company,  <a href="http://www.lweb.se/tag/ubuntu/">http://www.lweb.se/tag/ubuntu/</a>, has a pre-made ISO for Ubuntu 8.04LTS with the correct kernel for the eBox 3300/3310.  It even supports the new (1011) IDE controller on the recent models.  You can just put the ISO on a thumb drive, stick it in your eBox, and install normally.  No need to install first on another machine, and no need to update the kernel after you're done.  If you're happy with running 8.04 then this is way easier than any other install option that I've found<br />
so far.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/11/03/lenny-on-ebox-3310a_5547.html">
            Lenny on Ebox 3310A
          </a>
        </h3>
        <span class="post-meta">Published on Nov 3, 2009</span>
        As a preface, I take absolutely no credit for the below instructions.  Stefan L kindly sent these through these instructions on installing Debian on the 3310A.  I need to send a special thanks to Stefan, as I receive a lot of emails about the 3310 - but I don't have one, so I can't really do much:(<br />
The only edit I've done is change out the links to my files on S3. If you find these helpful, or want to suggest an alteration, please leave a comment.<br />
Download these files first:<br />
<ul><li><a href="http://cdn.kelvinism.com/ebox/linux-image-2.6.31.5-vortex86-sl3_2.6.31.5-vortex86-sl3-10.00.Custom_i386.deb">2.6.31.5 kernel image</a></li>
<li><a href="http://cdn.kelvinism.com/ebox/linux-headers-2.6.31.5-vortex86-sl3_2.6.31.5-vortex86-sl3-10.00.Custom_i386.deb">2.6.31.5 kernel headers</a></li>
<li><a href="http://cdn.kelvinism.com/ebox/initrd.img-2.6.31-14-generic-pata_rdc">2.6.31-14 custom pata_rdc module</a></li>
</ul><br />
<br />
The steps to install Lenny to CF in brief is:<br />
<ul><li>1) Install i386 version of Lenny to CF on another computer</li>
<li>2) Add the revised kernel deb with dpkg -i *.deb</li>
<li>3) Change fstab from hda1 to sdb1 (sda1 if there is no micro sd card) - uuids <br />
may be better</li>
<li>4) Change /boot/grub/menu.lst to:</li>
<pre class="brush: plain; light: true; ">title           Debian GNU/Linux, kernel 2.6.31.5-vortex86-sl3
root            (hd0,0)
kernel          /boot/vmlinuz-2.6.31.5-vortex86-sl3 root=/dev/sdb1 ro verbose
</pre>5) Probably need to change /boot/grub/device.map <pre class="brush: plain; light: true; ">(hd1)   /dev/sda
(hd0)   /dev/sdb
</pre>With no micro sd it would be:
<pre class="brush: plain; light: true; ">(hd0) /dev/sda
</pre>6) delete the section below "# PCI device ...."   in /etc/udev/rules.d/70-persistent-net.rules (Otherwise the eBox network gets  remapped to eth1 and may not appear if only eth0 is specified in the network  settings)
7) <b>Reboot &amp; pray</b> (bold added by Kelvin:P ).
The next one is a revised initrd for the current Ubuntu 9.10:
http://staff.washington.edu/lombaard/initrd.img-2.6.31-14-generic-pata_rdc <a href="http://cdn.kelvinism.com/ebox/initrd.img-2.6.31-14-generic-pata_rdc-Ubuntu_9.10">2.6.31-14 pata_rdc module for Ubuntu 9.10</a>    The two changes are: blacklist dm_raid45 &amp; add pata-rdc.ko "blacklist dm_raid45" needs to be added to /etc/modprobe.d/blacklist.conf I managed to boot into gnome desktop without any further problems. I have enabled PCI IDE Bus Mastering, plug&amp;play and IDE native mode in the  bios. Hope this saves someone else a few hours of frustration. 
</ul></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/09/22/new-atheros-module-and-ubuntu_1580.html">
            New Atheros Module and Ubuntu
          </a>
        </h3>
        <span class="post-meta">Published on Sep 22, 2009</span>
        <p>I've been using Atheros for quite some time, and I've always liked the madwifi drivers.  They allowed really easy switching into monitor mode, and decent levels of packet injection.  However, since I'm mostly in an office now, instead of writing web apps in cafes and trying to score free internet,  I don't really need anything fancy.  My gentoo stage 1 (3?) days are over.  I use Ubuntu, because I'm lazy, and it mostly works.</p><p>My new laptop (well, 1.5 year old laptop now, but still new in my eyes) gave me the option between an Intel card and a Atheros wifi card.  I chose the Atheros card; then the ath5k module came out, and life has been turbulent ever since.</p><p>In summary:  the ath5k driver in the 2.6.28 kernel, which is what Ubuntu 9.04 uses, isn't as up-to-date as the drivers in compat-wireless. <i>Fancy that...</i>  This presents me with the option of compiling a new kernel specifically with it, or just installing compat-wireless.  I'm lazy, so...</p><p>I'll get a few basic troubleshooting commands out of the way first.  After updating the kernel I kept getting disconnected - it appeared I was associate/disassociating frequently.</p><pre class="brush: plain; light: true; "># dmesg
...
2577.134060] wlan0: associated
[ 2580.984838] wlan0: disassociating by local choice (reason=3)
...
</pre><br />
<br />
<br />
<pre class="brush: plain; light: true; "># lspci | grep Atheros
03:00.0 Ethernet controller: Atheros Communications Inc. AR5212 802.11abg NIC (rev 01)
</pre><br />
<br />
<br />
<pre class="brush: plain; light: true; "># ping 192.168.1.1
...
64 bytes from 192.168.1.1: icmp_seq=2409 ttl=64 time=1.13 ms
64 bytes from 192.168.1.1: icmp_seq=2410 ttl=64 time=2236.61 ms
64 bytes from 192.168.1.1: icmp_seq=2411 ttl=64 time=4562.40 ms
64 bytes from 192.168.1.1: icmp_seq=2412 ttl=64 time=6521.868 ms
...
</pre><br />
<br />
<p>The steps to resolve are as follows:</p><ul><li>1) Make sure you have headers for your current kernel.</li></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/09/21/remove-dead-tags_6886.html">
            Remove Dead Tags
          </a>
        </h3>
        <span class="post-meta">Published on Sep 21, 2009</span>
        <p>I've noticed my django-tagging install has been giving a lot of empty entries when doing a lookup on a tag.  Tonight I finally got around to looking at what was causing this.  This is surely not the best way to do this, but at 12:00am on a weekday, well, I shouldn't be doing it in the first place... I first wanted to see what type of content was generating the error:</p><pre class="brush: python; light: true ">for item in TaggedItem.objects.all():
try:
print item.object
except:
print item.content_type_id
</pre><br />
<br />
<p>Now that I could see what was causing it (I had removed an app that used django-tagging, but it left the tags with empty pointers).  Removing the empty tags was easy enough:</p><pre class="brush: python; light: true ">for item in TaggedItem.objects.all():
try:
print item.object
except:
item.delete()
</pre><br />
<br />
<p>No more hanging TaggedItems.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/08/30/most-frequently-used-french-words_140.html">
            Most Frequently Used French Words
          </a>
        </h3>
        <span class="post-meta">Published on Aug 30, 2009</span>
        Status: <i class="fas fa-check-circle"></i><br />
<br />
<br />
<br />
I'm currently studying French with my partner, and if you've read any of this site, you'll notice I'm a bit of a techie.  Often several of my interests collide, which is what happened today.  I was searching for the "most frequent french words," and while I found some lists, nothing was exactly what I wanted.<br />
My desire was to have a PDF of the top few thousand most used French words.  With the English translation next to it.  In order.  I've found some great resources, which I'll list now<br />
<ul>
<li><a href="http://www.fst.ch/FST/download/347_Voc_Courant.pdf">347 most frequent French words (78% of French conversations)</a></li>
<li><a href="http://en.wiktionary.org/wiki/Wiktionary:List_of_the_1750_most_frequently_used_French_words">Wiktionary entry of 1750 most frequently used French words</a></li>
</ul>
I've also found 100s of sites with 50 words or so - not exactly what I wanted.  This spawned a question for me: if I were to search a popular French newspaper website, what words would be the most frequent?  I would want to learn those first.  A few hours later, and I've compiled that list.  I'll write the details of how I did it at the end, but just know I collected over 16,000 unique words, and "read" over 80,000 words from a variety of articles.  Below is a PDF of the most popular words, ranked in order, with (maybe crappy) English translations.<br />
<br />
<a href="http://cdn.kelvinism.com/files/wordlist.pdf">The 3216 Most Unofficially Frequent French Words</a>&nbsp;(or <a href="http://cdn.kelvinism.com/files/wordlist.ods" target="_blank">download as ODS format</a>)<br />
<br />
More to come...! I'm going to continue building the database to make sure the ranking is correct, and will make some pretty graphs when I have time.  I will also likely modify things to include what type of word it is, and an example in a sentence.<br />
<br />
Please feel free to use this list as you see fit in accordance with <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC by 4.0</a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/07/14/testing-sms-gateways_5212.html">
            Testing SMS Gateways
          </a>
        </h3>
        <span class="post-meta">Published on Jul 14, 2009</span>
        <p>For one of my projects I'm testing an SMS gateway, and decided it would be fun to build a useful alarm clock out of it.  For those of you who know Python, you may find this funny.  /dev/ttyUSB0 is my Arduino with a temperature sensor.</p><pre class="brush: python; light: true; ">import serial
import urllib2</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/07/01/simple-arduino-led-tutorial_319.html">
            Simple Arduino + LED Tutorial
          </a>
        </h3>
        <span class="post-meta">Published on Jul 1, 2009</span>
        For this you'll need: an Arduino, an LED, a USB cable, and the Arduino software.<br /><br /><br /><a href="http://picasaweb.google.com/lh/photo/VUU7F7qd8doQ0pCcs88wPQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgSGIXNe3gLRzm8r7ioq8niUHdBdzZBD8L9WoBp4oQAIAtlbMGaI7r3RjGzEup0sN-sZKP7E0JQuUaH9jTtPE0at4L6MK_QwduouTOIyQFyEzC2bB9U_Y8ausq1PNXwdbqUzOccLRPNg2FF/s400/arduinowLED.jpg" /></a><br /><br /><div class="clear"></div><br /><br />1) Get the LED, and plug it in to your Arduino.  Plug in the long end to pin 13, plug the short end to the GND.<br /><br />2) Plug in the Arduino into your laptop. Go to Tools->Serial Port.  Choose the USB port that appears.<br /><br />3) Take the code from the <a href="http://www.arduino.cc/en/Tutorial/BlinkingLED">BlinkingLED tutorial</a> and paste it in to the arduino like so: <br /><br /> <br /><br /><a href="http://picasaweb.google.com/lh/photo/9cKJq_IKgb-LMXdghLOmCg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgD4UsTrzaB5lO4bVPBYinUZPyiFIUE17ygdSRy2ceZCmXOgcM_4ivrL6lho0DkZk5JbDQAmhyphenhyphenxz1bcS1FtZozT14oDmQQle0jYK5ckBOkjhbN9EBn2Oy84mTyoHcaJ7MctQWx5wBXjrQ5A/s400/arduino-LED.png" /></a><br /><br /><br /><br /><br />4) Hit File->Upload to I/O Board.<br /><br />5) Hit (physically) the little reset button.  Voila! a blinking LED!<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/07/01/arduino-101_3715.html">
            Arduino 101
          </a>
        </h3>
        <span class="post-meta">Published on Jul 1, 2009</span>
        Tonight, I'm proud to say, I've returned to childhood.  Let me explain.<br />
<div class="quoteboxright">
OK, fun over, back to work.</div>
<br />
For the last year I've been wanting to purchase an <a href="http://www.arduino.cc/">Arduino</a>, for no other reason than to play with.  Like a kid.  My Arduino arrived two days ago.  This is a story of problems, but not the pull-your-hair-out type, more the... like when you run out of gas in the middle of Sydney.  Going to your Christmas dinner.  In your friend's car.  Long story.<br />
<br />
As a kid I never really learned about electronics.  I took apart anything broken my parents set downstairs (and put back together the microwave I dismantled that my parent were going to give to my sister as a gift).  But no electronics.  I had a computer of some sort from when I was a wee kid, but not a single electronics kit, or not one I can remember.<br /><br />
I soon realised I forgot to order a few resistors needed for the various sensors I purchased.  This morning before work I stopped by the local electronics store, and like a kid in a candy shop, ordered $1.60 worth of resistors and LEDs.<br />
<br />
<a href="http://picasaweb.google.com/lh/photo/bQknpoVRSuBRuA6fRpHGqQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi9aGnpVsYFCvX_eDS2xdoGrwAqxlHjxESlPKtgiWtsPkXLnPNZ5awjyj-evmbnad6D1Q5VibWNtCwyRviSJip4uKDos8YM_uJybO_rvKtj6q4Amggs7xJ27DZ6lyTynzn3Da5f6uTLp9PA/s400/tempcode.jpg" /></a><br /><br />Just after coming home and eating insanely good Indian with YS, I set out to get an LED blinking.  Without too many troubles, <a href="http://www.kelvinism.com/howtos/simple-arduino-led-tutorial/">success</a>!  I graduated myself to the next grade and pulled out the temperature sensor.  I looked at the 'special' wires I bought to connect to the sensor and the breadboard, and I soon realised I actually purchased the M-&gt;F wires instead of the assorted pack.  I started looking around for cables I could cut.<br />
<br />
Spare USB cable, no. Telephone cable, maybe. My partner's iPod cable... and I realised I could just slice up one of the cables and see if it worked.  The cables were braided instead of solid coper, which sort of made my hopes sink, but it was too late now.<br />
<br />
I soon wired everything together as the various forum posts suggest, plugged it in to my laptop, started the Arduino software, and loaded the <a href="http://milesburton.com/wiki/index.php?title=Dallas_Temperature_Control_Library">Dallas Temperature Library</a>, and - "Invalid CRC".  I pulled the wires off, stripped a little more cabling off, plugged it back in, and tried again.  It worked!  I don't really know if the temperature is correct or not - we don't have any other way to measure it - but at this point, until I put in some more robust wires, I don't really even care.<br />
<a href="http://picasaweb.google.com/lh/photo/l1LM6Vq2tOQdvCD7HErEew?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhcGg4UbKOnexsGAxg-zxeSWpiF6o8z7oo2BGMcwzkQQ5ymggVqZhZWsXw2dlsWu_0jlCqVUfW3hncFswy8dHmRbqmlwobEGAjy1ffbs5Gn8AH6oSAYC7rEw9XIe-ITBIs1RLBNsxcoDACy/s400/arduino.jpg" /></a><br /><br />Overall, I'm happy.  I've created two simple physical computing missions, and wrote two blog entries, in well under two hours.  This has been quite a relaxing break from the other duties in life.  I plan to make the little system 'proper' (more robust), and link it to my <a href="http://www.kelvinism.com/tech-blog/true-consolidation">mini server</a>.  I'll then create a simple chart (via Google's API) to display on this website.<br />
OK, fun over, back to work.<br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/06/29/gps-gem-find-tangogps_8634.html">
            GPS Gem Find - TangoGPS
          </a>
        </h3>
        <span class="post-meta">Published on Jun 29, 2009</span>
        <p>I've been looking for a simple, no-hassles GPS display program for Linux, and I believe I finally found one: <a href="http://www.tangogps.org/gps/cat/About">TangoGPS</a>.  My requirements were quite simple; I needed something that would talk to gpsd, and display a dot on OpenStreetMaps.  I've been able to do this in other programs (even in 3d in WorldWind), but I wanted something to download the maps for me, and GTK+ would be a plus.</p><p>TangoGPS was easy to install (apt-get install tangogps), and on my test 'drive' home tonight on the train, worked a treat.  See related screenshots.</p><a href="http://picasaweb.google.com/lh/photo/vNZoB9SmFpD56_jeBok_bw?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjCZpESAjfzi9vfpNl9-oLamf_ZzN96dueCA-sF4S_ZZL7PLCOSrfYxV5J8CbEM_9kSgvq5LN5eP3WJFiO63f9SsvHpNFUFK98Ky4D_XgLFiv7PYylxKfOETZ_Mzte0eD0Qf5luS42ZKQWS/s288/Screenshot-tangoGPS-1.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/EkVKOqWOivLvpNLPR4bLeA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgyZJ76ASOVuPGCeFORR9NcVx8AHlKHKGk3dbye5tvUvk51vk5UlrsbYDgehXZW5p-AvLS7lIYM9zAT7D8u24NYZNYovBnPOyFmRs5EreGPqvHHKpWxLpazG8YFDBAhqqR97Nk-eoPen5rq/s288/Screenshot-tangoGPS-4.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/a06zkZFjGPvTCb4YnhpvNg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg15GIWpUUg0b-A-bC63sAY8trEQ7Z-PDeILoMVVYQCmW07_fbwd3Bi9zbyOzWaGeFwYpuLg2xSvXHYZjz8cvzl4o9hjMWIBzeibK5HdbgOXpN5gmbtRag4zdd7FzSKX1j8R4UzZL3qrXe6/s288/Screenshot-tangoGPS-3.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/fftLLN4LHCNuiuVLedKdEA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhCPnymeBncZTNSrMXTa2DQ3qg6JWpkKYNwqIqaOVtO2fNWz1rfA0GQZJM7fwiVI1zj77NFHWEgfcl_DhvanVm3ZoGMZVtU-96r-6puXzNj5Nj4p8rOtuSAMPXoYDKk10h2lOyYnPeKDD69/s288/xgps.jpg" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/06/17/iso-code-error_1265.html">
            ISO Code Error
          </a>
        </h3>
        <span class="post-meta">Published on Jun 17, 2009</span>
        <p>I've received this error a few times when working with pytz:</p><pre class="brush: shell; light: true; ">Error reading file '/usr/share/xml/iso-codes/iso_3166.xml'
</pre><br />
<br />
<p>In short, install the 'iso-codes' package in Ubuntu/Debian.  I'm sure this is covered in the manual that I didn't read, but I'm sure others didn't read it too.</p><pre class="brush: shell; light: true; ">apt-get install iso-codes
</pre></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/06/14/operation-cold-house_7266.html">
            Operation Cold House
          </a>
        </h3>
        <span class="post-meta">Published on Jun 14, 2009</span>
        Status: <i class="fas fa-check-circle"></i><br />
<br />
<br />
<br />
<p>My house is cold.  I want to start playing with simple electronics before starting <a href="http://www.kelvinism.com/projects/operation-field/">Operation Field</a>, so have created Operation Cold House.</p><p>This is just simply sticking a temperature sensor onto an Arduino, linking that up to my little home "<a href="http://www.kelvinism.com/tech-blog/true-consolidation/">server</a>", and uploading that to my website.  I'll display some nifty graphs, too, and link it to <a href="http://www.pachube.com/">Pachube</a>.  Stay tuned.</p><p><b>Update</b>: Complete!  The proof is <a href="http://www.kelvinism.com/howtos/simple-arduino-led-tutorial/">in the</a> <a href="http://www.kelvinism.com/tech-blog/arduino-101/">pudding</a>.  I now have a personal website from home (sorry, not public) that displays the daily and weekly temperature at home.  The process is basically like this: my little Arduino gathers the temperature, and is polled every minute with a python script via cron.  This script then sticks the time and temperature into MySQL.  It also exports the temperature to Pachube.  Every 30m I have a script that queries MySQL and uses Google's Chart's API to graph the temperature.  Looks great, I'll post a graph soon.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/06/14/installing-debian-50-on-vortex86dx_3246.html">
            Installing Debian 5.0 on Vortex86DX
          </a>
        </h3>
        <span class="post-meta">Published on Jun 14, 2009</span>
        <p>After writing about <a href="http://kelvinism.com/tech-blog/compiling-kernel-vortex86dx/">compiling a new kernel</a> for the Vortex86DX, I've had quite a few people email me asking how I installed Debian in the first place.  The installation is actually quite straightforward, but it involved several quirky techniques.  After doing another install I decided to keep track of the process of installing Debian 5.0 on my eBox-3300.</p><p>The following guide assumes a few things.  First, you are currently using Linux and a debian variety (although instructions could be altered if using Windows).  Second, your USB shows up as /dev/sdb.  Third, your eBox-3300 has the HDD set in Native mode.  Forth, you are patient.</p><p>1) Download the custom vmlinuz and initrd.gz files from my site.  Also, download the custom deb files we'll use near the end of installation:</p><pre class="brush: shell; light: true; ">http://cdn.kelvinism.com/ebox/vmlinuz
http://cdn.kelvinism.com/ebox/initrd.gz
http://cdn.kelvinism.com/ebox/linux-headers-2.6.29.3-vortex86dx.deb
http://cdn.kelvinism.com/ebox/linux-image-2.6.29.3-vortex86dx.deb
</pre><br />
<br />
<p>2) Download an i386 netinst iso:</p><pre class="brush: shell; light: true; ">http://www.debian.org/CD/netinst/
</pre><br />
<br />
<p>3) Make sure the USB has an MBR installed:</p><pre class="brush: shell; light: true; ">apt-get install syslinux mtools mbr
install-mbr /dev/sdb
</pre><br />
<p>4) Format the device as FAT32 with whatever tool you like.</p><p>5) Run syslinux on it:</p><pre class="brush: shell; light: true; ">syslinux /dev/sdb1
</pre><br />
<br />
<p>6) Mount the USB (or pull it out and plug it in again so it shows up on your desktop), and copy the downloaded vmlinuz, initrd, netinst.iso and deb files onto the USB.  There should be a file called ldlinux.sys already; create a file called syslinux.cfg and put the following in it:</p><pre class="brush: shell; light: true; ">default vmlinuz
append initrd=initrd.gz root=/dev/rd/0 devfs=mount,dall rw DEBCONF_PRIORITY=medium
</pre><br />
<br />
<p>It should look like this:</p><img src="http://cdn.kelvinism.com/images/ebox3300files.png" alt="Ebox files" /><br />
<br />
<br />
<p>7) Unmount the USB, and put it in your eBox-3300.  When the system boots up initially, hit F11.  Select your USB device.  Depending how you created the MBR it might come up as saying "MBR FA:".  Press "A".  When 1234F comes up, press "1".  Press enter at the SYSLINUX "boot:" screen.</p><p>8) Proceed as normal through the menu.  It will search for an ISO image, and should detect the netinst image you inserted earlier.  When you get to the "Load installer components" section, it will complain about no kernel modules found.  Select YES.  On the next screen you shouldn't need to load any components, so hit continue.  Proceed as normal.</p><p>9) If you are ever asked about starting PC card services, hit NO.  Proceed as normal.</p><p>10) Eventually you will hit a screen that says LVM is not available, hit CONTINUE.  Proceed as normal.</p><p>11) Near the end it will toss up a list of available kernels.  Select either, it shouldn't matter.  When you are allowed to select drivers to include in the initrd, select TARGETED.  Proceed as normal.</p><p>12) You might get to a point where it says Install GRUB boot loader on a hard disk.  This will fail.  That's ok, just skip it and select "continue without boot loader".  </p><p>13) You will end up on the "Finish the installation" menu.  <b>DO NOT</b> finish!  We now need to swap out the current kernel with one that works.  Scroll down and select "Execute a shell".  Press CONTINUE. Try these steps when the shell prompt appears:</p><pre class="brush: shell; light: true; ">cd hd-media
cp *.deb /target/usr/src/
cp vmlinuz /target/boot/vmlinuz-2.6.26-2.486
cp initrd.gz /target/boot/
cd /target/boot
gunzip initrd.gz
mv initrd initrd.img-2.6.26-2-486
reboot
</pre><br />
<br />
<p>Your system will now reboot, and it should actually boot correctly.  However, you're using a kernel that doesn't have any headers or modules, which means you can't activate anything.  Once the box boots up, login and install the included custom kernels:</p><pre class="brush: shell; light: true; ">cd /usr/src
dpkg -i linux-image-2.6.29.3-vortex86dx.deb
dpkg -i linux-headers-2.6.29.3-vortex86dx.deb
reboot
</pre><br />
<br />
<p>Once the system comes back up, you should be running a spiffy 2.6.29 kernel, with the ability to add modules.</p><p>You may want to follow the tuning section from the <a href="http://groups.google.com/group/microclient/web/ubuntu-on-microclient-sr">MicroClient page</a> on Google Groups.  I also modified my fstab file to help reduce wear on the CF card:</p><pre class="brush: shell; light: true; ">tmpfs /var/run tmpfs defaults,noatime 0 0
tmpfs /var/lock tmpfs defaults,noatime 0 0
tmpfs /var/tmp tmpfs defaults,noatime 0 0 
</pre><br />
<p><b>Contribution 1:</b> <a href="http://www.idiap.ch/~fleuret/">Francois Fleuret</a> emailed through a kind reminder that the qemu-onto-SD card method is a viable option.  So, if you want to go the SD route, and have an SD reader, this might be what you're after!</p><pre class="brush: shell; light: true; ">Basically, install Debian on a SD card with qemu (start qemu with the
install disk iso as cdrom and the SD card as hda), while you are still
in qemu, download and install the kernel deb file</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/06/09/downloading-vmware-with-firefox_4800.html">
            Downloading VMWare with Firefox
          </a>
        </h3>
        <span class="post-meta">Published on Jun 9, 2009</span>
        <p>I've had this issue happen to me several times, and I'm finally writing myself a note to fix it in the future.  There seems to be an issue with downloading VMWare Workstation (.bundle).  I first tried it with Firefox, but it just crapped out at loading it into /tmp.  Next, I tried it with Lynx, but alas, it tried to download it as a text file.</p><p>Ahah!  The quickest solution I could find is to right click the link, save as, and save it as a zip.  Rename it to .bundle when you're done.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/06/01/create-movie-from-images_6692.html">
            Create a Movie from Images
          </a>
        </h3>
        <span class="post-meta">Published on Jun 1, 2009</span>
        <p>I've started leaving my webcam on as a motion detector to find out who is leaving the shopping cards on our lawn, and ultimately have found it useful to stitch the images together into a movie.  There are several ways to do this - and my way maybe isn't the best - but it works for me.<p><br />
<br />
<p>I first installed and configured <a href="http://www.lavrsen.dk/twiki/bin/view/Motion/WebHome">motion</a>, which I've used for years.  I then created a file in ~/.motion called motion.com:</p><p>$ cat ~/.motion/motion.conf</p><pre class="brush: plain; light: true; ">height 480
width 640
framerate 2
</pre><br />
<br />
<p>By creating this file, it allows me to start motion without modifying the global motion.conf file permissions, or *gasp* running it under sudo.  There are <a href="http://www.lavrsen.dk/foswiki/bin/view/Motion/ConfigFileOptions">lots of options</a> you can put in your motion.com file.</p><p>With motion installed, and configured, now install mencoder.</p><p>I prefer to generate a seed file based on the creation date for each image.  If you try to use mencoder with just a *.jpg, it works, but my video jumped around.</p><pre class="brush: plain; light: true; ">$ pwd
/home/path/Desktop/motion
$ ls -rt *.jpg > list.txt
</pre><br />
<br />
<p>This list.txt file now has the filenames, in chronological order, ready for consumption.  I create the video like so:</p><pre class="brush: shell; light: true; ">mencoder mf://@list.txt -o `date +%G%m%d`.avi -ovc lavc -lavcopts vcodec=mjpeg
</pre><br />
<br />
<p>This will output a file with today's date in a few seconds.  Remember, the `'s are the key by the #1, not quotes.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/05/10/compiling-kernel-for-vortex86dx_5058.html">
            Compiling kernel for Vortex86dx
          </a>
        </h3>
        <span class="post-meta">Published on May 10, 2009</span>
        <p><b>Update</b>: I've written up a <a href="http://kelvinism.com/howtos/installing-debian-50-vortex86dx/">short tutorial</a> on the method I used to install Debian 5.0 on this device.</p><p>A few months ago I purchased the eBox-3300 from WDL Systems.  The system was promptly shipped, and there were no "gotchas" from WDL.  The little box fit my exact needs - it is small, and built very, very well.  I flew back to Australia and, after some trial and error, installed Debian 5.0 on it.  For quite some time I was just using the vmlinuz file provided by WDL, which was provided by ICOP (DMP).  This worked well, but there were two issues:</p><br />
<br />
1) I couldn't load any modules (e.g. NFS).<br />
<br />
2) I received an annoying email from OSSEC every few hours telling me it couldn't find modules.dep.<br />
<br />
<br />
<br />
<p>At the end of last week I finally decided to do something about it, and considering this little box is "x86 compliant", I figured it wouldn't be too hard to create a new package.  It has been several years since I last created a self-compiled Debian-packaged kernel, so I decided to document the process for the next time I do it.  These steps are really just a summary - but if you have much Linux experience, they should be enough to guide you.  If I'm unclear, just send me an email.</p><p>Because the eBox-3300 is embedded, I logically decided to create the package on another system.  However, I wanted to maximize the chances of it working, so I installed Debian 5.0 in VirtualBox, updated it, and proceeded.</p><p>As a prep, you may need to install ncurses-dev and kernel-package in your build environment.</p><pre class="brush: plain; light: true; ">apt-get install ncurses-dev kernel-package
</pre><br />
<br />
<p>1) Download latest kernel from: <a href="http://www.kernel.org/pub/linux/kernel/v2.6/">http://www.kernel.org/pub/linux/kernel/v2.6/</a></p><p>2) Download the DMP provided patch/config file for 2.6.27.3, copy it to /usr/src.  Alternatively, you can borrow my <a href="http://cdn.kelvinism.com/ebox/config-2.6.29.3-vortex86dx">2.6.29.3 config</a>  Make a backup.</p><p>3) Untar kernel, cd into the kernel directory.  Issue:</p><pre class="brush: plain; light: true; ">make menuconfig
</pre><br />
<br />
<p>4) Configure kernel.  If you used my config file, a lot of these should already be ticked.</p><br />
a) Load alternative config file, I selected mine as /usr/src/config-2.6.27.9-vortex86dx, or if you downloaded the one from me, use config-2.6.29.3-vortex86dx<br />
<br />
b) Enable generic x86 support<br />
<br />
c) Enable Kernel .config support<br />
<br />
d) Device drivers -> Network -> 10 or 100Mbit -> RDC R6040, set at built in<br />
<br />
e) Turn off generic IDE support<br />
<br />
f) Exit, make sure to save the kernel<br />
<br />
g) Verify .config exists.  If it doesn't, copy the config-2.6.x.x-vortex86dx file to .config<br />
<br />
<br />
<br />
<p>5) Create the kernel debs.  In the kernel directory, issue these commands.  This will build the kernel image, the headers, and the modules.</p><pre class="brush: plain; light: true; ">make-kpkg --initrd kernel_image kernel_source kernel_headers modules_image
</pre><br />
<p>6) Make coffee</p><p>7) Copy the debs to your running ebox by sftp (or usb, or whatever is available)</p><p>8) Install kernel in eBox-3300</p><pre class="brush: plain; light: true; ">dpkg -i linux-source-2.6.29.3-vortex86dx.deb
dpkg -i linux-headers-2.6.29.3-vortex86dx.deb
dpkg -i linux-image-2.6.29.3-vortex86dx.deb
</pre><br />
<br />
<p>9) Reboot.  If you want my compiled kernel/sources/header .DEBs, just shoot me an email and I'll make them available.</p><p><b>Summary:</b> My only gripe about this little box was the lack of an easily customizable kernel, but no more.  I'm still very happy with this $150 purchase.</p><br />
<br />
<br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/05/03/fixing-mysql-warning-message_4782.html">
            Fixing mysql warning message
          </a>
        </h3>
        <span class="post-meta">Published on May 3, 2009</span>
        <p>After restoring databases from one server to another I sometimes get this error on Ubuntu or Debian:</p><pre class="brush: plain; light: true; ">error: 'Access denied for user 'debian-sys-maint'@'localhost' (using password: YES)'
</pre><br />
<p>This makes a lot of sense, and the solution is pretty simple.  If you look in:</p><pre class="brush: plain; light: true; ">cat /etc/mysql/debian.cnf
</pre><br />
<p>You'll see the defaults for your system.  Copy the password listed there, and open a connection to MySQL as root (or some other user).  Next, enter this (lets say your password specified in debian.cnf was 'abracadabra':</p><pre class="brush: plain; light: true; ">mysql> select PASSWORD('abracadabra');
+-------------------------------------------+
| PASSWORD('abracadabra')                   |
+-------------------------------------------+
| *38794E19D534EBA4F0F78903FA00F1DA2989DCA2 | 
+-------------------------------------------+
1 row in set (0.00 sec)</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/05/03/fixing-locale-errors-in-ubuntu-804_7736.html">
            Fixing locale errors in Ubuntu 8.04
          </a>
        </h3>
        <span class="post-meta">Published on May 3, 2009</span>
        <p>I've hit this problem a few times, and figured I'd leave a note for myself how to fix it.  Ubuntu 8.04 seems to hiccup sometimes (on a VPS) for generating the correct locales.  In particular, I get this error, a lot:</p><pre class="brush: plain; light: true; ">perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
LANGUAGE = (unset),
LC_ALL = (unset),
LANG = "en_US.UTF-8"
are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").
</pre><br />
<br />
<p>Normally I just do 'dpkg-reconfigure locales', but with 8.04, this doesn't seem to do squat.  The solution is to edit the <b>/var/lib/locales/supported.d/local</b> file, and insert the correct locales (it will normally not exist, so create it):</p><pre class="brush: plain; light: true; "># cat /var/lib/locales/supported.d/local
zh_TW.UTF-8 UTF-8
zh_TW BIG5
zh_TW.EUC-TW EUC-TW
en_US.UTF-8 UTF-8
en_US ISO-8859-1
en_US.ISO-8859-15 ISO-8859-15
</pre><br />
<p>You can then do a 'dpkg-reconfigure locales' and they will be generated correctly.  For a list of supported locales, try this:</p><pre>cat /usr/share/i18n/SUPPORTED | grep US
</pre><br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/04/13/true-consolidation_6503.html">
            True Consolidation
          </a>
        </h3>
        <span class="post-meta">Published on Apr 13, 2009</span>
        <p>Back in 2000 I managed to acquire several retired systems to bring to Uni: this included 4-5 cheap P120 machines.  At the time, I thought this was great; I had an OpenBSD box as my gateway, a FreeBSD box, a few Linux boxes, and likely something else that doesn't even exist now.  The school has a superfast connection, unlimited bandwidth, and I was curious.  Although I didn't really have <i>time</i>, I still managed to install and have all these servers running from my room.</p><div class="quoteboxleft">I realized I was doing at home what I was being paid to do at work.</div><br /><p>Fast forward to 2007, and my mindset has changed.  In 2007 I didn't want to have 6 servers running at once, I wanted to have one server running 12 servers at once!  Thanks to Xen and VMware this was easily obtained.  Initially using Xen, and then ESXi, I had the freedom to setup Domains, tear them down, and start over.  Eventually, however, I realized I was doing at home what I was being paid to do at work.  That doesn't sound like fun.  I also realized that, despite picking a motherboard and processor that could shift into low power usage, I was still using more watts than I needed to.  I was also spending way too much time mucking around with things - I want to focus on just one or two projects at a time, and I <i>really</i> want to start programming more.</p><a href="http://picasaweb.google.com/lh/photo/NUJH80rJPtKH0NsD_ZTLxA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgcfWyN502_EgPg12BajqcMJbJhr9iaYe1SWLaZDGUIFaOJmPC7QXngeZtr5qlESw3l2QB7DINsCjjskut4PYYKwkOYz6N68bc3TxILX1cjiReHA5FOiK5yM2B8UTddfoOY4Yk6GxuB738/s400/ebox3300.jpg" /></a><br /><br /><p>Last month I finally finished the ultimate 'consolidation': I moved everything to a tiny embedded Linux box.  While back in the U.S. I contacted <a href="http://www.wdlsystems.com/">WDL Systems</a> and requested for shipping costs on a tiny embedded box.  I bought the eBox-3300, with an embedded board from ICOP, and it was promptly shipped out.  After returning home to Sydney I migrated all my apps from the various virtual servers to my little box running Debian 5.0: OSSEC, Samba, Lighttpd, Asterisk and flow-tools.  The little box is just perfect for what I need - a tiny home server.  I still get around 8MB/sec transferring files, which indicates the network is still the bottleneck, and VOIP calls with Asterisk are still clear.</p><p>Overall, I've been happy with this little box.  My 'playing time' with IT has gone down significantly, my energy usage has gone down, and I now have a server I can take with me wherever I go.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/04/13/operation-field_8222.html">
            Operation Field
          </a>
        </h3>
        <span class="post-meta">Published on Apr 13, 2009</span>
        Status: <i class="fas fa-skull-crossbones"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/03/02/files-between-esx-and-linux-via-nfs_6022.html">
            Files between ESX and Linux via NFS
          </a>
        </h3>
        <span class="post-meta">Published on Mar 2, 2009</span>
        <p>I like ESX.  I like Linux.  It is absurdly easy to configure Linux as an NFS server and mount it in ESXIi).</p><p><b>Installed NFS</b></p><p>I currently use Ubuntu Server for my home lab, but the process is basically the same for Red Hat and derivatives.</p><pre class="brush: plain; light: true; ">sudo apt-get install nfs-common
sudo apt-get install nfs-kernel-server
</pre><br />
<p>Next, configure NFS so it can server your local LAN.  Normally you would list only specific servers, but, well, we're being cheap and dirty today. Open /etc/exports in VI or your editor of choice.</p><b>/etc/exports</b><br />
<pre class="brush: plain; light: true; ">/media/disk/Images 192.168.0.0/24(rw,no_root_squash,async
</pre><br />
<p>Restart NFS.</p><pre class="brush: plain; light: true; ">sudo /etc/init.d/nfs-common
</pre><br />
Go to Configuration -> Storage -> Add Storage.<br />
<br />
Select NFS<br />
<br />
Fill in the info, see screenshot.<br />
<br />
Wait a minute.  Voila! New datastore.<br />
<br />
<br />
<b>Images to come shortly.</b></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/01/25/renaming-apache-log-locations_1724.html">
            Renaming Apache Log Locations
          </a>
        </h3>
        <span class="post-meta">Published on Jan 25, 2009</span>
        <p>I realized a few of my log files were growing unusually large, and even worse, logrotate was skipping them.  I took a look in logrotate.d and straight away realized why: I had created silly names for the log file.  logrotate look for .log files, but I had specified mine as .log -- e.g. kelvinism_access_log.  I was as familiar with logrotate when I set up the domains, so set forth to get them in the rotation.</p><p>Firstly, I had to rename the actual log files.  So, to rename kelvinism_access_log to kelvinism_access.log, a one-liner:</p><pre class="brush: plain; light: true; ">for x in *_log; do mv $x `basename $x _log`.log; done;
</pre><br />
<br />
<p>Next, I needed to rename the log location inside each of the Apache config files.  While a one-liner might be possible, I used the following tiny script:</p><pre class="brush: plain; light: true; ">#!/bin/sh</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2009/01/06/beginning-scripting-esxi_6126.html">
            Beginning Scripting ESXi
          </a>
        </h3>
        <span class="post-meta">Published on Jan 6, 2009</span>
        <p>I'm not impressed too often with much software, especially the closed source kind.  I find a leaning preference to all things FOSS.  If I had a million dollars, I'd likely spend all day contributing to all the projects I wish I had time to contribute to.  Regardless, there are a select few closed-source products that I believe are truly excellent.  I mean, the type of software where you aren't asking "I wish this could do this" and start asking "I wonder what else this can do."</p><p>While I've played around with most types of virtualization out there (OpenVZ, Xen, V-Server, qemu...), I've really found a soft spot for VMWare.</p><p>Don't get me wrong, if I was going to host a heap of Linux web servers I would absolutely use Xen, but for a heterogeneous environment, I haven't used anything as easy as VMWare's products.  Not that I judge a product by how easy it is to use, not by a long shot, but ease of use sure makes judging other factors easier.</p><p>Regardless, this isn't a post trumpeting VMWare.  I just realized tonight that some of the VMs I have running don't need to be except for certain hours of the day, or if condition A is true.  The first example is my backup mail server; I really don't need it even powered on unless my main server is down.  The second example is my Server 2003 instance, which has VI3 on it; I don't need this running unless I'm asleep.  One of the most useful resources I've seen for the vmrun command is over at <a href="http://www.virtuatopia.com/index.php/Controlling_VMware_Virtual_Machines_from_the_Command_Line_with_vmrun">VirtualTopia</a> -- loaded with examples.</p><h4>Turn off via time</h4><br />
<br />
<p>On my "monitoring" instance, which is always up, I've decided to install the script that controls my VM.  I've opted to use a soft shutdown.</p><p><br />
192.168.0.10 = ESXi box<br />
<br />
datastore1 = name of datastore that hosts VMs</br><br />
</p><pre class="brush: bash; light: true; ">#!/bin/sh</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/28/charting-hackers_7870.html">
            Charting the Hackers
          </a>
        </h3>
        <span class="post-meta">Published on Dec 28, 2008</span>
        <p>A normal internet connection gets attacked, a lot.  The majority of attacks are of the form "hello, anybody there?" -- where most people just don't answer.  But sometimes, just sometimes, the question gets an answer.  Depending on the answer, the attacker will start to explore.</p><p>A few weeks back I was a little bored and started fiddling.  I wanted to play with my Cisco, but also wanted to play with OSSEC, but also has a GIS craving.  In the end I decided to create a map of the people who ask, "hello".</p><p>Take a look at the <a href="http://www.kelvinism.com/attackmap/">map and explanation</a> if that sort of thing is your cup of tea.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/28/alexa-thumbnail-service_3160.html">
            Alexa Thumbnail Service
          </a>
        </h3>
        <span class="post-meta">Published on Dec 28, 2008</span>
        <p>Amazon offers some pretty cool services: S3, EC2, Alexa Site Thumbnail, and others.  A while back I wanted to use <a href="http://aws.amazon.com/ast/">AST</a> with <a href="http://www.djangoproject.com">Django</a>, so ended up writing the Python bindings to the REST API (they didn't previously exist.  I even wrote up a quick <a href="http://www.kelvinism.com/howtos/alexa-site-thumbnail-and-django/">tutorial</a>.</p><p><b>Update</b>: Amazon no longer maintains AST.  I've decided to <a href="http://www.kelvinism.com/tech-blog/rip-old-sites/">archive</a> a few of the old sites, so no longer need to take thumbnails.  However, a few other thumbnail services seem to have crept up, including <a href="http://snapcasa.com/">SnapCasa"</a>, and <a href="http://www.websnapr.com/">WebSnapr</a>.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/21/netflow-into-mysql-with-flow-tools_5439.html">
            NetFlow into MySQL with flow-tools
          </a>
        </h3>
        <span class="post-meta">Published on Dec 21, 2008</span>
        <p>I've been side-tracked on another little project, and keep coming back to NetFlow.  For this project I'll need to access NetFlow data with <a href="http://www.djangoproject.com">Django</a>, but this is a bit tricky.  First, I'm sort of lazy when it comes to my own project; maybe not lazy, I just like taking the most direct route.  The most up-to-date NetFlow collector I noticed was <a href="http://code.google.com/p/flow-tools/">flow-tools</a>, and there is even a switch to export the information into MySQL.  Sweet!  However, I wanted to insert the flows into MySQL automatically, or at least on a regular basis.  I  first started writing a python script that would do the job, but after a few minutes noticed flow-capture had a rotate_program switch, and started investigating.  Since I somehow couldn't find anywhere instructions how to insert the data automatically, here's what I came up with:</p><p>1) Download <a href="http://code.google.com/p/flow-tools/">flow-tools</a>; make sure to configure with --with-mysql (and you'll have to make sure you have the needed libraries).</p><p>2) Create a new database, I called mine 'netflow'.</p><p>3) Create a table that can contain all the netflow fields, a sample is below.  I added a "flow_id" field that I used as a primary key, but you don't necessarily need this.</p><pre class="brush: sql; light: true; ">CREATE TABLE `flows` (
`FLOW_ID` int(32) NOT NULL AUTO_INCREMENT,
`UNIX_SECS` int(32) unsigned NOT NULL default '0',
`UNIX_NSECS` int(32) unsigned NOT NULL default '0',
`SYSUPTIME` int(20) NOT NULL,
`EXADDR` varchar(16) NOT NULL,
`DPKTS` int(32) unsigned NOT NULL default '0',
`DOCTETS` int(32) unsigned NOT NULL default '0',
`FIRST` int(32) unsigned NOT NULL default '0',
`LAST` int(32) unsigned NOT NULL default '0',
`ENGINE_TYPE` int(10) NOT NULL,
`ENGINE_ID` int(15) NOT NULL,
`SRCADDR` varchar(16) NOT NULL default '0',
`DSTADDR` varchar(16) NOT NULL default '0',
`NEXTHOP` varchar(16) NOT NULL default '0',
`INPUT` int(16) unsigned NOT NULL default '0',
`OUTPUT` int(16) unsigned NOT NULL default '0',
`SRCPORT` int(16) unsigned NOT NULL default '0',
`DSTPORT` int(16) unsigned NOT NULL default '0',
`PROT` int(8) unsigned NOT NULL default '0',
`TOS` int(2) NOT NULL,
`TCP_FLAGS` int(8) unsigned NOT NULL default '0',
`SRC_MASK` int(8) unsigned NOT NULL default '0',
`DST_MASK` int(8) unsigned NOT NULL default '0',
`SRC_AS` int(16) unsigned NOT NULL default '0',
`DST_AS` int(16) unsigned NOT NULL default '0',
PRIMARY KEY (FLOW_ID)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</pre><br />
<br />
<p>4) Setup your router so it sends netflow packets to your linux box (see README/INSTALL)</p><p>5) Create a "rotate program" that will actually enter in the information into mysql.</p><pre class="brush: plain; light: true; ">kelvin@monitor:/usr/bin$ cat flow-mysql-export 
#!/bin/bash</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/20/zenoss-default-password_1357.html">
            Zenoss Default Password
          </a>
        </h3>
        <span class="post-meta">Published on Dec 20, 2008</span>
        <p>I've evaluated Zenoss before, but forgot the default password, and searching for it didn't come up with anything quickly. I tried everything under the sun: password, 1234, admin, God, Sex, but alas, grep to the rescue:</p><pre class="brush: plain; light: true; ">kelvin@monitor:/usr/local/zenoss/zenoss/etc$ grep admin *
hubpasswd:admin:zenoss
</pre><br />
<br />
<p>Update: it is listed on page 4 of the Admin PDF :)</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/07/speeding-up-vmware-server_791.html">
            Speeding Up VMWare Server
          </a>
        </h3>
        <span class="post-meta">Published on Dec 7, 2008</span>
        <p>I found VMWare Server to have very slow I/O, and sought to improve it.  Below are a list of tests I performed, the change, and the results.</p><pre class="brush: plain; light: true; "><br /><br />### Host OS ###<br />/dev/sdb1:<br /> Timing buffered disk reads:  220 MB in  3.05 seconds =  72.17 MB/sec<br />kelvin@gorilla:~$ sudo hdparm -t /dev/sdb1<br /><br />/dev/sdb1:<br /> Timing buffered disk reads:  266 MB in  3.01 seconds =  88.33 MB/sec<br />kelvin@gorilla:~$ sudo hdparm -t /dev/sdb1<br /><br />/dev/sdb1:<br /> Timing buffered disk reads:  310 MB in  3.01 seconds = 102.99 MB/sec<br /><br /><br />### Before Changes ###<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:    8 MB in  3.36 seconds =   2.38 MB/sec<br />[root@files etc]# hdparm -t /dev/mapper/openfiler-data<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:   24 MB in  3.63 seconds =   6.61 MB/sec<br />[root@files etc]# hdparm -t /dev/mapper/openfiler-data<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:   28 MB in  4.54 seconds =   6.16 MB/sec<br /><br /></pre><br /><br /><p>I made several changes, but the changes that seemed to have the most impact are below:</p><pre class="brush: plain; light: true; "><br /><br />vm.dirty_background_ratio = 5<br />vm.dirty_ratio = 10<br />vm.swappiness = 0<br /><br /></pre><br /><p>Pop this into the virtual machine's .vmx file, reboot, and off you go.  One unfortunate side effect is that you can no longer overload the memory (e.g. allocate more memory with the VMs than you actually have available).</p><pre class="brush: plain; light: true; "><br /><br />### After Changes ###<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:   52 MB in  3.13 seconds =  16.61 MB/sec<br />[root@files ~]# hdparm -t /dev/mapper/openfiler-data<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:   82 MB in  3.31 seconds =  24.75 MB/sec<br />[root@files ~]# hdparm -t /dev/mapper/openfiler-data<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:  118 MB in  3.19 seconds =  36.97 MB/sec<br />[root@files ~]# hdparm -t /dev/mapper/openfiler-data<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:  144 MB in  3.32 seconds =  43.37 MB/sec<br /><br />[root@files ~]# hdparm -t /dev/mapper/openfiler-data<br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:  160 MB in  3.10 seconds =  51.57 MB/sec<br /><br /><br /></pre><br /><br /><p><b>UPDATE</b>: Those wanting all the speed and still want to use memory overloading, I'd suggested you give ESXi a try.  So far, so good.</p><pre class="brush: plain; light: true; "><br />## With ESXi, same hardware ##<br />[root@files ~]# hdparm -t /dev/mapper/openfiler-data <br /><br />/dev/mapper/openfiler-data:<br /> Timing buffered disk reads:  200 MB in  3.18 seconds =  62.92 MB/sec<br /></pre><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/07/openfiler-permission-issue_2907.html">
            OpenFiler Permission Issue
          </a>
        </h3>
        <span class="post-meta">Published on Dec 7, 2008</span>
        <p>I've had issues before with OpenFiler where doesn't update the permissions, although they appear correct in the UI.  To rectify that, I stumbled upon a one liner that fixed it.  Let's say you have a group called "Trusted" that you want to have full access to your music folder.  Here's the one-liner:</p><pre class="brush: plain; light: true; ">[root@files data]# pwd
/mnt/openfiler/data
root@files data]# setfacl --recursive -m u:nobody:rwx,g:Trusted:rwx music
</pre></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/07/migrating-large-disks-into-esxi_4692.html">
            Migrating large disks into ESXi
          </a>
        </h3>
        <span class="post-meta">Published on Dec 7, 2008</span>
        <p>I recently had the need to move a rather large (450GB) VMDK file from an external hard drive into ESXi.  Since ESXi doesn't support external hard drives, this makes things quite a bit more difficult.  At first I tried using SCP to copy the file over (after enabling SSH access for ESXi).  However, when I tried to do this the time left was almost 20 hours -- a tad too long!</p><p>I rethought my idea and decided to use this process:</p><br />1) Create an NFS share on my laptop, using the external hard drive (with the VMDK) as a mount point.<br /><br />2) Use vmkfstools to move the image over.<br /><br />3) Update any bugs I encountered.<br /><br /><br /><p>Creating the NFS share on Linux is extermily easy.  After install nfs via whatever package management tool you choose, put this entry into your /etc/exports file:<br /><pre class="brush: plain; light: true; "><br />/media/disk-1 192.168.1.0/24(ro,no_root_squash,async)<br /></pre><br /><p>This assumes your USB disk is mounted as /media/disk-1, and your local subnet is 192.168.1.0/24.  In OpenFiler, add a new storage with type NFS and use your laptops IP as the hose, and /media/disk-1 as the mount point.  For safey, tick read-only.</p><p>Next, unlock SSH if you haven't already.  Once you are in, browse to /vmfs/volumes and you can see your nfs share and your other datastores.  Let's say you USB virtual disk is located at /vmfs/volumes/nfs/bigdisk.vmdk, and you want to import it into your normal datastore, under a folder called 'NAS'.  Using vmware specific tools, you can import the file as so:</p><pre class="brush: plain; light: true; "><br /># vmkfstools -i /vmfs/volumes/nfs/bigdisk.vmdk /vmfs/volumes/datastore1/NAS/bigdisk.vmdk<br /></pre><br /><p>I needed to update the hardware version of my imported disk.  To do this, open up the .vmdk file (you should also have a -flat.vmdk file), and update the virtualHWVersion entry from 7 to 4.  With that, join your disk to an image, and you should be good to go.</p><p>An addition result I noticed was the speed at which it came over.  By using SCP, the entire file was going to take 20hr.  By using NFS and vmkfstools, the files was migrated in under 10 hours.</p><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/12/07/install-esx-from-usb-no-cdrom_3723.html">
            Install ESX from a USB (no CDROM)
          </a>
        </h3>
        <span class="post-meta">Published on Dec 7, 2008</span>
        <p>My little server doesn't have a cdrom, but I didn't want to actually run ESX from a USB (i.e. esx-on-a-stick).  Here are my notes of configuring a flash disk to boot the ESX installer (so you can install it onto a local disk). For this demo, my USB is /dev/sdb</p><br />
<br />
1) Install the syslinux utils to your computer (apt-get install syslinux mboot)<br />
<br />
2) Install the MBR<br />
<br />
<pre class="brush: plain; light: true; ">sudo install-mbr /dev/sdb
</pre><br />
3) Copy all the files from the ISO to your fat32 formated partition<br />
<br />
4) Install syslinux<br />
<br />
<pre class="brush: plain; light: true; ">sudo syslinux /dev/sdb1
</pre><br />
5) Move isolinux.cfg to syslinux.cfg, and try booting.  If it doesn't work, edit syslinux.cfg says something like:<br />
<br />
<pre class="brush: plain; light: true; ">default menu.c32
menu title ESXi Boot
timeout 100</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/15/integrating-ossec-with-cisco-ios_7061.html">
            Integrating OSSEC with Cisco IOS
          </a>
        </h3>
        <span class="post-meta">Published on Nov 15, 2008</span>
        <p>I rank OSSEC as one of my favorite pieces of open source software, and finally decided to play around with it more in my own free time.  (Yup, I do this sort of stuff for <i>fun</i>).  My goal was quite simple: send syslog packets from my Cisco to my "proxy" server, running OSSEC.  I found that, although OSSEC supports Cisco IOS logging, it didn't really work.  In fact, I couldn't find any examples  or articles of anybody actually getting it to work.</p><p>I initially tried to get it to work "correctly," and soon settled to "just getting it to work."  I implemented some rules in the local_rules.xml file, which worked, but I'm pretty stubborn, and wanted to do it "correctly."  With a couple pots of tea, and the support of my girlfriend, I became much, much more familiar with OSSEC. The key (and a lot of credit) goes to Jeremy Melanson for <a href="http://www.ossec.net/ossec-list/2007-September/msg00124.html">hinting at some of the updates</a> to the decoder.xml file that need to take place.</p><p>The first step is to read the OSSEC + Cisco IOS <a href="http://www.ossec.net/wiki/index.php/PIX_and_IOS_Syslog_Config_examples#Configuring_Cisco_IOS_router">wiki page</a>.  Everything on that page is pretty straight forward.  I then added three explicit drop rules at the end of my Cisco's ACL:</p><pre class="brush: plain; light: true; ">...</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/08/using-django-with-sql-server-and-iis_4115.html">
            Using Django with SQL Server and IIS
          </a>
        </h3>
        <span class="post-meta">Published on Nov 8, 2008</span>
        <p>As you can tell from reading some of the other pages, I like Linux and open source.  But I also like to answer the question "what if..."  This post is my [brief] run down of answering "what if I could run Django on Server 2003 with SQL Server and IIS."  Why, you may ask?  To be honest with you, at this point, I don't really know.  One of the deciding factors was seeing that the django-mssql project maintains support for inspectdb, which means I could take a stock 2003 server running SQL Server, inspect the DB, and build a web app on top of it.  The Django docs offer a lengthy <a href="http://code.djangoproject.com/wiki/DjangoOnWindowsWithIISAndSQLServer">howto</a> for using Django with IIS and SQL Server, but the website for PyISAPIe seems to have been down for the last month or so.  Without further delay, below are my notes on installing Django with SQL Server and IIS.</p><br />
<br />
1a) Install python-2.x.x.msi from python.org<br />
<br />
1b) Consider adding C:\Python25\ to your Path (right click My Computer, Advanced, Environment Variables.  Enter in blahblahblah;C:\Python25\)<br />
<br />
2) Download a 1.0+ branch of Django (and 7-zip if you need it)<br />
<br />
3a) Extract the contents of the Django. From inside Django-1.0, execute:<br />
<br />
<pre class="brush: plain; light: true; ">C:\Python25\python.exe setup.py install
</pre><br />
3b) Consider adding C:\Python25\Script to your path.<br />
<br />
4) Look in C:\Python25\Lib\site-packages -- confirm there is a Django package.<br />
<br />
5) Checkout django-mssql (http://code.google.com/p/django-mssql/), copy sqlserver_ado from inside source to the site-packages directory<br />
<br />
6) Download and install PyWin32 from sf.net<br />
<br />
7) Start a test project in C:\Inetpub\ called 'test'<br />
<br />
<pre class="brush: plain; light: true; ">c:\Python25\scripts\django-admin.py startproject test
</pre><br />
8a) Create a database using SQL Management Studio, create a user. (First, go to the Security dropdown.  Right click Logins, add a new user.  Next, right click Databases, New Database.  Enter in the name, and change the owner to the user you just created).<br />
<br />
8b) Edit the settings.py and add 'sqlserver_ado' and add database credentials.  Use the below example if your database comes up in the Studio as COMPUTERNAME\SQLEXPRESS (you are using SQLExpress).<br />
<br />
<pre class="brush: python; light: true ">import os
DATABASE_ENGINE = 'sqlserver_ado'           # 'postgresql_psycopg2', 'postgresql', 'mysql', 'sqlite3' or 'oracle'.
DATABASE_NAME = 'crmtest'             # Or path to database file if using sqlite3.
DATABASE_USER = 'crmtest'             # Not used with sqlite3.
DATABASE_PASSWORD = 'password'         # Not used with sqlite3.
DATABASE_MSSQL_REGEX = True
DATABASE_HOST =  os.environ['COMPUTERNAME'] + r'\SQLEXPRESS' # I use SQLEXPRESS
DATABASE_PORT = ''             # Set to empty string for default. Not used with sqlite3.
</pre><br />
9) Install/download FLUP: http://www.saddi.com/software/flup/dist/flup-1.0.1.tar.gz<br />
<br />
<pre class="brush: shell; light: true; ">python setup.py install
</pre><br />
10a) Download pyisapi-scgi from http://code.google.com/p/pyisapi-scgi/<br />
<br />
10b) Extract the files to somewhere you can remember on your computer, like, c:\scgi<br />
<br />
11) Double click pyisapi_scgi.py<br />
<br />
12a) Follow the directions here: http://code.google.com/p/pyisapi-scgi/wiki/howtoen -- I set a temporary different port since I'm just testing this out.<br />
<br />
12b) The last few parts might be better served with an image or two:<br />
<br />
<h4>Using an app pool to get the right permissions</h4><br />
(No resource/photo)<br />
<br />
<br />
<h4>The SCGI configuration file</h4><br />
(No resource/photo)<br />
<br />
<br />
<h4>Properties of the web site</h4><br />
(No resource/photo)<br />
13) Start the scgi process from the Django folder directory<br />
<br />
<pre class="brush: shell; light: true; ">python manage.py runfcgi method=threaded protocol=scgi port=3033 host=127.0.0.1
</pre><br />
14) Test your django page, http://192.168.12.34:8080<br />
<br />
<br />
<br />
(No resource/photo)</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/03/upgrading-cisco-wireless-firmware_3066.html">
            Upgrading Cisco Wireless Firmware
          </a>
        </h3>
        <span class="post-meta">Published on Nov 3, 2008</span>
        <p>I'm always forgetting the exact string to enter at the CLI for updating the IOS on a wireless Cisco AP, so I'll just put it here to end my future searches:</p><pre class="brush: plain; light: true; ">Chimp# archive download-sw /force-reload /overwrite tftp://192.168.83.150/c1100-k9w7-tar.123-8.JEC1.tar
</pre><br />
<br />
<p>192.168.83.150 obviously being your tftp server, and the .tar file sitting in the root of the tftp server.</p><p>I suppose if you wanted to backup your IOS you could do something along the lines of:</p><pre class="brush: plain; light: true; ">Chimp# archive upload-sw tftp://192.168.83.150/someimage.tar
</pre><br />
<p>But I haven't tried it...</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/02/slope-finder-for-missus_5304.html">
            Slope Finder for the Missus
          </a>
        </h3>
        <span class="post-meta">Published on Nov 2, 2008</span>
        <p>Since I do sysadminy stuff all day, I don't really get a chance to do much coding (or not as much of a chance as I would like).  You can imagine my joy when my girlfriend expressed a problem she needed solved: "I'm going to need to solve 100s of slope equations, i.e. where two lines intersect.  Can you write a program to do it?"  Sure!</p><p>I asked if she wanted to do a batch input or just a one-off type of deal, she decided on the latter.  Although I've done a fair bit of PyGTK stuff, I had never actually needed to convert it to Windows.  I debated using IronPython -- but needed to use a special library to help solve the equations (I'm lazy).</p><p>So, where is the power in Python?  After about 15-20m I had a console based app that could solve the slopes.  I added the Linux GUI part in maybe 45m, and then the Windows part in, well, not 45m!</p><p>Either way, screenshot is below.  Thanks girlfriend, I had fun!</p><a href="http://picasaweb.google.com/lh/photo/z7c7K2SAI4DQi84sBKkiGA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgEAxIIJW4HIfuL3VFBYCY8aQM8pVChFP5qcxi3_Daaay5oN2OEJ4XstDByk-fOFICyJUfkp3Beerf12V4n3HmWFn_4WNd36bvDOFd0y5Grx6cgo5WpICpgFU5exuS0zwHrCNTaSHeuzMOt/s800/slopefinder.jpg" /></a><br /><br /><br /><br /> </li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/02/pygtk-py2exe-for-windows_8282.html">
            PyGTK + py2exe for Windows
          </a>
        </h3>
        <span class="post-meta">Published on Nov 2, 2008</span>
        <p>I'm writing down these quick notes so I can remember the steps for getting py2exe to work with GTK.</p><ul><li>Download the GTK+ runtime</li></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/02/configure-timevault-to-remote-server_2418.html">
            Configure Timevault to Remote Server
          </a>
        </h3>
        <span class="post-meta">Published on Nov 2, 2008</span>
        <p>Using TimeVault with a shared drive as a backend is actually quite easy, but it does require a few special things setup. Note: this is gonna be a brief summary.</p><br />
<p>Install samba-tools, smbfs...</p><br />
<pre class="brush: plain; light: true; ">sudo apt-get install samba-tools smbfs
</pre><br />
<p>A lot more other stuff may install as well.</p><br />
<p>Create a script that mounts your samba share.  You could also do this in fstab, but I tend to suspend my laptop when I come home, and I like clicking buttons.</p><br />
<pre class="brush: bash; light: true; ">#!/bin/bash</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/02/backup-openfiler-to-s3_9140.html">
            Backup OpenFiler to S3
          </a>
        </h3>
        <span class="post-meta">Published on Nov 2, 2008</span>
        Backing up your Openfiler box to S3<br /><br /><p>While I don't think most pople would expect to backup their entire NAS/SAN to Amazon's S3, there might be a few very crucial things you need to backup.  For instance, my girlfriend's PhD papers and data.</p><p>I've seen an implementation using Ruby and s3sync -- something that I do on my server -- but I'm trying to migrate everything to Python.  Although there are a lot of great tools out there for S3, many of them Python-based,  I wanted to do one thing and do it well: have one complete full backup available, and using as little bandwidth as possible.  In these regards Duplicity would work well, except I wanted the ability to browse the S3 store using any other tool.</p><p>I've digged deeper into <a href="http://s3tools.logix.cz/s3cmd">s3cmd</a>, which I had noticed a long time ago, but I failed to notice it has a sync option.  I have tested it out, and it appears to work very, very well.  Here's how to use it with OF.</p><p>First, download <a href="http://s3tools.logix.cz/download">s3cmd</a>.  You'll need to use subversion, so I first checked it out to my laptop, then uploaded it via SSH to OF. I put my s3cmd folder in /opt.</p><pre class="brush: plain; light: true; "><br />[root@files opt]# ls<br />openfiler  s3cmd<br />[root@files opt]# <br /></pre><br /><br /><p>If you don't have elementtree installed, now is a good time to install it.</p><pre class="brush: plain; light: true; "><br />conary update elementtree:python<br /></pre><br /><br /><p>We need to next configure s3cmd with our AWS creds.</p><pre class="brush: plain; light: true; "><br />[root@files s3cmd]# ./s3cmd --configure<br /></pre><br /><br /><p>In the end I didn't configure encryption for my files (so just hit enter), but you may choose to do so.  I have configured the transfer to use HTTPS, however.</p><pre class="brush: plain; light: true; "><br />Save settings? [y/N] y<br />Configuration saved to '/root/.s3cfg'<br /></pre><br /><br /><p>Cool. Now create a bucket on S3 for your NAS, e.g. blah2134accesskey.openfiler, using whatever method you choose (I typically use Cockpit). Now that you have a bucket, configure a *really* simple script to drop in cron:</p><pre class="brush: bash; light: true; "><br />#!/bin/bash<br /><br />/opt/s3cmd/s3cmd sync /mnt/openfiler/data/profiles/bunny s3://blah2134accesskey.openfiler/mnt/openfiler/data/profiles/bunny<br />/opt/s3cmd/s3cmd sync /mnt/openfiler/data/profiles/kelvin-pc s3://blah2134accesskey.openfiler/mnt/openfiler/data/profiles/knicholson/kelvin-pc<br /></pre><br /><br /><p>Sweet! I like this approach quite a bit: I get file-level access to anything on the NAS, you don't have to actually install anything, and it 'just works.'</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/01/revised-modtile-install-howto_1369.html">
            Revised mod_tile Install HOWTO
          </a>
        </h3>
        <span class="post-meta">Published on Nov 1, 2008</span>
        <p>This is the laundry list of things I did while creating a mod_tile VMware appliance based on Ubuntu Server 8.04.  I've kept descriptions limited but left all the commands in.  Let's start installing things...</p><br />
<b>Useful goodies for compiling source</b><br />
<br />
<pre class="brush: plain; light: true; ">sudo apt-get build-essential
</pre><br />
<p><b>More goodies for Mapnik + Friends</b></p><pre class="brush: plain; light: true; ">sudo apt-get install libboost-dev libboost-filesystem-dev libboost-filesystem1.34.1 libboost-iostreams-dev libboost-iostreams1.34.1 libboost-program-options-dev libboost-program-options1.34.1 libboost-python-dev libboost-python1.34.1 libboost-regex-dev libboost-regex1.34.1 libboost-serialization-dev libboost-serialization1.34.1 libboost-thread-dev libboost-thread1.34.1 libicu-dev libicu38 libstdc++5 libstdc++5-3.3-dev python2.5-dev
</pre><br />
<pre class="brush: plain; light: true; ">sudo aptitude install libfreetype6 libfreetype6-dev libjpeg62 libjpeg62-dev libltdl3 libltdl3-dev libpng12-0 libpng12-dev libtiff4 libtiff4-dev libtiffxx0c2 python-imaging python-imaging-dbg proj
</pre><br />
<pre class="brush: plain; light: true; ">sudo aptitude install libcairo2 libcairo2-dev python-cairo python-cairo-dev libcairomm-1.0-1 libcairomm-1.0-dev libglib2.0-0 libpixman-1-0 libpixman-1-dev libpthread-stubs0 libpthread-stubs0-dev ttf-dejavu ttf-dejavu-core ttf-dejavu-extra
</pre><br />
<pre class="brush: plain; light: true; ">sudo aptitude install libgdal-dev python2.5-gdal postgresql-8.3-postgis postgresql-8.3 postgresql-server-dev-8.3 postgresql-contrib-8.3
</pre><br />
<pre class="brush: plain; light: true; ">sudo aptitude install libxslt1.1 libxslt1-dev libxml2-dev libxml2 gdal-bin libgeos-dev libbz2-dev
</pre><br />
<pre class="brush: plain; light: true; ">sudo aptitude install apache2 apache2-threaded-dev apache2-mpm-prefork apache2-utils
</pre><br />
<pre class="brush: plain; light: true; ">sudo aptitude install subversion
</pre><br />
<p>This checks out the mapnik source:</p><pre class="brush: plain; light: true; ">svn co svn://svn.mapnik.org/trunk mapnik-src
</pre><br />
<p>Let's build mapnik with several specific locations included.</p><pre class="brush: plain; light: true; ">cd mapnik-src
python scons/scons.py PYTHON=/usr/bin/python PGSQL_INCLUDES=/usr/include/postgresql PGSQL_LIBS=/usr/lib/postgresql BOOST_INCLUDES=/usr/include/boost BOOST_LIBS=/usr/lib
</pre><br />
<pre class="brush: plain; light: true; ">sudo python scons/scons.py install PYTHON=/usr/bin/python PGSQL_INCLUDES=/usr/include/postgresql PGSQL_LIBS=/usr/lib/postgresql BOOST_INCLUDES=/usr/include/boost BOOST_LIBS=/usr/lib
</pre><br />
<p>And prepare a few things for the mapnik rendering...</p><pre class="brush: plain; light: true; ">svn co http://svn.openstreetmap.org/applications/rendering/mapnik/
</pre><br />
<pre class="brush: plain; light: true; ">cd ~/mapnik
wget http://tile.openstreetmap.org/world_boundaries-spherical.tgz 
tar -xpjf world_boundaries-spherical.tgz
unzip processed_p.zip 
cp coastlines/* world_boundaries/ 
rmdir coastlines 
</pre><br />
<p>Time to setup postgres.  I have the intentions of running renderd (the mod_tile rendering engine) under whatever user Apache is running as, so I'll setup postgres to allow the OSM user to authenticate via password.  I'm not a postgres expert, so if you see me doing something totally foolish, let me know.</p><br />
<pre class="brush: plain; light: true; ">sudo vi /etc/postgresql/8.3/main/pg_hba.conf
</pre><br />
<p>And edit the authentication part as so:</p><pre class="brush: plain; light: true; "># Database administrative login by UNIX sockets
local   all         postgres                          ident sameuser
local   all         osm                               password sameuser
</pre><br />
<p>And now to actually configure postgres for the OSM data</p><pre class="brush: plain; light: true; ">sudo su postgres
createuser osm
createdb -E UTF8 -O osm gis
createlang plpgsql gis
psql -d gis -f /usr/share/postgresql-8.3-postgis/lwpostgis.sql
echo "ALTER TABLE geometry_columns OWNER TO osm; ALTER TABLE spatial_ref_sys OWNER TO osm;"  | psql -d gis
echo "alter user osm with password 'columbia';" | psql
</pre><br />
<pre class="brush: plain; light: true; ">sudo /etc/init.d/postgresql-8.3 restart
</pre><br />
<p>Now, let's render a sample image.  Edit set-mapnik-env by changing the DB to 'gis', the username to 'osm', and the password to 'columbia'</p><pre class="brush: plain; light: true; ">cd mapnik
source ./set-mapnik-env
./customize-mapnik-map >osm.xml
./generate_image.py
</pre><br />
<p>If you get an error about it not finding a lib, make sure to do a...</p><pre class="brush: plain; light: true; ">sudo ldconfig
</pre><br />
<p>You should have an image called 'image.png' in the mapnik directory, and it should look distinctly like the UK.</p><br />
<pre class="brush: plain; light: true; ">svn co http://svn.openstreetmap.org/applications/utils/export/osm2pgsql
cd osm2pgsql
make
</pre><br />
<p>Ok, that was easy.  Let's load some data. I've used a sample snippit from Sydney in /home/osm to illustrate this.</p><pre class="brush: plain; light: true; ">./osm2pgsql -W -d gis ../sydney.osm
</pre><br />
<p>Type in the password used for postgres ('columbia')</p><br />
<p>I'll now check that the data is accessible by editing generate_image.py with the correct coords for Sydney.</p><br />
<pre class="brush: plain; light: true; ">ll = (150.29, -34.04, 151.25, -33.36)
</pre><br />
<p>Time to get mod_tile up and running.</p><br />
<pre class="brush: plain; light: true; ">sudo apt-get install libagg-dev
</pre><br />
<pre class="brush: plain; light: true; ">svn co http://svn.openstreetmap.org/applications/utils/mod_tile
cd mod_tile
</pre><br />
<p>Depending on the revision of mod_tile you are using, you are going to have to edit the source before compiling.  The two files you need to read through are the Makefile and render_config.h.  I change the apxs and apachectl locations to the correct place (lines 2, 13 and 14). Since I did it on a x86 image, I took out any references to lib54 (line 33). In render_config.h, I made the following changes:</p><br />
<p>Line 8</p><br />
<pre class="brush: plain; light: true; ">#define WWW_ROOT "/var/www"
</pre><br />
<p>Line 23</p><br />
<pre class="brush: plain; light: true; ">#define OSM_XML "/home/osm/mapnik/osm.xml"
</pre><br />
<p>Removed references to lib64 on lines 26 and 29.</p><br />
<pre class="brush: plain; light: true; ">make && make install
</pre><br />
<p>Set it up as a module for apache by creating a file in /etc/apache/conf.d called 'mod_tile' and putting in there:</p><br />
<pre class="brush: plain; light: true; ">LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so
</pre><br />
<p>Created a folder called 'osm_tiles2' and 'direct' in /var/www, and make sure they are writable by whatever apache runs as (likely www-data). Restart apache.</p><p>From here, I created a file that automatically zooms in on the map I just created -- you can check it out here. Start the renderd process as www-data, and browse to the sample file.</p><pre class="brush: plain; light: true; ">cd ~/mod_tile
sudo su www-data
./renderd
</pre><br />
<p>By now you should have a working mod_tile/OSM setup.  After a change and tune a few things on the Ubuntu image I'll make the VMware image available for download.  I can't wait to do some OSM projects!</p><br />
<br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/11/01/capped-internet_4903.html">
            Capped Internet
          </a>
        </h3>
        <span class="post-meta">Published on Nov 1, 2008</span>
        <p>I've lived in several different parts of the world, and they all do internet differently.  Back in the US I had 8Mb/sec cable (leaving just before Fios was really an option, darn!) In New Zealand, for instance, I was paying for "high speed ADSL" rated at 1.5Mb/256k.  Vrooom.  Up in Taiwan I was paying 1/2 what I paid in New Zealand, but for 12Mb/1Mb.  Down to Sydney and we have a rated 24Mb/1Mb.</p><p>But there's a catch with the plans in New Zealand and Australia: they are 'capped'.  This means you only get XGB/month -- and it isn't like Comcast capping at 250GB/month, I'm talking about 1GB/5GB/10GB and so forth.  And there's more -- just like mobile phones, you get on-peak and off-peak times.</p><p>This all does make a bit of sense to me -- there are only X amount of tubes going in and out of NZ and AU, and I would imagine they get pretty clogged.</p><p>Either way, last month was pretty painful.  Two weeks into our plan I checked out usage: 14GB of 18GB!  We had only 4GB left to use for 15 days.  This sounds like a lot, but for the two of us, and my 10 virtual servers, it isn't.  The first thing I did was looking at a way to do WSUS with Linux -- I ended up using apt-cacher (I'm using only Ubuntu at home).  BitTorrent, out; downloading any new ISOs, out; streaming music, totally out.  For a while I has to VPN to home, and then VPN to a client, as our router at work didn't seem to like letting us access one of our clients.  I even disconnected from the VPN if I wouldn't be doing work for 20m!</p><p>We eventually made it, and used only 2GB in two weeks.  What an accomplishment!</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/08/11/using-raw-disks-with-vmware-server-2_3562.html">
            Using Raw Disks with VMware Server 2
          </a>
        </h3>
        <span class="post-meta">Published on Aug 11, 2008</span>
        <p>For various reasons I had the need to open a raw disk inside VMware Server 2.  The reports from the field say that this just isn't supported. Although I don't need to actually run a raw disk, I needed to get some data off it -- 400GB worth.  It turns out 'not supported' really means 'not in the UI.'  I don't know the reason why it isn't in the UI, maybe marketing wants people to use ESX, or maybe the UI guys fell behind with their workload.</p><p>Alas, it is possible.  And here's how.</p><br />
<br />
1) Take out your 'raw disk' and put it into another machine.<br />
<br />
2) Fire up Server 1.0.x or Workstation and open a virtual machine (or create a new one).  Edit the preferences and add a new hard disk.  Select 'use a physical disk', and select the disk you put in above.  Select use entire disk.  You may want to change the SCSI LUN to SCSI1:0 (depending how many disks are in your 'proper' server).<br />
<br />
3) Save it as something like 500GB.vmdk<br />
<br />
5) Copy out the relevant bit from the vmx file, e.g.<br />
<br />
<pre class="brush: plain; light: true; "># Test VM.vmx
scsi1.present = "TRUE"
scsi1:0.present = "TRUE"
scsi1:0.fileName = "500GB.vmdk"
scsi1:0.deviceType = "rawDisk"
</pre><br />
<br />
<p>And of course, the entire 500GB.vmdk file</p><pre class="brush: plain; light: true; "># 500GB.vmdk
# Disk DescriptorFile
version=1
CID=7e245252
parentCID=ffffffff
createType="fullDevice"</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/08/02/vm-automatic-startup-in-server-2_6579.html">
            VM Automatic Startup in Server 2
          </a>
        </h3>
        <span class="post-meta">Published on Aug 2, 2008</span>
        <p>I think possibly one of the most practical upgrades in VMware Server 2 appears to be the ability to automatically turn on virtual machines in a stagnated order.  I have fond memories of turning on a server with 10 virtual machines, and when they all turn on at once, the hard disk grinds to a halt.  This forced me to turn on the machines manually afterwards.</p><p>+1 VMware in my books.</p><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/08/01/vmware-tools-in-vmware-server-2_6233.html">
            VMware Tools in VMware Server 2
          </a>
        </h3>
        <span class="post-meta">Published on Aug 1, 2008</span>
        <p>Installing the tools in VMware Server 2 is a little different than Workstation or the previous versions of VMware Server.  Under the Summary tab of your Virtual Machine, look for a link that says "Install VMware Tools" -- click it.</p><p>Wait for 'Success' to show up on the bottom, and jump into your virtual machine.  Mount the tools as so:</p><pre class="brush: plain; light: true; ">mount /dev/cdrom /media/cdrom
</pre><br />
<br />
<p>And install as normal (copy the .tar.gz to /usr/src, extract it, install it).  Easy peasy.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/08/01/ubuntu-804-64-bit-and-vmware-server-2_1451.html">
            Ubuntu 8.04 64-Bit and VMware Server 2
          </a>
        </h3>
        <span class="post-meta">Published on Aug 1, 2008</span>
        <p>I now have successful installation of VMware Server 2 (Beta RC1) on top of Ubuntu 8.04 64-bit.  I have been using various virtualization technologies for years, and VMware is usually the easiest to install and configure.  So far, VMware Server 2 RC1, has proven to be the exception to the rule.</p><p>That said, I am very excited by the direction VMware is taking -- this new server version looks to have great potential.<p><br />
<br />
<p>The 'server' this is on is a mATX motherboard from Gigabyte (GA-G33M-DS2R), with 4GB (2x2GB) of Transcend DDR2-800 memory, topped off with the E8200.  I have been nothing but impressed with this combination of hardware.</p><p>However, although I was thinking VMware Server 2 would install seamlessly over Ubuntu, I was wrong.  There were a few things I had to tweak to get everything working correctly.</p><p>The first thing I had major issues with was VMware choking on the parallel port.  Normally the parport is the first thing I would turn off, but in this instance, I guess excitement overtook me.  My tip is to first remove the lp module from inside /etc/modules, and then disable the parallel port inside the BIOS.  The symptoms I was having involved VMware halting/freezing on either startup or shutdown.  This occurred for both RC1 as well as 1.0.6.</p><p>My second tip, if VMware freezes half way through starting up or shutting down, is to go through the vmware startup script, /etc/init.d/vmware, and comment out anything refering to the parport_pc.  In particular, I looked for this line and made sure to comment it out:</p><pre class="brush: plain; light: true; ">/sbin/modprobe -r parport_pc >/dev/null 2>&1
</pre><br />
<br />
<p>I commented out lines 974 and 1076.  After doing this, VMware loaded perfectly.</p><p>The second major issue I had occurred after actually installing VMware.  I opened Firefox and went to the IP of my virtual server, logged in just fine, and loaded up my first virtual machine.  However, after booting the virtual machine, I was unable to open up the remote console.  It turns out I had just upgraded to Firefox 3.0.1, and the Remote Console is set to fail on anything above 3.0.0.1.  The fix is quite easy.</p><p>First click where it says "click anywhere to open the virtual machine".  Copy the address of the XPI and use something like wget to download the file.  This is an example:</p><pre class="brush: plain; light: true; ">wget --no-check-certificate https://192.168.50.10/ui/plugin/vmware-vmrc-linux-x86.xpi
</pre><br />
<br />
<p>If you are using Gnome, right click the file you just downloaded and say Open With then Archive Manager.  Do the same for the 'install.rdf' file inside, specifying gedit as the application if need be. Next, edit line 20 so it reads as follows:</p><pre class="brush: plain; light: true; "><em:maxVersion>3.0.*</em:maxVersion>
</pre><br />
<br />
<p>Save the file, open the XPI with Firefox, and you should be good to go.</p><p>I've seen a lot of other suggestions on the 'net on how to fix VMware RC1 when booting -- including disabling ipv6, checking the hosts file, and running the any-any patches.  None of these approaches helped me at all, but maybe it is exactly what you need.  My biggest tip is that if VMware isn't starting up or stopping correctly, open up /etc/init.d/vmware and find out exactly where it is faulting (add things like 'echo "fail"' inside the IF statements).</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/05/27/gui-to-plot-driving-speed_6997.html">
            GUI to Plot Driving Speed
          </a>
        </h3>
        <span class="post-meta">Published on May 27, 2008</span>
        <p>I needed another Python fix, and I need one pretty badly.  I spent the weekend wondering why it appears to be impossible to edit the GUIDs inside an Exchange mailbox store (read: NOT the GUIDs stored in AD for Exchange).  Anyways, I digress.</p><p>My goals were simple.  I wanted to use Python, wanted something to do with traffic, and wanted to play around with Glade/PyGTK and graphing stuff.  My end result was a little app that allows you to specify a GPX file, and it plots the waypoints (and calculates the moving average!).  Pretty simple, pretty useless, but pretty fun.  I really do like pretty pictures.</p><a href="http://picasaweb.google.com/lh/photo/qv9V1YGpNjeYA0oywW8BGA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbsbQ8Cni_yPDyZ4MPoq2GXKP-XOFmq9aEpdc3acy9aMR5QemSj4UXMS1rGJ0IUSF3yc3unogl13DXYQM9z3wD_PmGreclmzDvmaqzJlSEuHJnq-sysd-r34mpNlI1gLOFwuWuyIWfRFp8/s400/SpeedPlotrX.jpg" /></a><br /><br /><p>I ended up using matplotlab for the graphing part, but I don't really like how the graphs look.  I will likely use Pycha (which dips into Cairo) for my future projects -- but we'll see when that point comes.  (If data sensitivity wasn't an issue, I would totally use Google Charts, since I'm a sucker for APIs).</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/29/setting-up-windows-2003-as-ntp-client_4269.html">
            Setting up Windows 2003 as an NTP Client
          </a>
        </h3>
        <span class="post-meta">Published on Apr 29, 2008</span>
        <p>I have had to search for the commands to setup a Windows 2003 box as an ntp client a few times now, so have decided to finally write them down here for my own good measure.  Funny thing is, I'm pretty sure there are three ways to setup a 2003 box as an ntp client.</p><h4>1) Via the CLI</h4><br />
<br />
<p>Open up the cmd prompt and type in:</p><pre class="brush: plain; light: true; ">w32tm /config /manualpeerlist:"0.pool.ntp.org 1.pool.ntp.org 2.pool.ntp.org 3.pool.ntp.org" 
/syncfromflags:MANUAL /reliable:YES /update
</pre><br />
<br />
<h4>2) Via the CLI, option 2</h4><br />
<br />
<pre class="brush: plain; light: true; ">net time setsntp: "0.pool.ntp.org 1.pool.ntp.org 2.pool.ntp.org 3.pool.ntp.org"
</pre><br />
<br />
<h4>3) Via GUI</h4><br />
<br />
<p>Type in <b>gpedit.msc</b> and your local GPO editor will pop up.  Go to the folder as indicated in the below screenshot and Enable the "Enable Windows NTP Client" option.  Next set the "Configure Windows NTP Client" option to whatever time servers you so choose.  As always, make sure to keep the 0x1 at the end.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/29/event-vs-dom-driven-parsing-of-xml_6678.html">
            Event vs. DOM Driven Parsing of XML
          </a>
        </h3>
        <span class="post-meta">Published on Apr 29, 2008</span>
        <p>I recently have been <a href="http://www.kelvinism.com/tech-blog/baby-steps-graphing-traffic/">playing</a> with parsing GPX files and spitting out the results into a special KML file.  I initially wrote a parser using minidom, yet after running this the first time -- and my Core2Duo laptop reaching 100% utilization for 10 seconds -- I realized I needed to re-write it using something else.</p><p>I spent a little time reading the different parsers for XML and eventually read more about <a href="http://effbot.org/zone/celementtree.htm">cElementTree</a>.  And it is included with Python2.5, sweet.</p><p>I quickly rewrote the code and did some tests. First, the two bits of code for parsing my GPX file:</p><p><b>minidom-speed.py</b></p><pre class="brush: python; light: true ">#!/usr/bin/python</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/29/another-baby-step_1340.html">
            Another Baby Step
          </a>
        </h3>
        <span class="post-meta">Published on Apr 29, 2008</span>
        <p>I showed a few of my co-workers my graph and one replied -- oh! that's really cool. (I think only two of my co-workers are actually interested in my geekyness).  He then emailed me tonight a .kmz file containing a colorized file of his speed.  I looked at the kml and noticed it appeared to be dynamically allocated judging by the top speed.  Well, as you could guess, I surely had to modify my code to include colors.</p><p>Within an hour I had a semi-working example, and within two hours will easily be done with this blog post.  The code might not be perfect, but it first parses the xml and returns the max speed for the trip.  Next, it colorizes the speeds based on a scale of 0-255, with 0 being blue for fast and 255 for being yellow, or slow.  I was going to study for the CCNA tonight, but it looks like writing Python is just too much fun.</p><a href="http://picasaweb.google.com/lh/photo/vQ_v3bb0f6QLHiOEEShN1Q?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhHE0LrPY3qk6xEJfwkyjpNu6wcJtGv9vtho2gi7W9NCTbViKUXsImuIoNjcoZGTiSTTrGkRCOzb_WP8RE7wTweah7WkOwdp1x6b2b7teDvMvGcf2u-Ou9jYkfyKTDXpWY8N8J_GYEDYKkI/s288/gpstracks1.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/L7745TDqLkWkkftff8bV8g?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhySCFquf2IZDhKtK0aJNzlga4jA04ye11unofmz42J5_UB1AdyLDrsuxfZCwVUuj-9HBPcs04l3vkke-S3aMfbdI_2i6iwM4pmL4WFrCpD6YmSUJ9T8I6ixMDzhnuX7-I62nPs8VsP8gXx/s288/gpstracks2.jpg" /></a><br /><br /><p>So what, you might ask, are those dips? Good question.  They are huge speed bumps (and the tall blue mound in the middle is a really steep hill).</p><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/27/setting-up-mapnik-server-on-ubuntu_118.html">
            Setting up a Mapnik Server on Ubuntu
          </a>
        </h3>
        <span class="post-meta">Published on Apr 27, 2008</span>
        <p>First, we go ahead and install the needed packages.  I've tried to include "my" list of packages that were needed to get a vanilla 7.10 image up to steam.</p><pre class="brush: plain; light: true; ">apt-get install build-essential libltdl3-dev autoconf libtool automake \
postgresql postgresql-8.2-postgis postgresql-server-dev-8.2 \
wget subversion libboost-python1.34.1 libboost-thread-dev \
libboost-program-options-dev libboost-regex-dev \
libboost-python-dev libboost-serialization-dev \
libboost-filesystem-dev libpng12-dev libjpeg62-dev \
libtiff4-dev zlib1g-dev libfreetype6-dev libgeos-dev \
unzip apache2-prefork-dev
</pre><br />
<br />
<p>Next we start to download a few components.  I did this in my home directory, /home/kelvin</p><p><b>mod_tile</b> - this is the apache module and rendering daemon that uses mapnik to render the maps.</p><pre class="brush: plain; light: true; ">svn co http://svn.openstreetmap.org/applications/utils/mod_tile
</pre><br />
<p><b>Mapnik</b> - this will help us create the maps.</p><pre class="brush: plain; light: true; ">wget http://download.berlios.de/mapnik/mapnik_src-0.5.1.tar.gz
</pre><br />
<br />
<p>Now we start to install things.</p><pre class="brush: plain; light: true; ">tar -xpzf mapnik_src-0.5.1.tar.gz
cd mapnik-0.5.1
</pre><br />
<br />
<p>Build mapnik as per: http://wiki.openstreetmap.org/index.php/Mapnik -- make sure to use scons as follows:</p><pre class="brush: plain; light: true; ">python scons/scons.py PYTHON=/usr/bin/python \
PGSQL_INCLUDES=/usr/include/postgresql \
PGSQL_LIBS=/usr/lib/postgresql BOOST_INCLUDES=/usr/include/boost BOOST_LIBS=/usr/lib
</pre><br />
<br />
<p>Now, I'm temporarily serving/rendering my tiles from an old Thinkpad "server" (PIII with 512MB RAM, of which only 128MB goes to the Xen instance that hosts all of this). So, I am using osm2pgsql on my laptop (a new Thinkpad), and pushing it into the postgres database on my "server".  So, I built osm2pgsql on my new Thinkpad, and setup postgres on the "server" to accept connections from my new Thinkpad.</p><p><b>pg_hba.conf</b> -- Set these lines should be added, assuming your computer is 192.168.10.100:</p><pre class="brush: plain; light: true; ">host    all     all     192.168.10.100/32  trust
</pre><br />
<p>Then I do the actual import, assuming my "server" has an IP of 192.168.10.10:</p><pre class="brush: plain; light: true; ">./osm2pgsql -H 192.168.10.10 -U username -l -m -d gis -W /home/location/to/osm/australia.osm
</pre><br />
<br />
<p>Make sure generate_image works before installing mod_tile!</p><p>Install mod_tile as per the modifications needed: http://www.kelvinism.com/howtos/notes-installing-mod_tile-mapnik/</p><p>And the end result? <a href="http://tiles.kelvinism.com">http://tiles.kelvinism.com</a> (remember, on a seven year old Thinkpad!)</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/27/baby-steps-at-graphing-traffic_522.html">
            Baby Steps at Graphing Traffic
          </a>
        </h3>
        <span class="post-meta">Published on Apr 27, 2008</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/23/redirecting-fun-with-lightty_330.html">
            Redirecting Fun with Lightty
          </a>
        </h3>
        <span class="post-meta">Published on Apr 23, 2008</span>
        <p>Two of my colleagues were having just a little bit <a href="http://www.kelvinism.com/blog/Australia/i-caught-fish/#c1926">too much fun</a> with my blog, so I decided to have some fun back.  Over a period of 10 minutes, they managed to leave 10+ comments.  Luckily I have full control over my server, and was able to quickly create my practical joke.</p><pre class="brush: plain; light: true; ">$HTTP["remoteip"] == "123.45.678.910" {
url.redirect = (
"^/(.*)" => "http://www.urbandictionary.com/define.php?term=annoying+fuck",
"" => "http://www.urbandictionary.com/define.php?term=annoying+fuck",
"/" => "http://www.urbandictionary.com/define.php?term=annoying+fuck"
)
}
</pre><br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/22/notes-on-installing-modtile-for-mapnik_168.html">
            Notes on Installing mod_tile for Mapnik
          </a>
        </h3>
        <span class="post-meta">Published on Apr 22, 2008</span>
        <p>I have no idea if these notes on how to install mod_tile will be useful for anybody.  The current readme states that you need to edit the source code, but never actually where.  Well, this is where, at least until the code can either take switches or can auto-configure itself.  This is quite brief, so if you need more details, shoot me an email or leave a comment.  I have repeated this process on two Ubuntu 7.10 machines.</p><p>1) Install mapnik as per normal -- you may also need to do a...</p><pre class="brush: plain; light: true; ">$ ./bootstrap
$ ./autogen.sh
$ ./configure
$ make
# make install
</pre><br />
<br />
<p>2) Install libagg (apt-get install libagg-dev)</p><p>3) Make sure the mapnik library files are /usr/local/lib (libmapnik.*)</p><p>4) Make sure to copy/install fonts and input folders into /usr/local/lib/mapnik</p><p>5) Edit Makefile, change line 27 to where your include files are located</p><pre class="brush: plain; light: true; ">RENDER_CPPFLAGS += -I/usr/local/include/mapnik
</pre><br />
<br />
<p>6) Edit Makefile, change line 33 to where your mapnik libraries are (libmapnik.*)</p><pre class="brush: plain; light: true; ">RENDER_LDFLAGS += -lmapnik -L/usr/local/lib
</pre><br />
<br />
<p>7) Edit Line 40 of gen_tile.cpp to point to your osm.xml file (that you can verify works with generate_image.py)</p><pre class="brush: plain; light: true; ">static const char *mapfile = "/home/kelvin/mapnik-osm/osm.xml";
</pre><br />
<br />
<p>8) Edit line 219 of gen_tile.cpp to point to the correct location of the datasource input.</p><pre class="brush: plain; light: true; ">datasource_cache::instance()->register_datasources("/usr/local/lib/mapnik/input");
</pre><br />
<br />
<p>9) Edit line 221 of gen_tile.cpp to point to the correct location of your fonts directory.</p><pre class="brush: plain; light: true; ">load_fonts("/usr/local/lib/mapnik/fonts", 0);
</pre><br />
<p>10) The module will install in /usr/lib/apache2/modules, so mod_tile.conf should read:</p><pre class="brush: plain; light: true; ">LoadModule tile_module /usr/lib/apache2/modules/mod_tile.so
</pre><br />
<p><b>Final note:</b> I think it would be possible to just symlink the lib directory to lib64, although I would expect that could have some undesirable outcomes down the road.  However, despite being pretty new code, how do I find mod_tile? Pretty good, actually.  I expected more difficulties setting it up, but overall the procedure hasn't been too bad.  I like the approach of creating a module vs. using several middle-layers.  So once again, hats off to the OSM crew.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/20/ethx-issues-with-xen-and-ubuntu_2003.html">
            ethX Issues with Xen and Ubuntu
          </a>
        </h3>
        <span class="post-meta">Published on Apr 20, 2008</span>
        <p>My new guest VMs under Xen seem to be having issues where upon each reboot, the network interface gets incremented by 1.  For instance, it starts at eth0, then goes to eth1, then eth2, and eventually ethX.  There are two issues to fix: 1) get the count back to 0, and 2) stop it from counting again.</p><p>I was able to get them to decrease by looking in the /etc/udev/rules.d/70-persistent-net.rules file and removing all entries.</p><p>Next, I was able to prevent this by simply inserting a MAC address to the interface in the configuration.  For instance, one of my domU's has this entry:</p><pre class="brush: bash; light: true; ">vif         = [ 'mac=00:D0:59:83:DC:B5,bridge=xenbr0' ]
</pre><br />
<br />
<p>Lastly, I made sure (as I would with any server) to create an entry in the /etc/network/interfaces file.</p><pre class="brush: bash; light: true; ">auto eth0
iface eth0 inet static
address 192.168.1.16
gateway 192.168.1.1
netmask 255.255.255.0
</pre><br />
<br />
<p>Works like a charm.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/04/19/installing-mapnik-on-ubuntu-710_6688.html">
            Installing Mapnik on Ubuntu 7.10
          </a>
        </h3>
        <span class="post-meta">Published on Apr 19, 2008</span>
        <p>I have managed to install mapnik 0.4, 0.5, 0.5.1 and various SVN releases in-between on Ubuntu.  While this isn't in itself exciting, I think I manage to stumble at every installation.  I typically forget to add the flags when building, so, to prevent myself from stumbling again, I'm going to write them out here.</p><b>Build mapnik</b><br />
<br />
<pre class="brush: bash; light: true; ">$ python scons/scons.py PYTHON=/usr/bin/python \ </li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/03/19/and-yet-another-remodel_7848.html">
            And Yet Another Remodel
          </a>
        </h3>
        <span class="post-meta">Published on Mar 19, 2008</span>
        <p>I have finally decided to do another remodel of this site.  I had a few goals before starting:</p><ul><br /><li>Use one image</li><br /><li>Use the YUI-CSS framework</li><br /><li>Use Django</li><br /><li>Make it easily extendable</li><br /></ul><br /><br /><p>So far, I think I've accomplished these goals.  The site is easier to read, easy to modify, and has a few new features.  More entries to come!</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/02/13/database-woopsie_863.html">
            Database Woopsie
          </a>
        </h3>
        <span class="post-meta">Published on Feb 13, 2008</span>
        <p>I returned to my computer today to notice I had the following error:</p><pre class="brush: bash; light: true; ">(145, "Table './databasename/comments_freecomment' is marked as crashed and should be repaired")
</pre><br />
<br />
<p>Well, crap.  The solution is quite easy, however:</p><pre class="brush: bash; light: true; ">mysqlcheck -uUsername -pPassword databasename comments_freecomment
</pre><br />
<br />
<p>Now you know what you already know, you can fix it:</p><pre class="brush: bash; light: true; ">mysqlcheck -r -uUsername -pPassword databasename comments_freecomment
</pre><br />
<br />
<p>If that doesn't work, you can try a slightly different method.  First, go to the location where your databases are stored on the disk (most likely something like /var/lib/mysql/databasename).  Next, stop the database -- and try to free up as much memory as possible.  Then run:</p><pre class="brush: shell; light: true; ">myisamchk -r comments_freecomment
</pre><br />
<br />
<p>If that doesn't work, try to force it:</p><pre class="brush: bash; light: true; ">myisamchk -r comments_freecomment -f
</pre><br />
<br />
<p>Hope that helps!</p><br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/02/03/gps-on-skypephone_9589.html">
            GPS on the SkypePhone
          </a>
        </h3>
        <span class="post-meta">Published on Feb 3, 2008</span>
        <p>Yesterday I was sort of curious if I could use my 3 Skypephone in a pinch if I got lost, which here in Sydney, happens quite often.  Luckily 3's Skypephone has both Bluetooth, and supports j2me apps.  Mobile GPS unit, here I come.</p><a href="http://picasaweb.google.com/lh/photo/3AY6h-qKwGk9NpnB9hrwsw?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjExWMS7zKJdGCG_1MHdpb900yTseLCrbHerf2PlfzwSouqfnmJHr5V1jiIcDcbMrEul2OZUFlCYOQhTgrq_3C-cYDWmxkx-yDOr6NNwokX8P-gUikt3DSjxRi11qJrMuP4_aSRLpjhLPax/s288/DSC03368.jpg" /></a><br /><br /><p>The recipe to get maps on your Skypephone is pretty darn easy.  You'll need one dash bluetooth GPS receiver (I have the <a href="http://www.qstarz.com/Products/GPS%20Products/BT-Q1000.html">Qstarz BT-Q1000</a>), <a href="http://linuxtechs.net/kruch/tb/forum/index.php">TrekBuddy</a>, a TrekBuddy acceptable map (<a href="http://osm.bandnet.org/browse/?1,1,1,0">easily downloadable</a>), and one dab computer -- but since you're reading this, I figure you've got that part taken care of.</p><p>My process is as follows (on Linux): plug in your Skypephone and select "usb storage" on your phone.  Drag the TrekBuddy.jar file onto your new mounted drive (mine comes up as KINGSTON).  Drag a relevent map downloaded from bandnet.org onto your phone as well.  Unplug your phone from the USB, and it will scan for new media.  Hit Menu -> My Stuff -> Others and scroll down to treckbuddy.jar -- hit Run.  Go to your Connectivity settings and turn on bluetooth.  Next go to Games and Apps and downloaded apps, start TrekBuddy.  Press the key above MENU and select Load Map, and choose the map you uploaded to your phone.  Now hit Start.  Select the GPS device, and you're in business!</p><p>There are more instructions <a href="http://linuxtechs.net/kruch/tb/forum/viewtopic.php?t=91">here</a> and also <a href="http://linuxtechs.net/kruch/tb/forum/viewtopic.php?t=22">here</a>.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/01/08/size-of-uncompressed-osm-file_95.html">
            Size of Uncompressed OSM File
          </a>
        </h3>
        <span class="post-meta">Published on Jan 8, 2008</span>
        <p>I've been playing around with <a href="http://www.openstreetmap.com">OSM</a> a little lately, and have been meaning to construct my own slippy map.  At first I wanted to do it on my VPS -- but with rather limited storage, and even more limited memory, there just isn't a way.  Three problems exists: the first occurs when trying to use osm2pgsql to import the OSM file into the database.  Current records state that this typically uses 650+ MB, something my 512MB VPS just doesn't have (although I'm writing some code that might make this possible in the future).</p><p>The second problem exists with CPU usage.  Processes on my VPS don't really utilize the CPU much, which means renicing the process doesn't do a thing.  The CPU pegs at 100%, as it is supposed to do, except that the VPS auto-kills processes that stay at 100% for any length of time.  Luckily somebody wrote a program called "cpulimit" (apt-get install cpulimit) that will cap the CPU usage for a process.</p><p>The last problem that I thought about is <i>what if</i> I could uncompress the file.  Would that use less memory to stick it in the database?  I searched and searched but couldn't find an answer to how big the actual .osm file is.  I ultimately broke down and decided to spend the 50c it would take to get this all done with EC2, and write some scripts to automate it in the future.</p><p>However, since I've finally uncompressed the .osm, I can tell you that as of about January 1st, 2008, the uncompressed OSM size is 67GB.  </p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2008/01/01/using-distcc_1425.html">
            Using Distcc
          </a>
        </h3>
        <span class="post-meta">Published on Jan 1, 2008</span>
        <p>I'm in the process of working on one of my projects, and the requirement came up to download a fairly large file (4GB).  Since I only receive ~20GB/month at my house, I decided to just use my server in the U.S. The next requirement came about needing to compile Mapnik, which I had intended to do on the server at some point anyways, yet I ran into memory constraints.</p><p>Good old distcc comes to the rescue.  I don't need to use distcc that often, yet when I do, it is very handy.  However, I always forget to set g++ to use distcc as well.  So, for when I forget next time...</p><pre class="brush: bash; light: true; ">DISTCC_HOSTS='home'
./configure
make CC=distcc CXX=distcc</pre><br />
<br />
<p>Maybe one of these days I'll write a more in depth tutorial for installing distcc, yet until then, you can <a href="http://wiki.vpslink.com/index.php?title=HOWTO:_Install/Configure_Distcc">peruse the notes</a> I left on my VPS provider's wiki.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/12/30/sydneys-driving-habits.html">
            Sydney&#39;s Driving Habits
          </a>
        </h3>
        <span class="post-meta">Published on Dec 30, 2007</span>
        Status: <i class="fas fa-skull-crossbones"></i><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/12/11/small-business-server-2003_4192.html">
            Small Business Server 2003
          </a>
        </h3>
        <span class="post-meta">Published on Dec 11, 2007</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/10/21/zenity-gui-to-shell-script_5432.html">
            Zenity GUI to a Shell Script
          </a>
        </h3>
        <span class="post-meta">Published on Oct 21, 2007</span>
        <br />
<a href="http://picasaweb.google.com/lh/photo/whbV2vHNOr5d7pvO8qsgRw?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEigBFNcFKSB9lKhJPiSiwDlp9q9SmO2yEu9v343B1M-2NFN5s2cJ-cUji8qR3LW1CmmitKztwUh3QxLAIjkSMYio5lIwhX1GszzhfZnufjrxugrWTNSZLH06e-qxV4ldttqBMDRBPWfXlc4/s800/zenityss.jpg" /></a><br />
<br />
<p>I have to admit, I'm pretty lazy.  I don't (ironically) like to type, and I really don't like typing the same command over and over.  I found myself switching between my external monitor and laptop quite frequently, and decided to somewhat automate the task.  Although I know there are other programs out there that allow this, they either had too many features, or crashed.  Xrandr works just fine, but like I said, I'm lazy...</p><p>Enter <a href="http://live.gnome.org/Zenity">Zenity</a>.  Initially I created a PyGTK monitor switcher, yet wanted something even simpler.  If you aren't in the know, Zenity allows you to create super fast, super simple dialogs to regular commands.  After you click "ok", the command is executed, and the dialog disappears.  Perfect for switching displays.</p><p>And here is the simplistic code behind it:</p><pre class="brush: shell; light: true; ">
#!/bin/sh</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/10/02/mass-spam-delete-django_8712.html">
            Mass Spam Delete Django
          </a>
        </h3>
        <span class="post-meta">Published on Oct 2, 2007</span>
        <p>As you can read, I've been traveling around quite a bit lately.  This means I haven't been checking the comments on my blog, which means quite a bit of spam has been entered.  I am blocking the spam via akismet, however, it is still recorded in the database.  Being somebody who hates cluttered desktops, you can imagine how I feel about having a lot (447) of spam.  Well, since akismet flips the is_public switch True for good comments and False for bad comments, that makes a <b>really</b> easy query in mysql.</p><pre class="brush: plain; light: true; ">mysql> delete from comments_freecomment where is_public = False
</pre><br />
<p>Of course, make sure you have backed up your database first.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/07/14/works-with-windows-vista_392.html">
            Works With Windows Vista
          </a>
        </h3>
        <span class="post-meta">Published on Jul 14, 2007</span>
        <p>I'm in Tibet right now, so will keep this somewhat brief.</p><p>For the next few hours I'll be sitting in this dingy internet cafe in Lhasa updating my blog with my travels.  I happened to look down and on the monitor it says "works with windows vista".  I find this quite humorous, <i>of course</i> it is going to work with vista, it is a normal generic monitor.</p><p>Anyhow, I guess there is a reason for marketing.  Back to writing our travels.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/29/openmoko-in-person_6379.html">
            OpenMoko In Person
          </a>
        </h3>
        <span class="post-meta">Published on Jun 29, 2007</span>
        <p>Two weeks ago I had the privilege of meeting up with some of the <a href="http://www.openmoko.org">OpenMoko</a> guys.  You've seen me write a little bit about this project, but meeting them and actually getting to play with a device was quite enlightening.</p><p>Most foreigners in Taipei take taxis, but not I.  My girlfriend gave me a rough estimate how to go to FIC headquarters, yet it was -- rough.  I jumped on the right bus, going the right direction, yet didn't really know where to get off.  In my broken Chinese I started talking to a group of high school kids, who somewhat pointed me in the right direction.  At one point we were coming up to a light and a lady just said: "get off, go down that road."  I grabbed my bag and jumped off the bus.  The street signs started to resemble the characters I had written down, but I didn't know which direction to go in.  I asked a travel agency, and they pointed me in the right direction -- and then it started to rain.  I luckily found FIC without getting too wet, and quickly met Sean, the project leader for OpenMoko.</p><p>Sean, myself, and several other OpenMoko developers went out to lunch and talked shop.  Mickey pulled out a Neo, the hardware platform OpenMoko is going to be based off of.  I'll admit, when I saw photos I wasn't really impressed -- but in person, it is pretty sexy.  Not too big, but big enough to be functional.  In one of my previous posts I mentioned learning C++ back in university, and having basically not touched it since.  In a way, I haven't had to, and I've recently found Python, which is just <i>fun</i>.  However, I'm so excited about the OpenMoko, I've picked up the K & R bible to read while we are traveling.  Not the ideal way to learn a language, but the concepts are somewhat a refresher.  I can't wait to play with SIP/IAX on this thing, it will then be my dream phone.</p><p>Well, I have one more post to make to get some thoughts off my chest.  If you want a postcard, send me an email.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/29/my-portable-travel-stick_1543.html">
            My Portable Travel Stick
          </a>
        </h3>
        <span class="post-meta">Published on Jun 29, 2007</span>
        This will be my last post from Taiwan, and I'm placing it in my tech section.  Shortly I will be flying to Hong Kong, and then traveling into China.  I'm not bringing my laptop with me.  I'm always a little wary of using public computers, especially in many of the poorly run internet cafes.  Often the logged in user is the administrator, and we all know the computers are obviously crawling with worms and keyloggers.  What can I do?<br />
<br />
My partner kindly gave me a 128MB flash disk, which is perfect for what I want to do.  I've installed the following applications to run directly from it:<br />
<ul><br />
<li><b><a href="http://portableapps.com/apps/utilities/clamwin_portable">Portable Clamwin</a></b> - I plan to fire it up and do a memory scan before I start typing any passwords.</li>
<br />
<li><b><a href="http://portableapps.com/apps/internet/putty_portable">Portable Putty</a></b> - This is useful for two reasons.  Firstly, in case my server (or any server with SSH) needs help, I'm on it.  Secondly, and more importantly, for security.  Putty can easily be used as a SOCKS5 proxy over SSH, so I can tunnel Firefox and IM securely.  Password sniffers, be gone!  A side benefit is the ability to bypass the "Great Firewall", if needed (e.g. the block my Google account).</li>
<br />
<li><b><a href="http://portableapps.com/apps/internet/miranda_portable">Portable Miranda</a></b> - In case I'm feeling home sick, or have some crazy desire to talk on IRC.  Don't count on it.</li>
<br />
<li><b>Firefox</b> - I tried the Portable Apps package, yet it didn't work.</li>
</ul>
<br />
I noticed in the "known issues" that it doesn't work if loaded on a drive with a non-asci path, which this machine (and those in China) usually have.  The "resolution" is to run it in Win98 compat mode, but this didn't work for me.  To get around this, I downloaded the normal Firefox, installed it, copied the contents of "Mozilla Firefox" and dumped it in /Firefox.  Then I created a profile directory called /FFProfile, and created a bat file called "firefox.bat":<br />
<pre class="brush: plain; light: true; ">start \Firefox\firefox.exe -profile \FFProfile</pre>
<br />
<br />
Double click the bat file, and you have FF running on your usb drive.<br />
I'm in a search for a better keylogger detector, as I don't know how complete ClamAV will be.  If you know of one, let me know.  Until then, I'm going to pretend I have the perfect traveling USB companion.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/29/last-xenful-comments_2649.html">
            Last Xenful Comments
          </a>
        </h3>
        <span class="post-meta">Published on Jun 29, 2007</span>
        <p>One of the biggest things I regret is not utilizing Xen more.  I've finally been admitted to Amazon's EC2 Limited Beta, just two days before I leave, so not enough time to actually do anything fun.  However, I think Xen is an ideal infrastructure aid for SMEs in particular.  The cost of technology is continuing to decrease, which means bigger servers cost less.  This is great for the small/branch office.  Let me explain.</p><p>One of the themes I noticed while studying and taking the MCSE was that the solution to the majority of the problems was to just buy more servers.  Even for simple things like DHCP, buy another server.  I've always operated on a limited budget, and anyways, I don't think money should be wasted on resources when it isn't needed.  With a VT chipset, you aren't tied to any OS in particular.</p><p>My friend Ian and I were talking and he illustrated a great usage of Xen through his work.  What he's ended up doing is installing the Small Business Edition of Server 2003 in a Xen node.  The reasoning is that SBE is, apparently extremely difficult to create backups of -- mainly due to odd file locking behavior.  I've had similar thoughts, but mainly taking advantage of Xen's migration feature.  The idea of taking a small branch office and putting everything on a Xen server is quite appealing to me, especially considering a second server could be used to create virtual hot spare.</p><p>As you can see, I like Xen.  I've found it relatively easy to install, and the fact that it is starting to come bundled with recent distributions is pretty darn, sweet.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/18/iis7-golive-program_3958.html">
            IIS7 GoLive Program
          </a>
        </h3>
        <span class="post-meta">Published on Jun 18, 2007</span>
        <p>You can easily see that I am a big Linux fan, I've mentioned this over and over.  I've also mentioned that I'm finishing up my MCSE, which started as a dare with my buddy, Ian.  In the process of studying for my MCSE I've developed a certain amount of respect for Windows Server 2003, yet I'll comment more on this later.</p><p>What I really wanted to write two paragraphs about was an interesting discovery I made today.  I happened to stumble over to Microsoft's hardware site, and noticed in my little Server Spy monitor that it was running IIS/7 -- the first time I have seen this anywhere.  Upon further investigation I perused their <a href="http://www.iis.net/default.aspx?tabid=7&subtabid=79">GoLive program</a>, which details several ways to test drive IIS7.  There are some details about Microsoft's setup, which one would expect to be impressive.  And it is.  So, if you are a Microsoft person, you may want to grab a test drive of Beta3 while you still can.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/14/liferea-rss-in-liferea_7495.html">
            Liferea RSS in Liferea
          </a>
        </h3>
        <span class="post-meta">Published on Jun 14, 2007</span>
        <p>Today on <a href="http://community.linux.com/article.pl?sid=07/06/07/1458229">Linux.com, Liferea was mentioned</a>  I find this particularly because I've been using Liferea for quite a few months, and haven't been able to find anything that better suits my needs.  It sits quietly in the corner until a new RSS is available, and slightly changes color.  Plus, it integrates wonderfully into GNOME.</p><p>Well, the Linux.com article does a great job summarizing the reader, so if you are in the market, I'd take a look.  For posterities sake, I took a screenshot of the Linux.com feed of Liferea, in Liferea.</p><a href="http://picasaweb.google.com/lh/photo/GiTUvj2FlLe0cVvbZV3Deg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhvsniPdfJxZMp6paqoK1axzlYJ7o-YKnrQkJvY466s5PsPQ2AU0g5o2P8EOgHH2o6iLBTGbAEOx69aRRDX34_ShNen-YjAYkI42bWeoGPktPnw73uP13s3j3keWgFrvB9PZPN4tUiWHpFp/s400/screenshot-liferea.jpg" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/14/computex-2007-review_8211.html">
            Computex 2007 Review
          </a>
        </h3>
        <span class="post-meta">Published on Jun 14, 2007</span>
        <p>The buzz of Computex is finally wearing off, so I'll finally scribe my account of the event.  YS was kind enough to go with me, we actually called it a date.  The scene was quite similar to the trade shows we saw last year, however there seemed to be fewer people.  This might be because we went on the final day, although we suspect there weren't that many people because there aren't "sweet" deals to be had.  Regardless, there were several main "halls" filled full of stuff.  The first three (two were in one building) weren't particularly interesting.  I mean, there were some cool displays and lots of technology, but nothing that left me thinking "oh, that's cool" or "oh, me wanna."  Until we hit the last hall.</p><p>The first place we stumbled upon was the SunComm booth, which seemed to have more "traffic" than any of the other VoIP booths.  Let me say this: I think VoIP stuff is awesome, that it is going to be the future, and I dig looking at demos.  Even though the SunComm website pretty much looks like crap, their products are way cool.  I was lucky enough to purchase a phone directly from them, and have it mailed directly to my house in Taipei (which was just around the corner from their office).  They don't normally do this.</p><a href="https://picasaweb.google.com/lh/photo/zWWqYcI6ucDjsN57uWBu9XFosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi2Dc87RdBsGDWdfaydsHI79ifgGZa3btakdl7Nb4tB-rAhQ09OtL2fZEOY2eJph79_Htj1XIiXz2jPeDfRuzUohV1TqqzB0blG3Xo8EsuE6QH2alZHn1QrSJP_s7ij1wfbtH3MFqoDVq6V/s288/DSC01676.jpg" /></a><br /><br /><a href="https://picasaweb.google.com/lh/photo/aOLGuew9dfnnudzuJ0UOtnFosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiPNsHRRqhFU8Nwq_H2kkS6ItvWIpCgFduCmkPKed9hqD7RS7FAA7Sg-BnTSLjk9mf9dbEj9zvGZ5fmBUXRJkpQFhjfqnGou3xfU86jg9nwpc9CibQn51p9Gq7MFV_bCgir-19lrDg-B48s/s288/DSC01679.jpg" /></a><br /><p>Next up was one of the main reasons I even wanted to go to Computex: to see the OpenMoko phone.  To be honest with you, if I had a million dollars, this would be one of the first things I would buy.  The other would be a new ThinkPad X61s.  So why is this phone so cool? First off, it is based on Linux, which if you haven't gathered, I like.  The <i>entire stack</i> is open, or nearly open.  I've always purchased pretty crap phones, or been given them for free.  The reason I do this is because my requirements have never been met: I want a SIP/IAX client on a wifi tri (or preferably quad) band phone.  GPS is a plus, but not necessarily required.  So far, I haven't been able to fine anything that has suited my needs -- the HTC Universal <i>almost</i> would work, apparently.  The slogan is "Free Your Phone", but I think of this project more to "make your phone never become obsolete."  Indeed, the hardware may become obsolete, but the software never will.  I keep being reminded that this project could *really* put a dent in the future iPhone sales.  I can't wait to get one with WiFi and start hacking on it -- in the meantime, I'll need to refresh my C.</p><a href="https://picasaweb.google.com/lh/photo/wn10bYzvrwILerTEGXEBbXFosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhXCq06KY7NF_XX6LuhNgo4zsuRnQ5B5ODl8nTMaafRGqhpY9CrvBipmSMHAyVPubW0kMFNRsgqe_cu7KuOueFkyo7tDq4CBzycmGJhLWtyrj261EEKGjc3N1OvdrlIURpA0gPP1-2W6BsG/s288/DSC01680.jpg" /></a><br /><br /><a href="https://picasaweb.google.com/lh/photo/sf9ZmnA3zDL2hcuyvBrtv3FosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg96UwAkvRqZCPBaTcEf_0IwzyfP0CEk6sInORHwjWnmrbVsXlzKYewJmb2Bwf1ImY08H5OKq3r6Y1fR1UYz1ProbR89oDSZWiChVmGZZB4_FanA2j1OEOaDBFj-DWubdYQ6PYXM2-ktIq1/s288/DSC01684.jpg" /></a><br /><br /><br /><br /><p>Up next, directly across the aisle, was Via's new line of motherboards.  At Computex there were quite a few small sets of motherboards, but nothing quite like this.  Smaller than mini-itx.  Smaller than nano-itx.  We have pico.</p><p>This thing is freaking small.  Seeing this little board made me realize my desire to minimize how much (and the size) of the technology I own.  Currently I'm selling my AMD Athlong64 3000 (it has two gigs of RAM), and will at some point attempt to switch to a single laptop solution (with Xen, of course).  At the same time, I'm considering how useful one of these little boards could be.  Many have two NICs, which would make perfect routers.  I've seen some boards for as inexpensive as $65usd.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/07/turn-off-google-suggest-in-firefox_857.html">
            Turn Off Google Suggest in Firefox
          </a>
        </h3>
        <span class="post-meta">Published on Jun 7, 2007</span>
        <p>I generally like Firefox, and generally like Google.  But having Google suggest enabled when I search for things is annoying, at least on my rather small laptop screen.  Mostly it is because my internet right now is pretty crap, so I try to cut down on any extra traffic.  Anyhow, I didn't even both Googling how to do this:</p><p>Type in 'about:config' into your address bar and type 'search' in the top filter bar.  Look about half-way down for this:</p><pre class="brush: plain; light: true; ">browser.search.suggest.enabled
</pre><br />
<br />
<p>Double click it to turn it to false.  All done.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/07/tunneling-over-ssh_6040.html">
            Tunneling over SSH
          </a>
        </h3>
        <span class="post-meta">Published on Jun 7, 2007</span>
        As a rule, whenever I'm online I'm logged into my server back in the States.  I'm also usually wireless, which we all know is beyond insecure -- I've found it <i>especially</i> useful to tunnel firefox over SSH.  I try my best to tunnel stuff over SSH back, and if you want to also, this is how.<br />
<h4>
Setup the SSH/SOCKS tunnel</h4>
I'm on Linux, so this is pretty darn easy.<br />
<pre class="brush: plain; light: true; ">ssh user@domain.com -D 1080
</pre>
<br />
If the SSH daemon runs on a different port, you'd do something like this:<br />
<pre class="brush: plain; light: true; ">ssh -oPort=1234 user@damon.com -D 1080
</pre>
<br />
Remember ports below 1024 are reserved, and you would need root access.  Now it is time to configure the different programs to use the newly created tunnel.<br />
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/QH-jPk3gHgigKtmQcrhoig?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="312" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh5MWWeIZYH4RZuL3binMtkPHLDyvU5HRdNdJCtBdH5IYYrdEqk95ROxmFMKWJTjFxY267VFVw-_eohgpwD4K-RVRM4X9m80Mv1Gv6HxJJAO7T57eV7y_hZF_9RWEWKnDUp0d5pcr52Nq9S/s400/gnome-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Setting up Gnome (optional)</h4>
</td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/USO3dEudCNgJGvNOh8IAQA?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRsef8lcC6qNZh2vdPbGZ1t8cL91ibwCeuHwy1hwZMlqQpNDKw7MRh7zBMmxvRfsFcL6iYe7xKv_Mdnqsn_394B_buuZlRoApNOT7z9vgwOChr6x2yByWue3Awgo-NHtPmI7aecOXTlg4F/s400/msn-settings.jpg" width="337" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Tunneling Pidgen</h4>
</td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/HX-kbMnfI3fwpbUyRf17FA?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="317" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi7xGVXjZDHSQlReX7mAad4ko6zk7Lf7JWyIe6TYj2yrIAk7L8jCpo0mypVrNP0DqU4OTPEPX2TuEbOo8ySZgdzkexVU7V_hnBguhfg_ACbXfjTM_KNvtdj-gLDmiqMzIoCpKEvYWXhifSN/s400/xchat-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Tunneling XChat</h4>
</td></tr>
</tbody></table>
<b>Tunneling Firefox</b><br />
<i>Note</i>: I'm going to list two examples, one is with FoxyProxy and the other is with the ordinary proxy settings.<br />
<br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/iKYUjPKEnU6WWq5ytUlftg?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="328" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjGCLf_YOke30XnQgqrLAW_6aRGAm1INIHSEzcA7NZitNF4CMpOADpfBRmnhZ3UcLGhGNUiFj6BnJc66DDA8CnhE1GaSrh-mTFzFXXS7OsiviFdYNKH4o-yTnZIjl8hW4NMR4biKUvC0ws8/s400/foxyproxy-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
FoxyProxy</h4>
</td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="https://picasaweb.google.com/lh/photo/gCoCFhGSNBf2T0vGhHoSrA?feat=embedwebsite" style="margin-left: auto; margin-right: auto;"><img height="338" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi3N60K_2L5EX61zgiQG42vWxG-0oiEU0gNQE_M5JYd9ulZBx9p-NW4jBmk6sRYPG4U4VQIOelYAktI3WPT1UGztDyAJ1jSEVAaHn1HBfzG-L-Mw-WyAIA53StGCrV8SoIAiYnk_VyiwNpJ/s400/firefox-settings.jpg" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><h4 style="font-size: medium; text-align: start;">
Normal Proxy</h4>
</td></tr>
</tbody></table>
<i>Make sure the other fields or empty, or you won't connect.</i><br />
<br />
So, there you have it.  There are quite a few unix shell providers out there, I'm sure it wouldn't be too hard to spot a link for one.  I've seen <a href="http://www.quadspeedi.net/?page=services">QuadSpeedInternet</a> having SSH access for $3/month, and <a href="http://www.jvds.com/freeshells/">JVDS</a> or <a href="http://sdf.lonestar.org/">Lonestar</a> offering possible free shells.  Alternatively, you could just get a <i>really</i> inexpensive VPS at <a href="http://www.vpslink.com/vps-hosting/">VPSLink</a> ($6-$8/month, but they often have 25% off discounts).</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/06/alexa-site-thumbnail-with-python_803.html">
            Alexa Site Thumbnail with Python
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2007</span>
        For one of my sites I needed to get thumbnails, yet <a href="http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=51">Alexa Site Thumbnail</a> didn't have any code snippets for Python.  Well, no they/you do.<br />
<h4>
ThumbnailUtility.py</h4>
<br />
<pre class="brush: python; light: true "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/06/alexa-site-thumbnail-with-python-ii_629.html">
            Alexa Site Thumbnail with Python II
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2007</span>
        This is how I actually use Alexa Site Thumbnail, and since I'min a sharing mood, I'll extend the code your way.  In short, this takes the url and searches in STORELOC first, then any urls not already in STORELOC are retrieved and named via a slug.  You need to pass two variables to either of these: blog_site.url and blot_site.slug -- since I'm using Django, this is naturally how sites are returned after I filter a queryset.  What I do is place the call to Alexa as high up the page as I can, and because I've threaded this, the page can continue to load without waiting for Alexa's response. For instance, let's say you have some model with cool sites, and you want to return the sites filtered by owner...<br />
<h4>
views.py</h4>
<br />
<pre class="brush: python; light: true ">
from getAST import create_thumbnail_list
blog_sites = CoolSiteListing.objects.filter(owner__username__iexact=user_name, is_active=True)
create_thumbnail_list(blog_sites).start()
</pre>
<br />
<br />
Notice the .start() on the create_thumbnail_list function? That starts the thread.<br />
<h4>
getAST.py</h4>
<br />
<br />
<pre class="brush: python; light: true ">
import base64
import datetime
import hmac
import sha
import sys
import re
import urllib
import xml.dom.minidom
import os
import threading</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/06/alexa-site-thumbnail-and-django_7479.html">
            Alexa Site Thumbnail And Django
          </a>
        </h3>
        <span class="post-meta">Published on Jun 6, 2007</span>
        <p>So, you've seen how to look up thumbnails <a href="/howtos/alexa-site-thumbnail-python/">via python</a>, but wonder how to integrate this with Django?  I created a <a href="/webthumbs/">sample app to demonstrate</a>.  One thing to note about this app is it is slightly more complex than just using the <a href="/howtos/alexa-site-thumbnail-python/">previously mentioned</a> ThumbnailUtility.  For starters, the thumbnail is downloaded from Alexa onto the server.  Another part is first searching if the thumbnail exists already, and if it does, serving that instead of querying Alexa.  Let's just start with some code.</p><h4>getAST.py</h4><br /><br /><pre class="brush: python; light: true "><br /><br />#!/usr/bin/python<br />import base64<br />import datetime<br />import hmac<br />import sha<br />import sys<br />import re<br />import urllib<br />import xml.dom.minidom<br />import os<br />from urlparse import urlsplit<br /><br />AWS_ACCESS_KEY_ID = 'your-access-key-id'<br />AWS_SECRET_ACCESS_KEY = 'your-secret-key'<br />STORELOC = "/path/to/store/webthumbs/"<br /><br />def create_thumbnail(site_url):<br />    image_name = re.sub("\.|\/", "_", '.'.join(urlsplit(site_url)[1].rsplit('.', 2)[-2:])) + ".jpg"<br />    if not os.path.isfile(STORELOC+image_name):<br />        def generate_timestamp(dtime):<br />            return dtime.strftime("%Y-%m-%dT%H:%M:%SZ")<br />        def generate_signature(operation, timestamp, secret_access_key):<br />            my_sha_hmac = hmac.new(secret_access_key, operation + timestamp, sha)<br />            my_b64_hmac_digest = base64.encodestring(my_sha_hmac.digest()).strip()<br />            return my_b64_hmac_digest<br />        timestamp_datetime = datetime.datetime.utcnow()<br />        timestamp_list = list(timestamp_datetime.timetuple())<br />        timestamp_list[6] = 0<br />        timestamp_tuple = tuple(timestamp_list)<br />        timestamp = generate_timestamp(timestamp_datetime)<br />        signature = generate_signature('Thumbnail', timestamp, AWS_SECRET_ACCESS_KEY)<br />        parameters = {<br />            'AWSAccessKeyId': AWS_ACCESS_KEY_ID,<br />            'Timestamp': timestamp,<br />            'Signature': signature,<br />            'Url': site_url,<br />            'Action': 'Thumbnail',<br />            }<br />        url = 'http://ast.amazonaws.com/?'<br />        result_xmlstr = urllib.urlopen(url, urllib.urlencode(parameters)).read()<br />        result_xml = xml.dom.minidom.parseString(result_xmlstr)<br />        image_urls = result_xml.childNodes[0].getElementsByTagName('aws:Thumbnail')[0].firstChild.data<br />        store_name = STORELOC + image_name<br />        urllib.urlretrieve(image_urls, store_name)<br />    return image_name<br />    <br /><br />    <br /></pre><br /><br /><p>Not too much to mention here, basically just an extended version of the ThumbnailUtility.  The only difference is the test at the beginning, and actually downloading the thumbnail.</p><h4>views.py</h4><br /><pre class="brush: python; light: true "><br /># Create your views here.<br />from django.shortcuts import render_to_response, get_object_or_404<br />from django.http import HttpResponseRedirect, HttpResponse<br />from webthumbs.models import *<br />from django import newforms as forms<br />from getAST import create_thumbnail<br /><br />attrs_dict = { 'class': 'form-highlight' }<br /><br />class imageForm(forms.Form):<br />    url = forms.URLField(max_length=100, verify_exists=True, widget=forms.TextInput(attrs=attrs_dict), initial='http://', label='Site URL')<br />    <br />def index(request):<br />    disp_img = ''<br />    # generate default form<br />    f = imageForm()<br />    # handle add events<br />    if request.method == 'POST':<br />        if request.POST['submit_action'] == 'Submit':<br />            # attempt to do add<br />            add_f = imageForm(request.POST)<br />            if add_f.is_valid():<br />                site_url = request.POST['url']<br />                disp_img = create_thumbnail(site_url)<br />        else:<br />            f = add_f<br />    return render_to_response(<br />        'webthumbs/index.html', <br />        {'printform': f, <br />        'disp_img': disp_img<br />        }<br />    )<br /><br /><br /></pre><br /><br /><p>The key thing to look at here is how getAST is called:</p><pre class="brush: python; light: true "><br /><br />site_url = request.POST['url']<br />disp_img = create_thumbnail(site_url)<br /><br /><br /></pre><br /><h4>index.html</h4><br /><pre class="brush: xml; light: true; "><br />{% extends "base.html" %}<br /><br />{% block title %}Kelvinism.com - Blog{% endblock %}<br /><br />{% block content %}<br /><div class="contentpaneopen"><br /><span class="contentheading">What thumbnail do you want?</span><br /><br /><form action="/webthumbs/" method="post"><br />    {{ printform }}<br /><input type=submit name='submit_action' value='Submit'><br /></form><br /><br /><img src="http://media.kelvinism.com/webthumbs/{{ disp_img }}"/><br /></div><br /><br /><br />{% endblock %}<br /><br /></pre><br /><p>So, there you have it, the code to take a url via form and display it right away.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/03/django-syndication-with-colddirt_5107.html">
            Django Syndication with Colddirt
          </a>
        </h3>
        <span class="post-meta">Published on Jun 3, 2007</span>
        Creating feeds in Django is freaking simple.  I'll start with an example of just updating a feed with the newest objects (for instace, newest blog posts).  Similar to the forms.py way of handling our different forms, I've created a feeds.py to handle the feeds.<br />
<h4>
feeds.py</h4>
<br />
<pre class="brush: python; light: true "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/03/django-syndication-with-colddirt-ii_3665.html">
            Django Syndication with Colddirt II
          </a>
        </h3>
        <span class="post-meta">Published on Jun 3, 2007</span>
        Since I've already covered a really simple syndication example, I'll move onto something a little more complex.  Let's say you want to offer syndication that is slightly more custom.  The Django <a href="http://www.djangoproject.com/documentation/syndication_feeds/">syndication docs</a> give an example from <a href="http://www.holovaty.com/">Adrian's</a> <a href="http://www.chicagocrime.org/">Chicagocrime.org</a> syndication of beats.  I had to ponder a minute to get "custom" syndication to work, so here's my example from start to finish.<br />
First, as usual, feeds.py<br />
<h4>
feeds.py</h4>
<br />
<pre class="brush: python; light: true">
class PerDirt(Feed):</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/03/adding-search-to-django_6300.html">
            Adding Search to Django
          </a>
        </h3>
        <span class="post-meta">Published on Jun 3, 2007</span>
        This is fairly well documented in the Django docs, so I'll be brief. This is the the bit of search code I use in almost all of my Django sites, and it works great:<br />
<pre class="brush: python; light: true "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/01/simple-ajax-with-django_1754.html">
            Simple Ajax with Django
          </a>
        </h3>
        <span class="post-meta">Published on Jun 1, 2007</span>
        So, the Django developers, in my opinion, are freaking smart.  Instead of bundling Django with a particular library, they have added XML and JSON serialization; us humble users can choose whatever AJAX library we want.  <a href="http://www.prototypejs.org/">Prototype 1.5.1</a> has been pretty fun to work with, so I'll kick off this demo with a really simple example.<br />
How simple? The intended goal is to have the total number of 'dirts' update without user intervention.  <i>Laaaammmeee</i>.  If you are a visual type of person, <a href="http://www.colddirt.com/huh/">take a look</a> on the Colddirt <a href="http://www.colddirt.com/huh/">huh</a> page.  That number automatically increases without user intervention. And this is how.<br />
The process (some pseudocode) will go like this:<br />
<br />
check /dirt_count/ for an update<br />
<br />
if update:<br />
<br />
make number bigger<br />
<br />
else:<br />
<br />
check less frequently<br />
<br />
<br />
Pretty simple, eh?<br />
<h4>
urls.py</h4>
<br />
<pre class="brush: python; light: true ">
    (r'^dirt_count/$', views.dirt_count),</pre>
<br />
As you can see, it just sends the request to the view.<br />
<h4>
views.py</h4>
<br />
<pre class="brush: python; light: true ">
def dirt_count(request):
    from django.http import HttpResponse
    countd = str(Dirt.objects.all().count())
    return HttpResponse(countd, mimetype='text/plain')
</pre>
<br />
<br />
Pretty simple -- count the dirts.  That makes sense. <br />
<h4>
dirty.js</h4>
<br />
<pre class="brush: js; light: true ">
new Ajax.PeriodicalUpdater('dirtcount', '/dirt_count/', {
  method: 'get',
  frequency: 3,
  decay: 2,
});</pre>
<br />
<br />
Yea, Prototype makes that <i>real</i> easy.  Just make sure to have a element in your template somewhere with an id of 'dirtcount'.<br />
<h4>
templates/huh.html</h4>
<br />
<pre class="brush: xml; light: true; ">
<span class="bigblue" id="dirtcount">0</span></pre>
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/06/01/django-newforms-usage-in-colddirt_1103.html">
            Django Newforms Usage in Colddirt
          </a>
        </h3>
        <span class="post-meta">Published on Jun 1, 2007</span>
        I hear many complaints and questions about newforms, but I've personally found it rather easy and logical to use.  There are numerous ways for you to use do forms in Django, and most likely the best way to see them all is to <a href="http://www.djangoproject.com/documentation/newforms/">read the docs</a>.  On the Colddirt demo site, this is how I used newforms.  I'll take the index page as an example.<br />
I've accessed the newforms module like so:<br />
<pre class="brush: python; light: true ">
from django import newforms as forms</pre>
<br />
<br />
The next thing to look at is the actual creation of the form.  You can keep your forms in models.py, although there is a trend going to keep them in a forms.py file.  That is they are for Colddirt.<br />
<h4>
forms.py</h4>
<br />
<br />
<pre class="brush: python; light: true ">
attrs_dict = { 'class': 'norm_required' }
tag_dict = { 'class': 'tag_required' }</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/29/colddirt-information_1890.html">
            Colddirt Information
          </a>
        </h3>
        <span class="post-meta">Published on May 29, 2007</span>
        <br />
<i>Note</i>: Colddirt's source code is run from Django SVN, check out on May 10th-ish.  If you are using a newer branch, some things have changed.  i.e. clean_data has been renamed cleaned_data.  Remember to check the <a href="http://code.djangoproject.com/wiki/BackwardsIncompatibleChanges">BackwardsIncompatible</a> page in the wiki.<br />
<br />
<b>Part 1</b>: <a href="http://www.kelvinism.com/2007/06/simple-ajax-with-django_1754.html">Simple AJAX with Django</a><br />
<b>Part 2</b>: <a href="http://www.kelvinism.com/2007/06/django-newforms-usage-in-colddirt_1103.html">Django Newforms Usage</a><br />
<b>Part 3</b>: <a href="http://www.kelvinism.com/2007/06/adding-search-to-django_6300.html">Search with Django</a><br />
<b>Part 4</b>: <a href="http://www.kelvinism.com/2007/06/django-syndication-with-colddirt_5107.html">Django's Syndication Framework (simple)</a><br />
<b>Part 5</b>: <a href="http://www.kelvinism.com/2007/06/django-syndication-with-colddirt-ii_3665.html">Django's Syndication Framework (little more complex)</a><br />
<br />
Feel free to see the <a href="https://github.com/kelvinn/colddirt">source code</a> from Github.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/26/ubuntu-upgrade_2905.html">
            Ubuntu Upgrade
          </a>
        </h3>
        <span class="post-meta">Published on May 26, 2007</span>
        <p>Having been in I.T. for quite a few years, upgrading can sometimes be quite a hassle.  Having switched to Linux for many years, the crazy upgrade madness of windows is gone.  So, how easy is upgrading in Linux?</p><a href="http://picasaweb.google.com/lh/photo/gfJ0rsA5-yezsSSBzH5fSQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjgdy7UBLsk4QTB1cYb0IXBmWjq5f4F5CcjYlthEQcPG8lPwKy0aYqu5Gsy30wZhOatB_KxYU0RJPubZVjO78EgQcpBmRi0zakN7fHOek4DmgG9bRj1F-FxP4vpWLmEaJvxLYRq6Qel-W2l/s288/Screenshot-feisty.jpg" /></a><br /><br /><a href="http://picasaweb.google.com/lh/photo/husChXOCHJJ3h1FCRePdlA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiT3OQw0WwVxKnf0vp4xuaf2ClyLihyphenhyphenk2GH1Tgm3OunZWyXb_Gydptfm0ID2qBZezLkbELq6IbJgJ_jAc8LKhGJ9aLZf4ktlFS8h_e2gGVldydYnb87WLTNeUWbtc9z5fFcCAmfXQSdPj9b/s288/Screenshot-distupgrade.jpg" /></a><br /><br /><p>Yea, pretty darn easy, I must admit.  And my system certainly isn't normal!  It has been an upgrade from Debian Sarge(ish) -> Ubuntu LTS(ish) -> 6.10 -> 7.04... The only hiccup was at some point when the fonts were reinstalling (I totally ignored the "close all programs" warning:<br /><br /><br /><br /><a href="http://picasaweb.google.com/lh/photo/ATQPq4IyXPOUsKgykXO3Yg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj9PwKUX6cn2rBmo8DMWoDYU_p4GC6SOD9a7CT2Pho-vTKNpPnHaTMicN1BlhQjMN8hgA7cNePA0aYggj_esDIwmbxNINsukdVEZL2nQi9p_ppzIuC4lfGtvX9Sc7kiMqSWguaJcQg6pQkD/s800/Screenshot-gaim.jpg" /></a><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/25/solved-no-pubkey_625.html">
            Solved: NO PUBKEY
          </a>
        </h3>
        <span class="post-meta">Published on May 25, 2007</span>
        I've received this error more than once, so I'm finally writing my notes how I solve it.<br />
<h4>
Error message:</h4>
<br />
W: GPG error: http://security.debian.org stable/updates Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY A70DAF536070D3A1<br />
<br />
This really is just your standard don't-have-the-gpg-keys error.  So, get'em -- take the last eight digits from the long NO_PUBKEY string <b>that is displayed on your computer</b>.  If you are using Debian 4.0, the above key is likely correct; if you are using Ubuntu or another version of Debian, it will be wrong.  (The last eight digits are used as an identifier at the keyservers). Then:<br />
<pre class="brush: plain; light: true; ">
gpg --keyserver subkeys.pgp.net --recv-keys 6070D3A1
gpg --export 6070D3A1 | apt-key add -</pre>
<br />
<br />
Repeat if necessary. All done, just do an apt-get update and no more warning!<br />
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/25/bare-metal-restore_7646.html">
            Bare-metal Restore
          </a>
        </h3>
        <span class="post-meta">Published on May 25, 2007</span>
        <p>As you can see by my previous post, my question to squeeze more req/sec from the server, I decided to try out Gentoo (again, last time was four years ago).  Now, I like Gentoo, there is no doubt about that.  However, I realized things took just <b>too</b> long to get set up.  I guess that is the disadvantage of a source based package management tool.  Back to Debian I go.</p><p>Two hours later everything was up and running -- and I guess I can't complain about a two hour bare-metal restore from one distro to another.  And let me iterate, this isn't just a typical LAMP boxen.  It's got:</p><ul><br /><li>apache/mod_php/ssl with ~10 domains</li><br /><li>apache/mod_python/ssl with ~4 domains</li><br /><li>lighttpd with ~5 domains (static files)</li><br /><li>about 8 gigs of web data/images</li><br /><li>svn repos + web_dav access</li><br /><li>mysql restored</li><br /><li>postfix(chroot)/dovecot/sasl + mysql auth</li><br /><li>home dirs restored</li><br /><li>chrooted users again</li><br /></ul><br /><br /><p>I'm sure I missed something on this list, I was typing pretty quick.  Well, that's the update.  I'm gonna go tinker with mod_cache some.</p><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/24/the-gentoo-test_1297.html">
            The Gentoo test
          </a>
        </h3>
        <span class="post-meta">Published on May 24, 2007</span>
        <p>I have a love-hate relationship with Linux.  I love it because if there is a problem, I can actually tinker and find the problem and fix it.  But I hate it because I like to tinker.</p><p>Recently I've been doing a fair amount of Django programming -- enjoying every minute of it.  After completing several of my projects I decided to do some benchmarks, and the results are in!  Generally I can server cached/semi-cached pages at about 200req/sec.  200req!  Considering this is 5,000,000 or so requests a day, and a number I am never going to reach, I still began to wonder: why isn't it higher?  I mean, serving a static html page is at like 1000+ req/sec, so why would a cached page be significantly different?  I started exploring and noticed that Apache would spike the CPU.  Ok, time to be thorough, and as I said, I like to tinker.</p><p>I tried lighttpd as a fastcgi to python -- not a significant different, basically the same.  Next I tried several versions of python -- one from 2.4 and one from 2.5, one as a package and one from source -- same results.  High cpu usage.  Thinking it could be something related to my VPS (or some odd limit within Debian) I decided, ok, I'll reinstall.</p><p>I reinstalled and got things working pretty quickly.  The only slight hiccup was postfix/dovecot, cause postfix insists on being in a jail (and my configs are all setup for that).  Also, Chinese support in Apache isn't working.  Regardless, I re-ran the benchmarks and the results were the same -- so, it isn't related to my previous install after all.  Doh.</p><p>I'll evaluate Gentoo as a server setup for a little while, but I'm thinking I'll do a quick reinstall of Debian.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/24/postfixdovecot-mysql_1687.html">
            Postfix/Dovecot + MySQL
          </a>
        </h3>
        <span class="post-meta">Published on May 24, 2007</span>
        As you can see by <a href="http://www.blogger.com/tech-blog/gentoo-test/">another post</a>, I decided to reinstall the server.  This isn't really a problem, I have pretty good backups.  I've installed apache and friends a bagillion times.  However, Postfix(chroot)+Dovecot authenticating from MySQl, that doesn't install quite so smoothly.<br />
Just for my future reference, and maybe helpful for somebody, someday.  Clearly not a tutorial. The postfix chroot = /var/spool/postfix<br />
<h4>
cannot connect to saslauthd server: No such file or directory</h4>
<br />
<br />
First, get the saslauthd files into the postfix chroot. Edit /etc/conf.d/saslauthd (or /etc/default/saslauthd), and add this:<br />
<pre class="brush: plain; light: true; ">
SASLAUTHD_OPTS="-m /var/spool/postfix/var/run/saslauthd"</pre>
<br />
<br />
Second, add it to the init script.<br />
<pre class="brush: plain; light: true; ">
stop() {
        ebegin "Stopping saslauthd"
        start-stop-daemon --stop --quiet /
--pidfile /var/spool/postfix/var/run/saslauthd/saslauthd.pid
        eend $?
}</pre>
<br />
<br />
Third, maybe, change /etc/sasl2/smtpd.conf (or /etc/postfix/sasl/smtpd.conf) and add this:<br />
<pre class="brush: plain; light: true; ">
saslauthd_path: /var/run/saslauthd/mux</pre>
<br />
<br />
Ok, that error should go away now.<br />
<h4>
Recipient address rejected: Domain not found;</h4>
<br />
<h4>
(Host or domain name not found. Name service error for name=<i>domain.com</i></h4>
<br />
<br />
These are actually the same type of error.  Copy /etc/resolv.conf into the chroot.<br />
<h4>
fatal: unknown service: smtp/tcp</h4>
<br />
<br />
Copy /etc/services into the chroot.<br />
I searched google for these answers, to a certain degree at least, but couldn't really find much.  Then I remembered "crap, this is a chroot, it needs things" -- and fixed stuff.  If you came here from google, and these super quick notes were helpful, feel free to leave a comment, or contact me directly if you have any questions.<br />
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/11/generating-self-signed-ssl-cert_2490.html">
            Generating a Self-Signed SSL Cert
          </a>
        </h3>
        <span class="post-meta">Published on May 11, 2007</span>
        I have the need to generate an SSL cert (Apache2) about once every 3 months.  And since I'm cheap, I don't ever actually *buy* one, I just self-sign it.  And every time I forget the commands needed.  So, here they are, for my reference only.<br />
<b>1) Generate Private Key</b><br />
<br />
<pre class="brush: plain; light: true; ">
openssl genrsa -des3 -out server.key 1024</pre>
<br />
<b>2) Generate a CSR</b><br />
<br />
<pre class="brush: plain; light: true; ">
openssl req -new -key server.key -out server.csr</pre>
<br />
<b>3) Remove passphrase</b><br />
<br />
<pre class="brush: plain; light: true; ">
cp server.key server.key.org
openssl rsa -in server.key.org -out server.key</pre>
<br />
<b>4) Generate Self-Signed Cert</b><br />
<br />
<pre class="brush: plain; light: true; ">
openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</pre>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/09/django-svn-update-goes-splat_5490.html">
            Django SVN Update Goes Splat
          </a>
        </h3>
        <span class="post-meta">Published on May 9, 2007</span>
        I'm writing this just in case somebody runs into this same issue.  I'm about to go live with a website and figured it would be best to have the latest SVN snapshot checked out from Django.  I updated, and noticed that my voting module didn't quite work as expected.  I was getting the following error:<br />
<pre class="brush: python; light: true ">
'module' object has no attribute 'GenericForeignKey'</pre>
<br />
<br />
I jumped into Trac and noticed that <i>just yesterday</i> some things were rearranged.  In short, if you are using generic relations, you'll need to change two parts of your code.  First, the generic relations field must be imported out of conttenttype.<br />
<pre class="brush: python; light: true ">
from django.contrib.contenttypes import generic</pre>
<br />
<br />
And second, you'll need to change the 'location prefix' (for lack of a better description:<br />
<b>From:</b><br />
<pre class="brush: python; light: true ">
generic_field = models.GenericRelation(SomeOtherModel)</pre>
<br />
<br />
<b>To:</b><br />
<pre class="brush: python; light: true ">
generic_field = generic.GenericRelation(SomeOtherModel)</pre>
<br />
<br />
All should be find from there on out.  For more information, take a look at <a href="http://code.djangoproject.com/wiki/BackwardsIncompatibleChanges"> the reference wiki article</a>.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/05/07/png-transparency-and-ie_2740.html">
            PNG Transparency and IE
          </a>
        </h3>
        <span class="post-meta">Published on May 7, 2007</span>
        <img align="right" alt="I Hate IE!" class="blogimages" src="http://media.kelvinism.com/images/freakingannoying.png" /><br />
I've vowed to not use transparent PNGs until almost everybody has switched to IE7, where they are actually supported (despite being supported by every other major browser).  I've done the hacks, and have had good results.  I like using PNGs, I'll admit it.  <a href="http://www.inkscape.org/">Inkscape</a> exports them directly, however one slight problem: transparency still exists.  This isn't really a problem since I'm not layering images, or is it?<br />
My initial assumption is that IE would simple pull the white background and everything would be dandy.  Well, we all know what they say about assumptions.<br />
<br />
<br />
A few options exist:<br />
<ul><br />
<li><s>Convert them to GIFs</s></li>
<br />
<li><s>Try some sneaky PNG IE hack</s></li>
<br />
<li>Do a rewrite and send all IE6 traffic to download firefox.  Err... <s>Do a rewrite and send all IE6 traffic to download firefox</s></li>
<br />
<li><s>Open each in GIMP and add a white background</s></li>
<br />
<li>Use <a href="http://www.imagemagick.org/">ImageMagick</a> and convert the background to white.</li>
</ul>
<br />
<br />
We have a winner! The problem is, for the life of me, I couldn't figure out a simple convert command to do this.  The quick bash script would suffice:<br />
<pre class="brush: bash; light: true; ">
#/bin/bash
CONVERT=/usr/bin/convert
for image in *.png; do
 $CONVERT -background white $image $image
 echo "Finished converting: $image"
done</pre>
<br />
<br />
<b>Note:</b>This is gonna convert all PNGs.<br />
<br /><br />
So, no the transparent GIFs have a "white" base layer, IE renders them fine, normal browswers render the images fine, and I'm allowed a cup of coffee.  I hope this helps somebody, if so, leave a note!<br />
<br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/04/18/psad-and-syslog-ng_7378.html">
            PSAD and Syslog-NG
          </a>
        </h3>
        <span class="post-meta">Published on Apr 18, 2007</span>
        I really like using PSAD, both on my server and my laptop.  You never know where the mean people are.  I also seem to use syslog-ng quite often, meanwhile PSAD seems oriented to syslog.  This is fine, and I'm pretty sure the install.pl for the source built will configure syslog-ng.conf automatically.  However, I almost always tend to stick with packages if I can -- if they are even remotely close to the current version.<br />
Anyways, if you need to get syslog-ng.conf configured for PSAD, this is what you need to do:<br />
Add this code to the "# pipes" section, maybe stick to keeping it alphabetical.<br />
<pre class="brush: bash; light: true; ">
destination psadpipe { pipe("/var/lib/psad/psadfifo"); };</pre>
<br />
<br />
Next, go down a little to the "# filters" section, add this:<br />
<pre class="brush: bash; light: true; ">
filter f_kerninfo { facility(kern); };</pre>
<br />
<br />
And finally in the last section, add this:<br />
<pre class="brush: bash; light: true; ">
log {
        source(s_all);
        filter(f_kerninfo);
        destination(psadpipe);
};</pre>
<br />
<br />
Restart syslog-ng, and you are good to go. Cheers to Michael Rash at <a href="http://www.cipherdyne.org/psad/">Cipherdyne</a> for his work on PSAD.</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/29/simple-chrooted-ssh_6907.html">
            Simple Chrooted SSH
          </a>
        </h3>
        <span class="post-meta">Published on Mar 29, 2007</span>
        You might be asking: why would you want to chroot ssh? Why use ssh anyways?  Here are the quick answers:<br />
<ul><br />
<li><b>FTP usually sucks</b>.  Unless sent over SSL, all information is sent <i>cleartext</i>.</li>
<br />
<li><b>SSH usually rules</b>. SSH sends all data over an encrypted channel -- the main drawback is: you can often browse around the system, and if permissions aren't set right, read things you shouldn't be able to.</li>
<br />
<li><b>Chroot'd SSH rocks</b>. The solution to both the above problems</li>
</ul>
.<br />
<br />
<br />
So, let me tell a quick story.<br />
When I started uni in 2001 I was a nerd. Still a nerd, I guess.  I was cramped in my apartment on campus with like 5 boxes, most of them crappy p100s running Linux or OpenBSD.  Life was good.<br />
I started a CS degree (shifted into Business with a focus on IT), and we were told to use the school's main servers to compile our programs.  The other interesting thing is that <i>all</i> user accounts were visible when logged in via ssh -- but hey, that is just the nature of Linux.  I knew this, but asked the head I.T. person "why don't you jail the connections?"  He responded quickly telling me to go away.<br />
Well, shortly after making the comment (although solutions existed at the time being), pam-chroot was released.  This is right about the time students figured they could spam everybody in the school, some 25,000 emails, quickly and easily -- 'cause all the accounts were displayed.  Sweet -- now we can chroot individual ssh connections.<br />
This quick demo will be on Debian, we'll create a pretend user named "karl." (I'll assume you've already added the user before beginning these steps).  Also, the jails will be in /var/chroot/{username}<br />
<h4>
First: Install libpam-chroot and makejail</h4>
session required pam_chroot.so<br />
<br />
<pre class="brush: plain; light: true; ">
kelvin@server ~$ sudo apt-get install libpam-chroot makejail</pre>
<br />
<br />
<h4>
Second: makejail config file</h4>
<br />
<br />
Put the following in /etc/makejail/create-user.py:<br />
<pre class="brush: plain; light: true; ">
#Clean the jail</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/22/layer-images-using-imagemagick_25.html">
            Layer Images Using ImageMagick
          </a>
        </h3>
        <span class="post-meta">Published on Mar 22, 2007</span>
        For one of my <a href="http://www.brokebutnot.com/">webapp projects</a> I'm needing to layer two images.  This isn't a problem on my laptop -- I just fire up GIMP, do some copy 'n pasting, and I'm done.  However, since everything needs to be automated (scripted), and on a server -- well, you get the point.<br />
The great <a href="http://www.imagemagick.org/">ImageMagick</a> toolkit comes to the rescue.  This is highly documented elsewhere, so I'm going to be brief.<br />
<h4>
Take this:</h4>
<br />
<br />
<a href="http://picasaweb.google.com/lh/photo/qQpq_rmGDyoXcID-MUKJRA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh9DtidDx_8lHusK9vq-3mkIcKg0JVjCMnyYy4DjZjap556Hb8z2kl3eVTnK-Mz-yBv0D_AG-DYTg2IhIy6Zxluvhe1iv7bbB6JbhmcQKwOL8bDQNqheRmrUN3WMdPjv_s_WgOW3XvCunUQ/s400/world.jpg" /></a><br />
<br />
<h4>
And add it to this:</h4>
<br />
<br />
<a href="http://picasaweb.google.com/lh/photo/FHDY48lASCafTiMXXbYbtA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjfXQwFtbAJUa7qcRPpCBny5h188YpMglxSc-uUZPQcp4iCyKZRJddY3MUkmzRNTbE4rd0ueQzxJJyAevjiVOVar7mQPhoExM4E-z_OxXWxEnd5AoyUkWKqaAvDjqm4tjmh76oroizz4UFH/s400/bg.jpg" /></a><br />
<br />
I first tried to use the following technique:<br />
<pre class="brush: plain; light: true; ">
convert bg.jpg -gravity center world.png -composite test.png</pre>
<br />
This generated a pretty picture, what I wanted.  What I didn't want was the fact that the picture was freaking 1.5 megs large, not to mention the resources were a little high:<br />
<pre class="brush: plain; light: true; ">
real    0m7.405s
user    0m7.064s
sys     0m0.112s</pre>
<br />
<br />
Next, I tried to just use composite.<br />
<pre class="brush: plain; light: true; ">
composite -gravity center world.png bg.png output.png</pre>
<br />
Same results, although the resource usage was just a tad lower.  So, what was I doing wrong?  I explored a little and realized I was slightly being a muppet.  I was using a bng background that was 1.2 megs large (long story).  I further changed the compose type to "atop," as that is what appeared to have the lowest resource usage.  I modified things appropriately:<br />
<pre class="brush: plain; light: true; ">
 composite -compose atop -gravity center world.png bg.jpg output.jpg</pre>
<br />
<br />
This also yielded an acceptable resource usage.<br />
<h4>
The result:</h4>
<br />
<br />
<a href="http://picasaweb.google.com/lh/photo/UCqOBQ2ohdqcBCZXrkHZzg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhgZdMmBEvPgAYTaDp7y4Lh-wEoTDZafQCGDo6cfh2vPmtpr714ioNsddZViGiIhfydnqbtXEfjYP8nDoq_bK_1SZQQxvsHYlGpo5FSfPnJwuDw7M7rW3rDA__jUOFtZ-Ijghda78yaiyX1/s400/output.jpg" /></a></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/20/a-dying-laptop_8677.html">
            A Dying Laptop
          </a>
        </h3>
        <span class="post-meta">Published on Mar 20, 2007</span>
        <a href="http://picasaweb.google.com/lh/photo/pGNVNaArTEVlfi8xjhsPYA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjPyeU1z0m7gaaj64mfwy7XuGBUjkaYy3JG97vvrPx3Y2WjByfT5jz4quQqRw4-YCKFmEAhD2giX4VuwWgR2fx4Ok7hkDj1yvS2h_T5GoVreUWT6y-An287kxWhRGQXy8zaRumLvb1egW9k/s400/DSC01613.jpg" /></a><br /><br /><p>I have the <s>pleasure</s> of owning an old T23 laptop.  To show you how old this puppy is, the current T series is at <i>T60</i>, and those have been out for over a year.  This laptop was made in 2012, and I picked it up somewhat discounted late in 2003.  It is now March 2007, and this puppy is still rock solid.</p><p>You heard me, it is almost six years old and still working fine -- that is testimony to how well this laptop was built.  There are several small cracks around the case, but nothing you would notice by just walking by.  This laptop has been to more countries than many people.</p><p>I had the first problem this weekend, and it isn't even related to the laptop.  The hard drive, a 30G I put in at some point, started to crap out on me.  Bad sectors were everywhere, so some of the programs were slightly unhappy (e.g. I couldn't boot into X).</p><p>I'm going to buy a new laptop soon, I promise, about the time my <a href="http://www.kelvinism.com/projects/mba-funding/">MBA goals</a> are reached.  Until then, I'll continue to be frugal, and deal with the bad sectors.  Being a good IT nerd, everything is backed up to an external hard drive (and most stuff backed up remotely).</p><p>Luckily I'm using Linux -- so was able to runs fsck/smartmontools a few times in recovery mode, make the bad blocks happy, and continue as "normal."  Phew, disaster averted.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/15/the-risk-in-risk-mitigation_5540.html">
            The Risk in Risk Mitigation
          </a>
        </h3>
        <span class="post-meta">Published on Mar 15, 2007</span>
        <p><i>Back in the day</i> the barrier to entry for the Internet was quite high.  The technology used required a steep learning curve, the equipment extremely expensive, and sometimes even hard to acquire.  Fast forward to 2007 and things have certainly changed.  If you know any tech people you can likely get free hosting for a small website, and even more demanding websites can be hosted <a href="http://www.vpslink.com/vps-hosting/">for not much</a>.  The cost of dedicated servers has dropped even more.  And the final kicker: web services.  I've started to think of some web services not as a service, but more like outsourcing requirements.</p><div class="quoteboxright">This very dependency adds risk for a multitude of reasons, and when your entire web application platform revolves around a third party, such as is the case with mashups, you incur great risk.</div><br /><br /><p>One of the nice things when requirements are outsourced is the fact that risk is mitigated.  I'll use <a href="http://www.smugmug.com/">SmugMug</a> as an <a href="http://blogs.smugmug.com/onethumb/2006/08/12/amazon-s3-the-holy-grail/">example</a>.  In summary, they moved their storage to Amason's S3 network, which is something I will be utilizing as well.  Amazon's S3 (and other web services) continue to drive down the barrier of entry -- now you don't even need to purchase hugely expensive servers for the sole purchase of storage!  If you don't need to purchase them, you also don't need to manage them.  Risk mitigated.</p><p>However, continuing the slight allusion from The Other Blog's article on <a href="http://www.theotherblog.com/Articles/2007/03/14/what-are-mashups-for-anyway/">mashups</a>, I see a slight problem with the outsourcing of requirements.  While the following thought isn't particularly innovative: mitigating risk and outsourcing requirements creates a dependency on the third-party.  This very dependency adds risk for a multitude of reasons, and when your entire web application platform revolves around a third party, such as is the case with mashups, you incur great risk.</p><p>But, as is evident by the fact that I've had stitches nine different times, I'm still going to do some <a href="http://www.kelvinism.com/projects/mba-funding/">cool mashups</a> anyways, so stay tuned.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/15/one-more-point-linux_9010.html">
            One More Point Linux
          </a>
        </h3>
        <span class="post-meta">Published on Mar 15, 2007</span>
        <p>It should come as a surprise that I enjoy using Linux.  For the record, the first time I booted into Linux on my own was 1997, this was just before entering high school.  So, while some of my tech friends played with NT, I was rumbling with the Penguin.  Starting in 2000 I was using Linux as my main operating system, sometimes supplemented by OS X, and only using Windows when the gaming urge surfaced.  In 2004 I mostly dropped playing any games, which resulted in dropping Windows -- and besides for work, I haven't used it since.</p><p>For me, I'll admit, there are three things that Linux still lacks:</p><ul><br /><li>Simplistic video conferencing support</li><br /><li>Video editing support</li><br /><li>Gaming</li><br /></ul><br /><br /><p>I know that all of these are <i>supported</i>, but, in my opinion, not particularly well.  Well, I don't care about any of these enough to actually need windows, but it would be nice to see them improve.</p><p>So, I'm set.  I'm 100% legal (don't steal a single piece of software).  And don't have to be too afraid of virus'.  What prompted me to write this little excerpt? A recent article at the Washington Post scared the beejeepers out of me, and makes me wish even more for Vista to either cure security problems, or everybody move over to Linux.  The <a href="http://www.washingtonpost.com/wp-dyn/content/article/2007/03/13/AR2007031301522.html">article</a> details the aftermath a virus can cause, not on damaging one's computer, but on capturing information.  The author further <a href="http://blog.washingtonpost.com/securityfix/2007/03/tracking_the_password_thieves_1.html">details</a> his experience hunting down the data.  This was one of the better articles I've read, and I thoroughly enjoyed the further details.  If you want a little more motivation to move to Linux (or just tighten your machine), then I suggest you take a few moments to read the articles as well.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/15/i-hate-geoip-advertising_6728.html">
            I Hate GeoIP Advertising
          </a>
        </h3>
        <span class="post-meta">Published on Mar 15, 2007</span>
        <a href="http://picasaweb.google.com/lh/photo/WRMH3mQauVVNRBo9Jr-mdQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjUCe5P3KESIXOcTikN8dyhNqIGGwP9liL62sQXgx7FeGNf2oQjwyHSbe8UJxuveH6RlUmFs8_120nmV_9XNj3aShEdCP_nH9j8lPYXkgEGTyzaztQOH0PxR8ClpM4MYqJP2I4hmV3RGfwS/s400/geoiphell1.jpg" /></a><br /><br /><div class="quoteboxleft">Remember, I'm in a coffee shop? GeoIPized Girls = have to sit with back to wall.</div><p><a href="http://en.wikipedia.org/wiki/Country_IP_database">GeoIP</a> is the concept that allows you to map a user's IP to the country it came from (I hacked up my commenting system just so you can see an example, if you are a visual type of person).  Advertisers have long since picked up on this as a way to make their ads "better," hopefully becoming more appealing to their clientele.  Sometimes the adaptation doesn't quite work as expected.  This morning I was searching for an eBook on Embedded Linux (it is really hard to find English tech books here) -- and just had to snap a few screenshots.  The advertisers picked up my IP, from Taiwan, and "customized" the advertisement.  Needless to say, I've seen a total of five white females here over the entire last year.</p><p>This reminded me just how much crap people know about me; since I'm in a coffeeshop, I don't <i>really</i> care, but still.  So, why do I hate GeoIP advertising?</p><ul><br /><li>It reminds me how much crap people know about me</li><br /><li>It reminds me that I should be using the Tor network</li><br /><li>Instead of displaying contextual ads that I even <i>might be a little</i> inclined to click, it reminds me how much I hate advertising</li><br /><li>Remember, I'm in a coffee shop? GeoIPized Girls = have to sit with back to wall.</li><br /></ul><br /><p>Being curious, I decided to see if I could teleport the girls to other parts of the world.  Enter <a href="http://tor.eff.org/">Tor</a>, <a href="http://www.privoxy.org/">Privoxy</a> and <a href="http://foxyproxy.mozdev.org/">FoxyProxy</a>.  I turned them all on, went back and remembered just how cool these tools really are. </p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/07/python-ast-and-soap_3058.html">
            Python, AST and SOAP
          </a>
        </h3>
        <span class="post-meta">Published on Mar 7, 2007</span>
        For one of my projects I need to generate thumbnails for a page.  And lots and lots and lots of them.  Even though I can generate them via a python script and a very light "gtk browser", I would prefer to mitigate the server load.  To do this I've decided to tap into the Alexa Thumbnail Service.  They allow two methods: REST and SOAP.  After several hours of testing things out, I've decided to toss in the towel and settle on REST.  If you can spot the error with my SOAP setup, I owe you a beer.<br />
I'm using the ZSI module for python.<br />
<h4>
1. wsdl2py</h4>
<br />
I pull in the needed classes by using wsdl2py.<br />
<pre class="brush: shell; light: true; ">
wsdl2py -b http://ast.amazonaws.com/doc/2006-05-15/AlexaSiteThumbnail.wsdl</pre>
<br />
<br />
<h4>
2. Look at the code generated.</h4>
<br />
See <a href="http://www.kelvinism.com/media/types.html">AlexaSiteThumbnail_types.py</a> and <a href="http://www.kelvinism.com/media/client.html">AlexaSiteThumbnail_client.py</a>.<br /><br />
<h4>
3. Write python code to access AST over SOAP.</h4>
<br /><br /><pre class="brush: python; light: true "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/03/03/aws-in-python-rest_5343.html">
            AWS in Python (REST)
          </a>
        </h3>
        <span class="post-meta">Published on Mar 3, 2007</span>
        As some of you may know, I have some projects cooked up.  I don't expect to make a million bucks (wish me luck!), but a few extra bills in the pocket wouldn't hurt.  Plus, I'm highly considering further education, which will set me back a few-thirty grand.  That said, one of my projects will rely heavily on <a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&amp;location=http%3A%2F%2Fwww.amazon.com%2FAWS-home-page-Money%2Fb%3Fie%3DUTF8%26node%3D3435361&amp;tag=kelvinismcom-20&amp;linkCode=ur2&amp;camp=1789&amp;creative=9325">Amazon Web Services</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" style="border: none !important; margin: 0px !important;" width="1" />.  Amazon has, for quite some time now, opened up their information via REST and SOAP.  I've been trying (virtually the entire day) to get SOAP to work, but seem to get snagged on a few issues.  Stay tuned.<br />
However, in my quest to read every RTFM I stumbled upon a post regarding Python+REST to access <a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&amp;location=http%3A%2F%2Fwww.amazon.com%2Fb%3Fie%3DUTF8%26node%3D269962011%26no%3D239513011%26me%3DA36L942TSJ2AJA&amp;tag=kelvinismcom-20&amp;linkCode=ur2&amp;camp=1789&amp;creative=9325">Alexa Web Search</a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" style="border: none !important; margin: 0px !important;" width="1" />.  After staring at Python code, especially trying to grapple why SOAP isn't working, updating the outdated REST code was a 5 minute hack.  So, if you are interested in using Alexa Web Search with Python via Rest, look below:<br />
<br />
<br />
<h4>
websearch.py</h4>
<br />
<pre class="brush: python; light: true "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/02/27/hamachi-rules_5008.html">
            Hamachi Rules
          </a>
        </h3>
        <span class="post-meta">Published on Feb 27, 2007</span>
        <p>I've been playing around more with <a href="http://www.hamachi.cc/">Hamachi</a>, and have decided that it officially rules.  Since I'm a big Linux guy I don't have access to some features, but the program seems to be a gem.  It is brainlessly easy to install (even when doing 20 things at once), and works quite well.  Thanks to Ben and Sean for helping me test it out.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/02/14/ian-apt_4570.html">
            Ian the Apt
          </a>
        </h3>
        <span class="post-meta">Published on Feb 14, 2007</span>
        <p>You know you are too nerd like when your conversations are like this.  Preface: I posted some packages I needed to upgrade into a Skype window (much better than a clipboard)....</p><br /><br />[11:56:03] Kelvin Nicholson: sorry, needed to post that somewhere<br /><br />[11:56:04] Ian FItzpatrick: i am not apt!<br /><br />[11:56:15] ... you can't pass packages to me ;)<br /><br />[11:56:34] Kelvin Nicholson: blah blah blah<br /><br />[11:56:43] ... apt-get upgrade ian<br /><br />[11:57:02] Ian FItzpatrick: apt-get error:  unmet dependency, "beer 1.0-4 not found"<br /><br />[11:57:14] Kelvin Nicholson: yea, that got a good laugh<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/02/05/version-30-part-two_8083.html">
            Version 3.0 Part Two
          </a>
        </h3>
        <span class="post-meta">Published on Feb 5, 2007</span>
        <p>Well, I'm basically all done upgrading to Version 3.0, I deserve a cake or something.  Here's the 411:</p><p>For the past few years I have been using Mambo, then Joomla, to manage the content on my site.  It worked quite well, and was in PHP, so I could add or remove any code.  Indeed, I've written a decent amount of PHP apps.  In early 2004 I wrote a PHP platform to track adventures people had gone on, and networked people seeking to go on adventures with each other.  I never marketed it, and mainly created it to learn PHP, but it was a CMS (Content Management System), and a little more.  Late in 2004 I wrote another blog-esque platform for my second trip to Europe.  It was pretty cool, I'll admit: Casey and I each had a blog, and people could leave us "dares" and/or messages -- and we could easily update our status.  Overall, it worked great.  You can also see the <a href="/projects/">projects</a> section of my site for some of the other things I've done in PHP.</p><p>Fast forward a few years, and here it is in early 2007.  I've never really liked PHP all that much, but I couldn't put my thumb on it.  Deciding to switch to something else, I picked up and read the book, Beginning Python, from Novice to Professional.  If anybody is looking for a well written book, I would highly recommend this one.  Anyways, with my goal to drop PHP in mind, I held the debate of Django and TurboGears.  I went through the demos for each, and felt like I really played around with them.  Ultimately it came down to 1) Django has obvious crazy cool caching, 2) Django has pretty darn good documentation, and a freaking <a href="http://www.djangobook.com">online book</a>, and 3) the "powered by" sites are quite impressive -- both the length of the list and the large amount of traffic some of these sites entertain.</p><p>So I went with Django.  My friend in New Zealand, Ben Ford, has been ragging me for two months to get my ass in gear and learn it, saying I would love it.  And he is right, the framework is simply beautiful.  For the last week I've been reading through the documentation, going through the online book (both are incomplete, in my opinion, but compliment each other nicely).  I think it is important to write your own code instead of just repeating examples, so my goal: transform my blog/site by using just Django.</p><p>So, while some of the kinks still need to be worked out, everything is no transfered over.  I'll mention my experiences shortly, but overall: I'm very impressed.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/01/27/resize-vmware-image-of-windows-xp_4908.html">
            Resize a VMWare Image of Windows XP
          </a>
        </h3>
        <span class="post-meta">Published on Jan 27, 2007</span>
        <p>&nbsp;</p>Over the years I have been shrinking the number of computers I own.&nbsp; At one point my dorm was littered with old P100s, running whatever OS I felt like playing with at the time. &nbsp;<br /><br />VMWare comes to help.&nbsp; In this recent oops, an image I made (for Windows XP), was slightly too small.&nbsp; I didn&#39;t feel like reinstalling XP + cruft, so just resized the image.&nbsp; This is the process:<br /><br /><br />1) Make Clone or just backup your VMWare image.<br /><br />2) Note: if your disk is a Dynamic Disk, you won&#39;t be able use GParted.&nbsp; There is a chance you can use Disk Management inside Computer Managemen inside XP.<br /><br />3) Turn off VMWare image.<br /><br />4) Grow the image. &nbsp;<br /><br /><br /><br /><pre class="brush: plain; light: true; "> vmware-vdiskmanager -x sizeGB yourimagename.vmdk </pre><br /><br /><br />5) Download the <a href="http://gparted.sourceforge.net/download.php">GParted LiveCD</a> <br /><br />5) Change the CD-ROM drive of your&nbsp; VMWare image to boot from the ISO you just downloaded.<br /><br />6) Boot VMWare image.&nbsp; Make sure to press ESC right when it starts.<br /><br />7) Follow the instructions for GParted. I had to select the Xvesa option, then Done.&nbsp; Choose your language and keyboard and resolution.<br /><br />8) GParted will come up.&nbsp; First delete the partition (the empty one!), and make sure it says unallocated.&nbsp; Then go up to Edit and hit Apply.&nbsp; Then select the partition and say Resize.&nbsp; Hit apply again. <br /><br />9) Reboot image.&nbsp; Windows XP will come up, and go through checking the disk.&nbsp; It will reboot again, and you should then be able to log in.<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/01/26/version-30_1604.html">
            Version 3.0
          </a>
        </h3>
        <span class="post-meta">Published on Jan 26, 2007</span>
        <p>To all my loyal (but most likely few, and mainly with the same last name as me):</p><p>I think I&#39;m going to redo the structure of my site, yes, it is about time.&nbsp; I&#39;ve been using a CMS (Content Management System) to categorize everything, but it is time to ditch that and write something.&nbsp; Time to stop being lazy.&nbsp; Time to stop procrastinating.&nbsp; Time to learn something new.</p><p>Let me make this clear: version 3.0 surely won&#39;t be based off PHP. </p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/01/24/darn-you-hinet_4291.html">
            Darn You HiNet
          </a>
        </h3>
        <span class="post-meta">Published on Jan 24, 2007</span>
        <p>As you may know by now, I&#39;m in Taiwan.&nbsp; Live is pretty good here, especially the internet -- I&#39;m sitting on a pretty decent 12M/1M connection.&nbsp; But the company I have my internet through seems pretty laid back about <a href="http://www.spamhaus.org/statistics/networks.lasso">network usage</a> <br />-- which for me isn&#39;t good.&nbsp; Their entire IP subnet appears banned from IRC, which means I have to be a little sneaky when I want to talk to my I.T. friends in New Zealand.&nbsp; Worse, some websites even banned the entire subnet:  </p><span class="code"> Your access to this site has been denied because of the large amount of abuse produced by the users from your country. The access will be enabled once we perform the investigation of the abuse issues. Thank you for your patience and understanding. </span><p>&nbsp;</p><p>Luckily, Tor+Privoxy+<a href="https://addons.mozilla.org/firefox/2464/">FoxyProxy</a> provides a quick way around any blocks that might be setup.&nbsp; So, to the developers of these solutions, my kindest thanks. </p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/01/23/lightweight-detection_8013.html">
            Lightweight Detection
          </a>
        </h3>
        <span class="post-meta">Published on Jan 23, 2007</span>
        I love my Snort, I really do.&nbsp; But sometimes, I just don't need all the extra overhead -- sometimes the resources on a server are somewhat, limited.&nbsp; Looking for a solution I stumbled upon <a href="http://www.cipherdyne.com/psad/">PSAD</a> , a way to detect port scans.&nbsp; Since port scans are often one of the first tactics used to find vulnerabilities on a server, it is a pretty good idea to detect them.&nbsp;&nbsp; Depending on the attack, I receive a nice little email telling me what is going on.&nbsp; To test it out I first fired up nmap, and received a few emails.&nbsp; Next I fired up nessus with updated plugins -- you can be the judge.&nbsp; I now have 50 emails from myself telling me somebody is doing something naughty:<br />
<pre class="brush: plain; light: true; ">
=-=-=-=-=-=-=-=-=-=-=-= Tue Jan 23 10:30:04 2007 =-=-=-=-=-=-=-=-=-=-=-=</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/01/22/s3-super-backups_8294.html">
            S3&amp;#39;s Super Backups
          </a>
        </h3>
        <span class="post-meta">Published on Jan 22, 2007</span>
        My buddy <a href="http://www.ianfitzpatrick.com/">Ian</a>&nbsp; mentioned Amazon's S3 service, and the potential for using it for fun webapps.&nbsp; While utilizing it for webapps will have to wait a few months, I was able to use it as a cheap backup for my home server (pictures, documents, etc,.) -- and my server that houses my email and websites.&nbsp; The setup is pretty quick, and most of it can be detailed <a href="http://blog.eberly.org/2006/10/09/how-automate-your-backup-to-amazon-s3-using-s3sync/">here</a>.&nbsp; The ruby package is <a href="http://s3sync.net/">here </a>&nbsp; I'll toss in my recommendation to use the <a href="https://jets3t.dev.java.net/">jets3t Cockpit</a>  application for viewing the buckets, especially considering the Firefox extension didn't work as advertised.&nbsp; My only two comments will be this:<br />
<br />
1) Making sure SSL is working.&nbsp; The site mentioned above just has you hunt down some random bash file, that isn't even hosted anymore.&nbsp; On my Debian system I simply added this to my upload.sh:<br />
<br />
<pre class="brush: bash; light: true; ">
export SSL_CERT_DIR=/etc/ssl/certs/</pre>
<br />
2) The second suggestion is another example of the s2sync layout.&nbsp; Let's say you created the bucket "kelvinism" -- the following would move the documents inside a test folder from /home/kelvin named test to a folder named test in the kelvinism bucket.&nbsp; Sweet.<br /> <br />
<pre class="brush: plain; light: true; ">
 s3sync.rb -r --ssl --delete /home/kelvin/test kelvinism:/test&nbsp;&nbsp;</pre>
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2007/01/22/automated-mysql-backups_7112.html">
            Automated MySQL Backups
          </a>
        </h3>
        <span class="post-meta">Published on Jan 22, 2007</span>
        <p>Historically I&#39;ve used the ever-so-popular AutoMySQLBackup script.&nbsp; While it seems to work just fine, I&#39;ve decided to give another solution a whirl.&nbsp; This solution, provided through <a href="http://www.zmanda.com/">Zmanda</a>, seems to be less hackery and more enterprise.&nbsp; The instructions are very clear, and the backup test went as planned.&nbsp; Looks&nbsp; like this is another gem for the toolchest.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/12/12/lighttpd-as-apache-sidekick_4400.html">
            Lighttpd As Apache&amp;#39;s Sidekick
          </a>
        </h3>
        <span class="post-meta">Published on Dec 12, 2006</span>
        So, you have a web server.  So, you have PHP.  So, you want to make it a little quicker? The following are a few ideas to let you do that.  First, let me share my experiences.<br />
I have always been wondering "what would a digg do to my site."  I mean, I don't run a commenting system, so I'm refering to just some article.  Because I prefer to manage my own server, I have decided to use a VPS (Virtual Private Server) from <a href="http://www.vpslink.com/">VPSLink</a>.  Before purchasing I searched around, read reviews, and finally tested it out.  Liking what I tested, I stayed.  However, since I just host a few 'play' sites (http/email/ftp), and a few sites for friends, I am not going to spend much money on a high-end plan.  That leaves me with a little problem: how can I maximize what I've got?<br />
I've tried quite a few things.  I finally ended up using Apache to handle php and <a href="http://www.lighttpd.net/">Lighttpd</a> to serve all static crap.  So, how?<br />
<h4>
Staticzerize A Page</h4>
One of the first things you will need to do is pull down a static copy of your page.<br />
<br />
<br />
<pre class="brush: plain; light: true; ">
 user@vps:~$ wget http://www.kelvinism.com/howtos/notes/quick-n-dirty-firewall.html </pre>
That was easy enough.  Next, let's create a directory for static pages.<br />
<pre class="brush: plain; light: true; ">
user@vps:~$ sudo mkdir /var/www/html/kelvinism/static
user@vps:~$ sudo mv quick-n-dirty-firewall.html /var/www/html/kelvinism/static/ </pre>
Sweet.  (This is assuming of course that the site's DirectoryRoot is /var/www/html/kelvinism).  Next, Lighttpd.<br />
<h4>
Lighttpd Configuration</h4>
<br />
<br />
Install Lighttpd however you <a href="http://trac.lighttpd.net/trac/wiki/TutorialInstallation">choose</a>.  There are a few key changes to make in the configuration.<br />
First, change the directory for your base DocumentRoot. Next, change what ports the server will listen on.<br />
<br />
<br />
<pre class="brush: plain; light: true; ">
server.document-root = \"/var/www/html\"
## bind to port (default: 80)
server.port = 81
## bind to localhost (default: all interfaces)
server.bind = \"127.0.0.1\"</pre>
<br />
<br />
Ok, Lighttpd is all done. Now just start her up, and move onto Apache.<br />
<br />
<br />
<pre class="brush: plain; light: true; "> user@vps:/etc/lighttpd$ sudo /etc/init.d/lighttpd start </pre>
<br />
<br />
<h4>
Master Configuration</h4>
Depending on your distro and what apache you installed, you might need to do this a little different.  I will illustrate how to do it with the Apache package from the Debian repository.  Let's activate the mod_proxy module.<br />
<br />
<br />
<pre class="brush: plain; light: true; ">
 user@vps:~$ sudo a2enmod
Password:
 Which module would you like to enable?
 Your choices are: actions alias asis auth_basic auth_digest authn_alias authn_anon authn_dbd authn_dbm authn_default authn_file authnz_ldap authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cern_meta cgi cgid charset_lite dav dav_fs dav_lock dbd deflate dir disk_cache dump_io env expires ext_filter file_cache filter headers ident imagemap include info ldap log_forensic mem_cache mime mime_magic negotiation php5 proxy proxy_ajp proxy_balancer proxy_connect proxy_ftp proxy_http rewrite setenvif speling ssl status suexec unique_id userdir usertrack version vhost_alias</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/12/07/make-dynamic-crap-static_7513.html">
            Make Dynamic Crap Static
          </a>
        </h3>
        <span class="post-meta">Published on Dec 7, 2006</span>
        Let's say one page on  your site is getting hit hard.  And I mean, it was digg'd or something.  If the page resides on some CMS or blog, and each request is being processed by PHP and resulting in requests to your database, crap is gonna hit the fan.  Well, at least if you're cheap like me, you'll try to squeeze every penny out of what you've got.<br />
That said, mod_rewrite comes to the rescue.<br />
There are only a few modifications that you need to do.  The first is to ensure that mod_rewrite is enabled. If you have apache installed on debian, this might do: <br /><br />
<pre class="brush: plain; light: true; ">
user@vps:~$ sudo a2enmod
Password:
Which module would you like to enable?
Your choices are: actions alias asis auth_basic auth_digest authn_alias authn_anon authn_dbd authn_dbm authn_default authn_file authnz_ldap authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user autoindex cache cern_meta cgi cgid charset_lite dav dav_fs dav_lock dbd deflate dir disk_cache dump_io env expires ext_filter file_cache filter headers ident imagemap include info ldap log_forensic mem_cache mime mime_magic negotiation php5 proxy proxy_ajp proxy_balancer proxy_connect proxy_ftp proxy_http rewrite setenvif speling ssl status suexec unique_id userdir usertrack version vhost_alias
Module name? rewrite </pre>
<br /><br /> Otherwise, you'll need to drop the following in your apache2.conf (or httpd.conf). <br /> <br />
<pre class="brush: plain; light: true; ">
LoadModule rewrite_module /usr/lib/apache2/modules/mod_rewrite.so</pre>
<br />  Next, grab the page that is getting hit hard from your site.<br />
 <br /><br /> <pre class="brush: plain; light: true; ">
user@vps:~$ wget http://www.kelvinism.com/stuff/hit-hard.html</pre>
<br /> Next, let's create a static directory and move that page into it.<br />
 <br /><br /><pre class="brush: plain; light: true; ">
user@vps:~$ sudo mkdir /var/www/html/kelvinism/static
user@vps:~$ sudo mv hit-hard.html /var/www/html/kelvinism/static/</pre>
<br /><br /> Coolio.  Now we'll rewrite the normal URL (the one being hit hard) to the static URL.<br />
  If you have full access to the server, just mimic the following to a VirtualHost:<br />
  <br /><br /><pre class="brush: xml; light: true; ">
&lt;VirtualHost *&gt;
    DocumentRoot /var/www/html/kelvinism
    ServerName www.kelvinism.com
    ServerAlias kelvinism.com www.kelvinism.com
&lt;Directory \"/var/www/html/kelvinism\"&gt;
    Options Indexes -FollowSymLinks +SymLinksIfOwnerMatch
    allow from all
    AllowOverride None
    RewriteEngine On
    RewriteRule ^stuff/hit-hard\\.html$ /static/hit-hard.html [L]
&lt;/Directory&gt;
&lt;/VirtualHost&gt;</pre>
<br /><br />If you don't have access to the server, you can just add the following to a .htaccess file:<br />
  <br /><br /><pre class="brush: xml; light: true; ">
RewriteEngine On
RewriteRule ^stuff/hit-hard\.html$ /static/hit-hard.html [L]</pre>
Sweet.<br />
 <br />
</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/11/15/mysql-compat_1690.html">
            MySQL Compat
          </a>
        </h3>
        <span class="post-meta">Published on Nov 15, 2006</span>
        I've run into this error quite a few times, might as well toss blog entry about it:<br />
<span class="code"> ERROR 1064 at line 17: You have an error in your SQL syntax near 'ENGINE=MyISAM DEFAULT CHARSET=latin1' at line 7</span>  <br />
One likely reason this comes about is because the data being imported/exported is not compatible with the database version.  For instance, at home you export the information from a mysql5 database.  Then you try to import it on a mysql3.23 database somewhere else -- and it craps out on you. Bummer.<br />
The solution is quite simple:<br />
<br />
<br />
<pre class="brush: shell; light: true; ">
 mysqldump --compatible=mysql323 -u root -p database &gt; exportName.sql</pre>
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/11/08/resize-xen-image_3704.html">
            Resize a Xen Image
          </a>
        </h3>
        <span class="post-meta">Published on Nov 8, 2006</span>
        <p>So, you've got a few Xen images around, and they are starting to fill up.  How do you add a few more gigs to 'em?</p> <pre class="brush: plain; light: true; "> root@tpe:/# xm shutdown vm01<br /> root@tpe:/# cd /xenimages<br /> root@tpe:/xenimages# dd if=/dev/zero bs=1024 count=1000000 >> vm01.img<br /> root@tpe:/path/to/images# resize2fs -f vm01.img<br /> </pre>  That's it, you just added a gig to your image called 'vm01.img'.<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/11/08/mcse-security_5711.html">
            MCSE: Security
          </a>
        </h3>
        <span class="post-meta">Published on Nov 8, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/11/03/katapult-screencast_788.html">
            Katapult Screencast
          </a>
        </h3>
        <span class="post-meta">Published on Nov 3, 2006</span>
        <p><a href="http://www.ianfitzpatrick.com/">Ian</a> keeps bugging me at how great Quicksilver is.  Knowning that there <i>must</i> be an alternative built for linux, I accidently stumbled across Katapult.</p>  <p>While it still has a little room to grow, Katapult makes a great tool in any KDE toolchest.  Press ALT+SPACE, and your widget fires up, ready to take your orders.  Since words don't really do this justice, I created a screencast.</p> <br /><br /><object width="600" height="450"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id=10316527&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00ADEF&amp;fullscreen=1" /><embed src="http://vimeo.com/moogaloop.swf?clip_id=10316527&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00ADEF&amp;fullscreen=1" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="600" height="450"></embed></object><p><a href="http://vimeo.com/10316527">Katapult Screencast</a> from <a href="http://vimeo.com/user3417633">Kelvin Nicholson</a> on <a href="http://vimeo.com">Vimeo</a>.</p></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/11/02/xen-nvidia_5527.html">
            Xen + nVidia
          </a>
        </h3>
        <span class="post-meta">Published on Nov 2, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/10/15/three-little-commands-and-pen-test_9.html">
            Three Little Commands and a Pen-Test
          </a>
        </h3>
        <span class="post-meta">Published on Oct 15, 2006</span>
        <p>Yea, you read that right.  Three commands and you can run a pen-test on your website/webserver.  So, how?</p> <div class="code"> kelvin@home:~$ sudo apt-get install nikto<br /> kelvin@home:~$ sudo nikto -update<br /> kelvin@home:~$ nikto -h www.thoughtdeposit.net</div> <p>As you can see, Nikto is a web server scanner, apparently for over 3200 dangerous files/vulnerabilities.  Additional features can be seen at the <a href="http://www.cirt.net/code/nikto.shtml">Nikto</a> website, yet you will certainly want to add this old gem to your webserver toolbelt as soon as possible.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/10/15/open-source-video-editing_7656.html">
            Open Source Video Editing
          </a>
        </h3>
        <span class="post-meta">Published on Oct 15, 2006</span>
        <p>In the next year I plan to make a little video, nothing fancy likely, but something that will require an editor.  However, I don't own a mac (which rules our Final Cut Pro + After Effect and iMovie, which Ian and I both have had too much fun with.  Inside joke.) I'm also a die-hard Linux fan, trying to hold out buying a mac for as long as possible.</p> <p>  SF to the rescure.  There are four editors listed, and in the next year I'll try them all.  Overalll, they look quite promising.</p>   <a href="http://sourceforge.net/projects/jahshakafx">Jahshaka</a> -- Beta. Good reviews from what I've seen.<br /> <a href="http://sourceforge.net/projects/kdenlive">Kdenlive</a> -- Alpha/Beta. Looks a lot less mature than Jahshaka, especially since I'm going to have to check it out via svn.  But, the screenshots look quite impressive.<br /> <a href="http://sourceforge.net/projects/lives">LiVES</a> -- Beta.<br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/10/14/lighttpdrewriteopensefjoomla_4861.html">
            Lighttpd+Rewrite+OpenSEF+Joomla
          </a>
        </h3>
        <span class="post-meta">Published on Oct 14, 2006</span>
        For those of you not needing Apache and the whole kitchen sink, [insert reason here], Lighttpd is a very attractive contender.  For me, it has a small memory footprint, which is highly appealing.  However, getting SEO urls to work (i.e. utilizing rewrite), isn't too straightforward. <br />
Tada! A little research yields two helpful links: one at lighttpd.net regarding how to <a href="http://trac.lighttpd.net/trac/wiki/Docs:ModRewrite">use ModRewrite</a> and <a href="http://forum.j-prosolution.com/opensef-documentation/1484-opensef-lighttpd.html?highlight=lighttpd">another</a> showing how to slightly modify the .htaccess file used by OpenSEF and Apache.<br />
So...<br />
1) Flush/clear any caches available<br />
2) Make sure site is listed in OpenSEFs manager inside Joomla<br />
3) Make sure SEO is Enabled insided the Joomla 'Site Configuration'<br />
4) Change your host conditional statement so it matches this:<br />
<pre class="brush: plain; light: true; ">$HTTP[\"host\"] =~ \"(^|\\.)yourdomainname\\.com$\" {
     server.document-root = \"/var/www/your/domainlocation/\"
     url.rewrite-once = (
          \"^images*\\.(jpg|jpeg|gif|png)\" =&gt; \"$0\",
          \"^/administrator.*$\" =&gt; \"$0\",
          \"^/mambots.*$\" =&gt; \"$0\",
          \"(/|\\.htm|\\.php|\\.html|/[^.]*)$\" =&gt; \"/index.php\"
     )
}
</pre>
Clear your browser cache, and check it out.  If it doesn't work, you can try to "Delete All" URLs inside OpenSEF, and then your site will rebuild as necessary.  Another note, as you can maybe tell by the above ruleset: you can have rewrite ignore directories.  Just include:<br />
<br />
<br />
<pre class="brush: plain; light: true; ">\"^/directory.*$\" =&gt; \"$0\",</pre>
<br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/10/12/unified-linux-desktop-experience_9273.html">
            Unified Linux Desktop Experience
          </a>
        </h3>
        <span class="post-meta">Published on Oct 12, 2006</span>
        <p>I'll admit, I think one of the thickest barriers to entry regarding Linux is variety.  I love variety, but general end users don't adjust well to change (IMHO).  Thus enter the stage: Portland.  So, what does this mean to the end user?  This means that, eventually, the UI throughout linux will all look similar -- regardless if it is designed to utilize GTK, QT or anything else (that is, if it is built off the Portland standard).</p> <p>  <a href="http://www.osdl.org/newsroom/press_releases/2006/2006_10_11_beaverton.html">Sweeeet</a>.</p> <p>  And as a runner-up, worth mentioning, the user driven <a href="http://tango.freedesktop.org/Tango_Desktop_Project">Tango Desktop Project</a></p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/10/09/html-validification-browser-side_258.html">
            HTML Validification Browser-Side
          </a>
        </h3>
        <span class="post-meta">Published on Oct 9, 2006</span>
        <p>I like most standards, I can't deny it.  One thing that I find too humorous is the amount of sites that are not valid, even sites that claim they are.  One tool in my box is <a href="https://addons.mozilla.org/firefox/249/">HTML Validator</a>, an extensioin for Firefox.  A nice little icon appears in the lower right, indicating whether a page is valid, not-so-valid, or really-not-so-valid.  Makes it easy to check your own sites, and others.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/09/30/convert-vmware-movie-to-flv_2236.html">
            Convert VMWare Movie to FLV
          </a>
        </h3>
        <span class="post-meta">Published on Sep 30, 2006</span>
        This little process, a total of two lines, took way to long to figure out.  <p>First, we convert the VMware avi (VMnc format) to the Microsoft avi format.</p>  <br /><br /><pre class="brush: plain; light: true; "> mencoder -of avi -ovc lavc movie.avi -o movie2.avi </pre>  <br /><br /><p>Next, we convert the Microsoft avi format to FLV format.</p>  <br /><br /><pre class="brush: plain; light: true; "> ffmpeg -i movie2.avi -r 12  -b 100 movie.flv </pre><br /><br /> <p>You can play around with the -r switch (rate per second) and the -b switch (bitrate).  But, if those get larger, so does your FLV file.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/09/08/another-vpn-node_6602.html">
            Another VPN Node
          </a>
        </h3>
        <span class="post-meta">Published on Sep 8, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/09/01/hunt-anomaly_560.html">
            Hunt the Anomaly
          </a>
        </h3>
        <span class="post-meta">Published on Sep 1, 2006</span>
        <p>Information is power, or so many of us think.  As an I.T. administrator, no matter what the level, it is of my opinion that knowing what your network is doing is important.  This includes regular operation, what it could do in the event of a disaster, or when it is just slightly not functioning.</p><p>Jeez, I'm personifying a computer network.</p><p>As I wrote in another post, I setup <a href="http://www.kelvinism.com/projects/monitoring-traffic-usage/">network monitoring</a> for several nodes.  But, what happens when an anomaly occurs?  This is the story of hunting down a worm/virus, from far, far away.</p><p>While I can't go into too many details, for obvious reasons, I'll try and tell the story as-it-The overall process took for cleaning took several weeks to resolve, although minimizing the effect occurred the second the anomaly was discovered.  The lengthy time to resolve is mainly due to the time to request computers to be patched/updated/scanned (like I said, this anomaly was with a large branch office in another country).</p><p>I've blurred out any relevant information for obvious reasons.</p><p>Almost immediately after setting up monitoring I noticed something strange occurring.  As you can notice from the below graph (from <a href="http://nfsen.sourceforge.net/">nfsen</a>), something is obviously wrong.  If you can't notice it, that big spike, in what we'll call Network Green, should give you a clue.  Now, I can expect a spike during lunch when people watch movies or send their 50mb picture email attachments, but this spike isn't always at noon, and as we'll see, it sure ain't emails.</p><br /><br /><p><b>Find the anomaly:</b></p><a href="http://picasaweb.google.com/lh/photo/cC1U7SU-l0edQ--5UNBdSg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEht1z52ODlLDYwvk3Qs7QjPyqiYJ40MqI3OofGwdIbQN0NV777mdsavvaIws6OhuyygoaMKVfQ3kRqLUzvL8eQm9_cVqzw3AqGL3iG_9RjU2QH7zwZbleEvgna69GNOwET-dpNjkUJZSRM8/s400/wtf_1.png" /></a><br /><div class="clear"></div><br /><br /><br /><p>So, let's try to find out what is going on.  Indeed, there are some analyzers of flow traffic that can display the types of traffic, and are useful if the issue isn't apparent, but NFSEN's filtering capabilities haven't failed me yet (although seeing a graph with types of traffic is useful).</p><p>We can now take a look at what is going on.  Let's next just take a look at the statistics offered:</p><a href="http://picasaweb.google.com/lh/photo/RhLbE6lb-P7TDTe4PMQ0pg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhAMfNADISoL8MMmd1gkafmD6dVu4fQZHXVUzbLFHAq7W1genNGQ80VzyBMo8yW5fZB1di5O4BKv5PQ2cxaJHr-CjEOzeE8cr7hwIKvz0qk3XTxjWy3w56YlEI6zFKlgoQlFt8n8rknGfYE/s400/wtf_2.png" /></a><br /><div class="clear"></div><br /><br /><br /><p>I've left the dates in there for you to see something interesting: Network Green transferred over 15 GIGS of UDP traffic.  If we think back to networking basics, we can remember that UDP is a connectionless protocol. So, what uses UDP?  DNS/TFTP, some streaming media, VoIP, and several types of encryption.  That said, there isn't any legitimate reason for any of the employees to use that much bandwidth, of this type.  Only one thing seemed apparent: somebody was massively downloading from some p2p source, or we had a worm/virus.</p><p>Now that we know it is UDP related, let's find out more. I've filtered by UDP in the graph just so you can see how much traffic that really is.  Let's select the anomaly.  We first select the left side...</p><br /><br /><a href="http://picasaweb.google.com/lh/photo/151anHEmB6D6I0GNP1WXJA?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgnSY5uFvnRoJF-k1m3esaeLA2yxBflKa_gV7l3vA5Ono-M6j0fO9sD8yeFVWf0eCpkn0373iY38im6ezl_i9mTY6eNzwoX3dT2MKa3ogKq4TvXyhyphenhyphen9ANj2HVbS-HNZgGnX3j4FAhFWxhpa/s400/wtf_3.png" /></a><br /><div class="clear"></div><br /><br /><br /><p>Then we select the right side, and we have a pretty green highlighted section.<p><br /><br /><br /><a href="http://picasaweb.google.com/lh/photo/Aur3YXp5XZzJP1yOaP9w6w?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgWf7WYWZ2z4l_cp9Uv3pelrgTiONwncNva6jij5te_u6DuYl8KT9CuoW-YKv1UYWh__hV0vuYQ_txaNXXXKm6BaYQrfBXv-A0_g7Ib0cc8tGNgE8aeyWM_c-UXBx4iWuB2QqUGxoQCfzju/s400/wtf_4.png" /></a><br /><div class="clear"></div><br /><br /><br /><br /><p>Now it is time to hunt the person down.  Using NFSEN's built-in filtering capabilities, I was able to find which computer was being naughty.  I first created the filter rule for the appropriate network (IP obscured for confidentiality):</p><br /><br /><a href="http://picasaweb.google.com/lh/photo/mHOFaXkMUXc7bLcjDAi-Qg?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEict48l3J3IqI3WOw1NBgxzRg0wUukWYNy-tkJRaeRYNJGqlPlKL-DwYDLQx-O6LuptQUO5bFG-9V056KKl-bQzzmLTEg_wTsQVAWZOgW9iX0LlArhkOmAO5tatrxjZG5FbyLaLrju3GR5D/s400/wtf_5.png" /></a><br /><div class="clear"></div><br /><br /><br /><p>Then could see the obvious place to look next:</p><br /><br /><a href="http://picasaweb.google.com/lh/photo/OvmjUcP50lyFRu1Vn2grIQ?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjWGYjMkv2unx4qO6CM94BQSfRoflsfwIvyCZDbAAs9hx2WFuQKz29PCXN5cygx16i2tdAOYx_h886jXTQhjes7uC0d324rZKnO-WbJsYvfEF6fqBnlXP6yIxKpp8PJnFBg6UQKQX6jgDYQ/s400/wtf_6.png" /></a><br /><div class="clear"></div><br /><br /><br /><p>As is highlighted, you can see that one IP is continually transferring UDP traffic over port 14857.  Well, it certainly isn't DNS or TFTP! (But we knew that when 15+ gigs was transferred:)  When we look at the Top 10 Src IP Addr, ordered by bytes, we can see that one IP transferred a whole lot of traffic.</p><p>What now?  I pulled out the <a href="http://http://insecure.org/nmap/">nmap</a>/<a href="http://www.nessus.org/">nessus</a> combo and tried to see what was running.  Telneting to port 14857 didn't return any form of hello message, and nmap didn't return any known services for whatever was on port 14857.  At this point I sent out the emails/documentation to managers in the remote office requesting for anti-virus to be checked and loaded onto any computers.  Next, I blocked the port, from that computer, from sending outgoing traffic.  Occasionally, as you can see in the graph, another computer or two would show the same symptoms, but within two weeks the oddity had disappeared.  Thanks you NFSEN and Cisco.</p><br /><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/08/29/monitoring-traffic-usage_3593.html">
            Monitoring Traffic Usage
          </a>
        </h3>
        <span class="post-meta">Published on Aug 29, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/08/15/quick-n-dirty-firewall_8747.html">
            Quick n&amp;#39; Dirty Firewall
          </a>
        </h3>
        <span class="post-meta">Published on Aug 15, 2006</span>
        <h4>
Abstract</h4>
The following is a Quick n' Dirty method at implementing a very simple firewall.<br />
<h4>
Locate IPTables</h4>
Depending on your server, first locate iptables:<br />
<br />
<br />
<br />
<pre class="brush: plain; light: true; "> [root@vps /]# which iptables </pre>
<br />
<br />
<h4>
Create IP Based Accept/Deny</h4>
<br />
<br />
Create a whitelist (ignored by firewall) or blacklist (packet dropped) if you wish:<br />
<br />
<br />
<br />
<pre class="brush: plain; light: true; "> [root@vps /]# vi /usr/local/etc/whitelist.txt </pre>
<br />
<br />
<br />
And/Or...<br />
<br />
<br />
<br />
<pre class="brush: plain; light: true; ">[root@vps /]# vi /usr/local/etc/blacklist.txt </pre>
<br />
<br />
<br />
In each file, add each IP per line, for instance:<br />
<br />
<br />
<br />
<pre class="brush: plain; light: true; "> 4.2.2.2 66.35.15.20 </pre>
<br />
<h4>
firewall.sh Script</h4>
<br />
<br />
Then put the following in /etc/init.d/firewall.sh, and edit to fit your needs:<br />
<br />
<br />
<pre class="brush: bash; light: true; "></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/07/19/tips-for-passing-mcse-70-291_6981.html">
            Tips for Passing the MCSE 70-291
          </a>
        </h3>
        <span class="post-meta">Published on Jul 19, 2006</span>
        <p>As you may know, I&#39;ve been taking a few of the MCSE:Security tests when I have time.&nbsp; This afternoon I passed the 70-291, which is claimed to be the hardest of all the tests (and of the one&#39;s I&#39;ve taken so far, I would concur).</p><p>&nbsp;I&#39;m taking my tests at the <a href="http://www.geego.com/">Geego Systems</a>  center.&nbsp; If you are in Taipei for some reason, and needing a place to take some tests, this place is a safe bet.&nbsp; Their staff is pretty darn cool, and they let me drink as much tea as I want.</p><p>&nbsp;Anyways, the test.&nbsp; I can&#39;t talk about any of the questions, &#39;cause I&#39;ve &quot;signed&quot; an NDA, and Microsoft will take away my certification(s).&nbsp; But, I&#39;ll tell you what I did to study.</p><p>I took three approaches, as I do to all the tests.</p><p>1) Get an <a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&amp;location=http%3A%2F%2Fwww.amazon.com%2FMCSA-MCSE-70-291-Exam-Cram%2Fdp%2F0789736187&amp;tag=kelvinismcom-20&amp;linkCode=ur2&amp;camp=1789&amp;creative=9325">Exam Cram2 70-291</a><img style="border: medium none  ! important; margin: 0px ! important" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" border="0" alt="" width="1" height="1" /> book, and read it through, cover-to-cover.&nbsp; This, in my opinion, is a great way to get to know the language used, and some of the concepts.&nbsp; Exam Cram 2 books do a pretty good job of cutting out the fluff.</p><p>2) I have a copy of <a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&amp;location=http%3A%2F%2Fwww.amazon.com%2FMastering-Windows-Server-2003-Minasi%2Fdp%2F0782141307&amp;tag=kelvinismcom-20&amp;linkCode=ur2&amp;camp=1789&amp;creative=9325">Mastering Windows Server 2003</a><img style="border: medium none  ! important; margin: 0px ! important" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" border="0" alt="" width="1" height="1" /> that I picked up in Hong Kong last year.&nbsp; It doesn&#39;t do a good job of cutting out the fluff, which makes it a great resource to flip through.&nbsp; It is seems to have almost every tutorial you could imagine.&nbsp; The one downside though, as there always is one, is that the book is starting to get a little dated.&nbsp; Either way, this has to be one of the most complete books on 2003 I have ever flipped through.</p><p>3) It is all fine and dandy to read, but it is my belief that everything you read, you should do.&nbsp; My little lab (see end of post for my cool diagram) seems to suite me quite well.&nbsp; If you have read this far, and want some things to do in your test lab, this is what I would recommend:</p><ul><li>DNS - Know how to add CNAME&#39;s, A records and play with MX records.&nbsp; Know how to prioritize mail servers.&nbsp; Know how to create aliases.</li><li>WSUS - Sadly, many of the books I&#39;ve seen (or the two listed above), don&#39;t talk about WSUS.&nbsp; I believe Microsoft just made the change on their tests, but it is on there.&nbsp; And they hit this topic pretty hard, so be prepared.</li><li>Security Templates&nbsp; - Creating baselines and doing audits</li><li>Network Security - Configuring firewalls, configure VPN between two networks (RRAS) </li><li>DHCP - Creating scopes, relay agents and reserving client addresses</li><li>TCP/IP -This test has a pretty big backbone of TCP/IP.&nbsp; Know how to subnet, and general networking terms/methods.&nbsp; Picking up a book on the Network+ certification, such as the <a href="http://www.amazon.com/gp/redirect.html?ie=UTF8&amp;location=http%3A%2F%2Fwww.amazon.com%2FNetwork%252B-Exam-Cram-N10-003-2nd%2Fdp%2F0789732548&amp;tag=kelvinismcom-20&amp;linkCode=ur2&amp;camp=1789&amp;creative=9325">Exam Cram2 Network+</a><img style="border: medium none  ! important; margin: 0px ! important" src="http://www.assoc-amazon.com/e/ir?t=kelvinismcom-20&amp;l=ur2&amp;o=1" border="0" alt="" width="1" height="1" /> book (which I read to refresh myself, and pass the Network+ test), could be useful.</li></ul><p>Luckily I was able to get a few years of some real life hands-on experience with installing, implementing and managing AD through a previous I.T. position.&nbsp;&nbsp; Practice always helps though.&nbsp; Good luck!</p>&nbsp; <a href="https://picasaweb.google.com/lh/photo/oEH0-D6u_5NS1GNKIWOgzw?feat=embedwebsite"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhRAYID3YQBXBCuCbW2zToLhdeeNfdGsPblTtncJsJYOUWYiL2kWNmCjjN7-XbNxr6IGWk-JJkDeY39TNWjpH3Begkbr0bhO-TWoxz37Lojgwj9nre_4I8hsh9y020Efb5myfI7hL_apz4E/s800/70291.jpg" height="777" width="452" /></a><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/07/07/ldap-backend_5061.html">
            LDAP Backend
          </a>
        </h3>
        <span class="post-meta">Published on Jul 7, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/06/22/very-remote-backups_5452.html">
            Very Remote Backups
          </a>
        </h3>
        <span class="post-meta">Published on Jun 22, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/06/02/an-upgrade-in-china_4087.html">
            An Upgrade in China
          </a>
        </h3>
        <span class="post-meta">Published on Jun 2, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/06/01/domain-remame_1834.html">
            Domain Remame
          </a>
        </h3>
        <span class="post-meta">Published on Jun 1, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/04/05/where-is-my-diskspace_4579.html">
            Where the &amp;#39;f is my Diskspace
          </a>
        </h3>
        <span class="post-meta">Published on Apr 5, 2006</span>
        <p>Logs spiraling crazy, we run out of disk space all the time. A nifty trick to find where the disk went is to issue: du -cks * |sort -rn |head -11</p> <p>  This returns where the disk usage is, and makes finding the bloated log a lot easier. </p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/04/05/cisco-ipsec-tutorial_5224.html">
            Cisco IPSec Tutorial
          </a>
        </h3>
        <span class="post-meta">Published on Apr 5, 2006</span>
        <p>The following sites might be helpful to configure IPSec again, or on a more complex basis:</p> <p>  http://www.cisco.com/univercd/cc/td/doc/product/iaabu/pix/pix_60/ipsec/conipsec.htm</p> <p>  http://www.cisco.com/warp/public/707/overload_private.shtml</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/02/09/firefox-bugmenot_9551.html">
            Firefox + BugMeNot
          </a>
        </h3>
        <span class="post-meta">Published on Feb 9, 2006</span>
        <p>Here's a tip for Firefox.  An extension called BugMeNot enables you to right click on "general" forms and say "Login with BugMeNot."  Firefox will call the BugMeNot extension which looks up in an external database login information.  For instance, www.nytimes.com requires a login, which is a great place to test it out.</p>  <p>http://extensionroom.mozdev.org/more-info/bugmenot</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/02/01/quickie-backups_2198.html">
            Quickie Backups
          </a>
        </h3>
        <span class="post-meta">Published on Feb 1, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/26/building-custom-livecds_4795.html">
            Building Custom LiveCDs
          </a>
        </h3>
        <span class="post-meta">Published on Jan 26, 2006</span>
        <p>I have a feeling we will shortly be deploying many Linux servers to perform certain actions.  Maybe we will implement Asterisk to be used as a VoIP interchange between locations, maybe the backup servers will be Linux based, maybe the BDCs.</p>  <p>One thing that could speed up implementation at remote sites is to build live cds for certain purposes.  For instance, on the file server in PDX to keep updated live cds for certain projects.  Like, a BDC live cd or a backup live cd.  Already setup with the most current packages (or scripts to fetch+install them).  So when we get to the site we just put the CD in, click or type "load" and poof, the server is installed and configured.</p>  <p>These links (haven't read all of the process) may be helpful:</p> <p>http://www.linuxjournal.com/article/7233</p> <p>http://gentoo-wiki.com/HOWTO_build_a_LiveCD_from_scratch</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/25/python-web-developement_4306.html">
            Python + Web Developement
          </a>
        </h3>
        <span class="post-meta">Published on Jan 25, 2006</span>
        <p>A developer just showed me an interesting framework to produce python-backed sites VERY quickly.  This is mainly for you Ian, it natively supports AJAX as well.  Here's the link:</p>  <p>http://www.turbogears.org/</p>  <p>I watched the demo, pretty interesting.</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/24/server-virtualization_5778.html">
            Server Virtualization
          </a>
        </h3>
        <span class="post-meta">Published on Jan 24, 2006</span>
        <p>We don't want to have a billion servers each doing their own task -- so what can we use as a solution? Server virtualization (or semi-virtualization or para-virtualization). This involves cutting down a server into mini servers that each have full customization. Our VPS at hostmysite is like this. So why would you want to do this? A few reasons actually.</p> <p> -Localize exploits. Let's say DNS gets exploited -- the access gained would only be for DNS, and not for mail and web and everything else.</p> <p>  -Easy "upgrades," backups and redundancy. Let's say we start to use MySQL more and more, but the server can't handle it. To upgrade (ignoring replication for this example) we could just turn off the virtual server (in essense lock files), move it to other server, drop it into another server that is setup to do virtualization, and turn it it on. Nearly no downtime, and you know it will work.</p> <p>  Anyhow, worth looking at. Here are some of the most mature linux virtualization packages out there:</p> <p>  http://openvz.org/ -- This is the open source version of hostmysites VPS. The main difference is it isn't setup for doing mass hosting (like, 1000 VPSs on a huge mainframe).</p> <p>  http://www.openvps.org/</p> <p>  http://linux-vserver.org/ -- Very plain website, but there is news that the authors are pushing for this code to be included in the Linux kernal natively.</p> <p>  http://www.cl.cam.ac.uk/Research/SRG/netos/xen/ -- I've heard rumors also about this being one of the most advanced.</p> <p>  http://www.vmware.com/ -- The one and only. This is full virtualization so will contain the most overhead (some of the previous packages have almost no overhead, not even 1%). Oh yea, and this "costs" money.</p> <br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/23/mysql-replication_5029.html">
            MySQL Replication
          </a>
        </h3>
        <span class="post-meta">Published on Jan 23, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/23/hamachi_2396.html">
            Hamachi
          </a>
        </h3>
        <span class="post-meta">Published on Jan 23, 2006</span>
        <p>My friend <a href="http://www.ianfitzpatrick.com">Ian</a> told me about this originally, but my pen-testing cousin just send me the link as well. p2p VPN, w00t. Hamachi is a VPN alternative that does not have the normal router problems associated with IPSEC and PPTP vpns. That is good because of firewalls and nat and things like that.</p> <p> http://www.hamachi.cc/</p><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/16/linux-as-tftp-server_570.html">
            Linux as a TFTP Server
          </a>
        </h3>
        <span class="post-meta">Published on Jan 16, 2006</span>
        So, you need a TFTP server for something? Cool, you must be doing something fun.  I need a TFTP server to copy Cisco IOS images onto the routers; hopefully you are doing something cooler. <br />
1) Enable TFTP in inetd.conf<br />
Open up /etc/inetd.conf and look for the following line:<br />
<pre class="brush: plain; light: true; ">
kelvin@pluto:~$ vi /etc/inetd.conf</li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2006/01/13/new-file-and-webapp-server_9847.html">
            New File and Webapp Server
          </a>
        </h3>
        <span class="post-meta">Published on Jan 13, 2006</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/12/05/internet-in-china-essay_7360.html">
            Internet In China (Essay)
          </a>
        </h3>
        <span class="post-meta">Published on Dec 5, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/11/14/network-upgrade_1831.html">
            Network Upgrade
          </a>
        </h3>
        <span class="post-meta">Published on Nov 14, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/10/25/inventory-tracking_1633.html">
            Inventory Tracking
          </a>
        </h3>
        <span class="post-meta">Published on Oct 25, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/09/30/an-overseas-update_1045.html">
            An Overseas Update
          </a>
        </h3>
        <span class="post-meta">Published on Sep 30, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/09/09/erp-time_2348.html">
            ERP Time
          </a>
        </h3>
        <span class="post-meta">Published on Sep 9, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/09/05/toes_1320.html">
            TOES
          </a>
        </h3>
        <span class="post-meta">Published on Sep 5, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/07/31/track-my-hours-please_6190.html">
            Track My Hours Please
          </a>
        </h3>
        <span class="post-meta">Published on Jul 31, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/07/04/faxing-hurrah_6354.html">
            Faxing, Hurrah!
          </a>
        </h3>
        <span class="post-meta">Published on Jul 4, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2005/06/30/a-division-in-30-days_9756.html">
            A Division in 30 Days
          </a>
        </h3>
        <span class="post-meta">Published on Jun 30, 2005</span>
        Status: <i class="fas fa-check-circle"></i><br /></li><li>
        
        <h3>
          <a class="post-link" href="/kelvinism/2004/06/04/britney-spears-toxic-remixed_6603.html">
            Britney Spears&amp;#39; Toxic, Remixed
          </a>
        </h3>
        <span class="post-meta">Published on Jun 4, 2004</span>
        Status: <i class="fas fa-check-circle"></i><br /><br /></li></ul>


      

    

  <h1>Posts tagged with ""</h1>

  
  
  
  
  

  <ul>
    
  </ul>
<!--   
  <div class="pagination">
    
  
    <span>Page 1 of 0</span>
  
    
  </div> -->

</div> 






<!-- 





<div class="post">
<h1>Tag: </h1>
<ul>

</ul>
</div>
<hr> 


 -->

        </main>
        <aside class="sidebar">
            <h4 class='title'>Contact Me</h4>
            <div class='widget-content'>
            <a href="http://au.linkedin.com/in/kelvinism"><i class="fab fa-linkedin fa-3x"></i></a> <a href="http://twitter.com/zephell"><i class="fab fa-twitter-square fa-3x"></i></a> <a href="https://github.com/kelvinn"><i class="fab fa-github-square fa-3x"></i></a> <a href="https://www.goodreads.com/zephell"><i class="fab fa-goodreads fa-3x"></i></a> <a href="
            https://www.strava.com/athletes/nicholson_kelvin"><i class="fab fa-strava fa-3x"></i></a>
            </div>


        </aside>
        <footer class="footer">
            <div id='copyright'>
                <a href='http://creativecommons.org/licenses/by-nc/2.5/' rel='license'>Some Rights Reserved</a>.<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"> <Work rdf:about=""> <license rdf:resource="http://creativecommons.org/licenses/by-nc/2.5/" /> </Work> <License rdf:about="http://creativecommons.org/licenses/by-nc/2.5/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><prohibits rdf:resource="http://web.resource.org/cc/CommercialUse"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/></License></rdf:RDF> -->
                    Opinions on this site do not represent my employer.<br/>
            </div>
    
        </footer>
    </div>

</body>
</html>


