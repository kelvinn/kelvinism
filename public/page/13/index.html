<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.145.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Kelvin Nicholson</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f038d33f020044aa04216c98f1a9c10e5ddb17b67121a7e556e42a43f96f24f5.css" integrity="sha256-8DjTPwIARKoEIWyY8anBDl3bF7ZxIaflVuQqQ/lvJPU=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<div id='redbar'></div>
<div id='greenbar'></div>

<div class="container">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>




<header class="header">
    <a href='/'><span id='logo'></span></a>
    <ul>
        <li><a href='/tags/travel/'>Travel</a></li>
        <li><a href='/tags/longevity/'>Longevity</a></li>
        <li><a href='/tags/projects/'>Projects</a></li>
        <li><a href='/tags/howtos/'>Tutorials</a></li>
        <li><a href='/about/'>Who</a></li>
    </ul>

</header><main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to OpenMoko In Person" href="http://localhost:1313/2007/06/openmoko-in-person_6379.html">OpenMoko In Person </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-29 20:30:00.008 +1000 AEST'>Published on June 29, 2007</span>&nbsp;·&nbsp;2 min

</div>
  </header>

  <div class="entry-content">
    <p>Two weeks ago I had the privilege of meeting up with some of the <a href="http://www.openmoko.org">OpenMoko</a> guys. You&rsquo;ve seen me write a little bit about this project, but meeting them and actually getting to play with a device was quite enlightening.</p>
<p>Most foreigners in Taipei take taxis, but not I. My girlfriend gave me a rough estimate how to go to FIC headquarters, yet it was &ndash; rough. I jumped on the right bus, going the right direction, yet didn&rsquo;t really know where to get off. In my broken Chinese I started talking to a group of high school kids, who somewhat pointed me in the right direction. At one point we were coming up to a light and a lady just said: &ldquo;get off, go down that road.&rdquo; I grabbed my bag and jumped off the bus. The street signs started to resemble the characters I had written down, but I didn&rsquo;t know which direction to go in. I asked a travel agency, and they pointed me in the right direction &ndash; and then it started to rain. I luckily found FIC without getting too wet, and quickly met Sean, the project leader for OpenMoko.</p>
<p>Sean, myself, and several other OpenMoko developers went out to lunch and talked shop. Mickey pulled out a Neo, the hardware platform OpenMoko is going to be based off of. I&rsquo;ll admit, when I saw photos I wasn&rsquo;t really impressed &ndash; but in person, it is pretty sexy. Not too big, but big enough to be functional. In one of my previous posts I mentioned learning C++ back in university, and having basically not touched it since. In a way, I haven&rsquo;t had to, and I&rsquo;ve recently found Python, which is just <em>fun</em>. However, I&rsquo;m so excited about the OpenMoko, I&rsquo;ve picked up the K &amp; R bible to read while we are traveling. Not the ideal way to learn a language, but the concepts are somewhat a refresher. I can&rsquo;t wait to play with SIP/IAX on this thing, it will then be my dream phone.</p>
<p>Well, I have one more post to make to get some thoughts off my chest. If you want a postcard, send me an email.</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to IIS7 GoLive Program" href="http://localhost:1313/2007/06/iis7-golive-program_3958.html">IIS7 GoLive Program </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-18 20:30:00.002 +1000 AEST'>Published on June 18, 2007</span>&nbsp;·&nbsp;1 min

</div>
  </header>

  <div class="entry-content">
    <p>You can easily see that I am a big Linux fan, I&rsquo;ve mentioned this over and over. I&rsquo;ve also mentioned that I&rsquo;m finishing up my MCSE, which started as a dare with my buddy, Ian. In the process of studying for my MCSE I&rsquo;ve developed a certain amount of respect for Windows Server 2003, yet I&rsquo;ll comment more on this later.</p>
<p>What I really wanted to write two paragraphs about was an interesting discovery I made today. I happened to stumble over to Microsoft&rsquo;s hardware site, and noticed in my little Server Spy monitor that it was running IIS/7 &ndash; the first time I have seen this anywhere. Upon further investigation I perused their <a href="http://www.iis.net/default.aspx?tabid=7&amp;subtabid=79">GoLive program</a>, which details several ways to test drive IIS7. There are some details about Microsoft&rsquo;s setup, which one would expect to be impressive. And it is. So, if you are a Microsoft person, you may want to grab a test drive of Beta3 while you still can.</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Computex 2007 Review" href="http://localhost:1313/2007/06/computex-2007-review_8211.html">Computex 2007 Review </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-14 20:30:00.004 +1000 AEST'>Published on June 14, 2007</span>&nbsp;·&nbsp;3 min

</div>
  </header>

  <div class="entry-content">
    <p>The buzz of Computex is finally wearing off, so I&rsquo;ll finally scribe my account of the event. YS was kind enough to go with me, we actually called it a date. The scene was quite similar to the trade shows we saw last year, however there seemed to be fewer people. This might be because we went on the final day, although we suspect there weren&rsquo;t that many people because there aren&rsquo;t &ldquo;sweet&rdquo; deals to be had. Regardless, there were several main &ldquo;halls&rdquo; filled full of stuff. The first three (two were in one building) weren&rsquo;t particularly interesting. I mean, there were some cool displays and lots of technology, but nothing that left me thinking &ldquo;oh, that&rsquo;s cool&rdquo; or &ldquo;oh, me wanna.&rdquo; Until we hit the last hall.</p>
<p>The first place we stumbled upon was the SunComm booth, which seemed to have more &ldquo;traffic&rdquo; than any of the other VoIP booths. Let me say this: I think VoIP stuff is awesome, that it is going to be the future, and I dig looking at demos. Even though the SunComm website pretty much looks like crap, their products are way cool. I was lucky enough to purchase a phone directly from them, and have it mailed directly to my house in Taipei (which was just around the corner from their office). They don&rsquo;t normally do this.</p>
<p><a href="https://picasaweb.google.com/lh/photo/zWWqYcI6ucDjsN57uWBu9XFosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi2Dc87RdBsGDWdfaydsHI79ifgGZa3btakdl7Nb4tB-rAhQ09OtL2fZEOY2eJph79_Htj1XIiXz2jPeDfRuzUohV1TqqzB0blG3Xo8EsuE6QH2alZHn1QrSJP_s7ij1wfbtH3MFqoDVq6V/s288/DSC01676.jpg"></a></p>
<p><a href="https://picasaweb.google.com/lh/photo/aOLGuew9dfnnudzuJ0UOtnFosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiPNsHRRqhFU8Nwq_H2kkS6ItvWIpCgFduCmkPKed9hqD7RS7FAA7Sg-BnTSLjk9mf9dbEj9zvGZ5fmBUXRJkpQFhjfqnGou3xfU86jg9nwpc9CibQn51p9Gq7MFV_bCgir-19lrDg-B48s/s288/DSC01679.jpg"></a></p>
<p>Next up was one of the main reasons I even wanted to go to Computex: to see the OpenMoko phone. To be honest with you, if I had a million dollars, this would be one of the first things I would buy. The other would be a new ThinkPad X61s. So why is this phone so cool? First off, it is based on Linux, which if you haven&rsquo;t gathered, I like. The <em>entire stack</em> is open, or nearly open. I&rsquo;ve always purchased pretty crap phones, or been given them for free. The reason I do this is because my requirements have never been met: I want a SIP/IAX client on a wifi tri (or preferably quad) band phone. GPS is a plus, but not necessarily required. So far, I haven&rsquo;t been able to fine anything that has suited my needs &ndash; the HTC Universal <em>almost</em> would work, apparently. The slogan is &ldquo;Free Your Phone&rdquo;, but I think of this project more to &ldquo;make your phone never become obsolete.&rdquo; Indeed, the hardware may become obsolete, but the software never will. I keep being reminded that this project could *really* put a dent in the future iPhone sales. I can&rsquo;t wait to get one with WiFi and start hacking on it &ndash; in the meantime, I&rsquo;ll need to refresh my C.</p>
<p><a href="https://picasaweb.google.com/lh/photo/wn10bYzvrwILerTEGXEBbXFosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhXCq06KY7NF_XX6LuhNgo4zsuRnQ5B5ODl8nTMaafRGqhpY9CrvBipmSMHAyVPubW0kMFNRsgqe_cu7KuOueFkyo7tDq4CBzycmGJhLWtyrj261EEKGjc3N1OvdrlIURpA0gPP1-2W6BsG/s288/DSC01680.jpg"></a></p>
<p><a href="https://picasaweb.google.com/lh/photo/sf9ZmnA3zDL2hcuyvBrtv3FosnpG-QyKUY-ggIhHUmY?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg96UwAkvRqZCPBaTcEf_0IwzyfP0CEk6sInORHwjWnmrbVsXlzKYewJmb2Bwf1ImY08H5OKq3r6Y1fR1UYz1ProbR89oDSZWiChVmGZZB4_FanA2j1OEOaDBFj-DWubdYQ6PYXM2-ktIq1/s288/DSC01684.jpg"></a></p>
<p>Up next, directly across the aisle, was Via&rsquo;s new line of motherboards. At Computex there were quite a few small sets of motherboards, but nothing quite like this. Smaller than mini-itx. Smaller than nano-itx. We have pico.</p>
<p>This thing is freaking small. Seeing this little board made me realize my desire to minimize how much (and the size) of the technology I own. Currently I&rsquo;m selling my AMD Athlong64 3000 (it has two gigs of RAM), and will at some point attempt to switch to a single laptop solution (with Xen, of course). At the same time, I&rsquo;m considering how useful one of these little boards could be. Many have two NICs, which would make perfect routers. I&rsquo;ve seen some boards for as inexpensive as $65usd.</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Liferea RSS in Liferea" href="http://localhost:1313/2007/06/liferea-rss-in-liferea_7495.html">Liferea RSS in Liferea </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-14 20:30:00.005 +1000 AEST'>Published on June 14, 2007</span>&nbsp;·&nbsp;1 min

</div>
  </header>

  <div class="entry-content">
    <p>Today on <a href="http://community.linux.com/article.pl?sid=07/06/07/1458229">Linux.com, Liferea was mentioned</a> I find this particularly because I&rsquo;ve been using Liferea for quite a few months, and haven&rsquo;t been able to find anything that better suits my needs. It sits quietly in the corner until a new RSS is available, and slightly changes color. Plus, it integrates wonderfully into GNOME.</p>
<p>Well, the Linux.com article does a great job summarizing the reader, so if you are in the market, I&rsquo;d take a look. For posterities sake, I took a screenshot of the Linux.com feed of Liferea, in Liferea.</p>
<p><a href="http://picasaweb.google.com/lh/photo/GiTUvj2FlLe0cVvbZV3Deg?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhvsniPdfJxZMp6paqoK1axzlYJ7o-YKnrQkJvY466s5PsPQ2AU0g5o2P8EOgHH2o6iLBTGbAEOx69aRRDX34_ShNen-YjAYkI42bWeoGPktPnw73uP13s3j3keWgFrvB9PZPN4tUiWHpFp/s400/screenshot-liferea.jpg"></a></p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Tunneling over SSH" href="http://localhost:1313/2007/06/tunneling-over-ssh_6040.html">Tunneling over SSH </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-07 20:30:00.005 +1000 AEST'>Published on June 7, 2007</span>&nbsp;·&nbsp;2 min

</div>
  </header>

  <div class="entry-content">
    <p>As a rule, whenever I&rsquo;m online I&rsquo;m logged into my server back in the States. I&rsquo;m also usually wireless, which we all know is beyond insecure &ndash; I&rsquo;ve found it <em>especially</em> useful to tunnel firefox over SSH. I try my best to tunnel stuff over SSH back, and if you want to also, this is how.</p>
<h4 id="setup-the-sshsocks-tunnel">Setup the SSH/SOCKS tunnel</h4>
<p>I&rsquo;m on Linux, so this is pretty darn easy.</p>
<pre tabindex="0"><code>ssh user@domain.com -D 1080
</code></pre><p>If the SSH daemon runs on a different port, you&rsquo;d do something like this:</p>
<pre tabindex="0"><code>ssh -oPort=1234 user@damon.com -D 1080
</code></pre><p>Remember ports below 1024 are reserved, and you would need root access. Now it is time to configure the different programs to use the newly created tunnel.</p>
<p><a href="https://picasaweb.google.com/lh/photo/QH-jPk3gHgigKtmQcrhoig?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh5MWWeIZYH4RZuL3binMtkPHLDyvU5HRdNdJCtBdH5IYYrdEqk95ROxmFMKWJTjFxY267VFVw-_eohgpwD4K-RVRM4X9m80Mv1Gv6HxJJAO7T57eV7y_hZF_9RWEWKnDUp0d5pcr52Nq9S/s400/gnome-settings.jpg"></a></p>
<h4 id="setting-up-gnome-optional">Setting up Gnome (optional)</h4>
<p><a href="https://picasaweb.google.com/lh/photo/USO3dEudCNgJGvNOh8IAQA?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRsef8lcC6qNZh2vdPbGZ1t8cL91ibwCeuHwy1hwZMlqQpNDKw7MRh7zBMmxvRfsFcL6iYe7xKv_Mdnqsn_394B_buuZlRoApNOT7z9vgwOChr6x2yByWue3Awgo-NHtPmI7aecOXTlg4F/s400/msn-settings.jpg"></a></p>
<h4 id="tunneling-pidgen">Tunneling Pidgen</h4>
<p><a href="https://picasaweb.google.com/lh/photo/HX-kbMnfI3fwpbUyRf17FA?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi7xGVXjZDHSQlReX7mAad4ko6zk7Lf7JWyIe6TYj2yrIAk7L8jCpo0mypVrNP0DqU4OTPEPX2TuEbOo8ySZgdzkexVU7V_hnBguhfg_ACbXfjTM_KNvtdj-gLDmiqMzIoCpKEvYWXhifSN/s400/xchat-settings.jpg"></a></p>
<h4 id="tunneling-xchat">Tunneling XChat</h4>
<p><strong>Tunneling Firefox</strong><br>
<em>Note</em>: I&rsquo;m going to list two examples, one is with FoxyProxy and the other is with the ordinary proxy settings.</p>
<p><a href="https://picasaweb.google.com/lh/photo/iKYUjPKEnU6WWq5ytUlftg?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjGCLf_YOke30XnQgqrLAW_6aRGAm1INIHSEzcA7NZitNF4CMpOADpfBRmnhZ3UcLGhGNUiFj6BnJc66DDA8CnhE1GaSrh-mTFzFXXS7OsiviFdYNKH4o-yTnZIjl8hW4NMR4biKUvC0ws8/s400/foxyproxy-settings.jpg"></a></p>
<h4 id="foxyproxy">FoxyProxy</h4>
<p><a href="https://picasaweb.google.com/lh/photo/gCoCFhGSNBf2T0vGhHoSrA?feat=embedwebsite"><img loading="lazy" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi3N60K_2L5EX61zgiQG42vWxG-0oiEU0gNQE_M5JYd9ulZBx9p-NW4jBmk6sRYPG4U4VQIOelYAktI3WPT1UGztDyAJ1jSEVAaHn1HBfzG-L-Mw-WyAIA53StGCrV8SoIAiYnk_VyiwNpJ/s400/firefox-settings.jpg"></a></p>
<h4 id="normal-proxy">Normal Proxy</h4>
<p><em>Make sure the other fields or empty, or you won&rsquo;t connect.</em></p>
<p>So, there you have it. There are quite a few unix shell providers out there, I&rsquo;m sure it wouldn&rsquo;t be too hard to spot a link for one. I&rsquo;ve seen <a href="http://www.quadspeedi.net/?page=services">QuadSpeedInternet</a> having SSH access for $3/month, and <a href="http://www.jvds.com/freeshells/">JVDS</a> or <a href="http://sdf.lonestar.org/">Lonestar</a> offering possible free shells. Alternatively, you could just get a <em>really</em> inexpensive VPS at <a href="http://www.vpslink.com/vps-hosting/">VPSLink</a> ($6-$8/month, but they often have 25% off discounts).</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Turn Off Google Suggest in Firefox" href="http://localhost:1313/2007/06/turn-off-google-suggest-in-firefox_857.html">Turn Off Google Suggest in Firefox </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-07 20:30:00.004 +1000 AEST'>Published on June 7, 2007</span>&nbsp;·&nbsp;1 min

</div>
  </header>

  <div class="entry-content">
    <p>I generally like Firefox, and generally like Google. But having Google suggest enabled when I search for things is annoying, at least on my rather small laptop screen. Mostly it is because my internet right now is pretty crap, so I try to cut down on any extra traffic. Anyhow, I didn&rsquo;t even both Googling how to do this:</p>
<p>Type in &lsquo;about:config&rsquo; into your address bar and type &lsquo;search&rsquo; in the top filter bar. Look about half-way down for this:</p>
<pre tabindex="0"><code>browser.search.suggest.enabled
</code></pre><p>Double click it to turn it to false. All done.</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Alexa Site Thumbnail And Django" href="http://localhost:1313/2007/06/alexa-site-thumbnail-and-django_7479.html">Alexa Site Thumbnail And Django </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-06 20:30:00.006 +1000 AEST'>Published on June 6, 2007</span>&nbsp;·&nbsp;2 min

</div>
  </header>

  <div class="entry-content">
    <p>So, you&rsquo;ve seen how to look up thumbnails <a href="/howtos/alexa-site-thumbnail-python/">via python</a>, but wonder how to integrate this with Django? I created a <a href="/webthumbs/">sample app to demonstrate</a>. One thing to note about this app is it is slightly more complex than just using the <a href="/howtos/alexa-site-thumbnail-python/">previously mentioned</a> ThumbnailUtility. For starters, the thumbnail is downloaded from Alexa onto the server. Another part is first searching if the thumbnail exists already, and if it does, serving that instead of querying Alexa. Let&rsquo;s just start with some code.</p>
<h4 id="getastpy">getAST.py</h4>
<pre tabindex="0"><code>  
  
#!/usr/bin/python  
import base64  
import datetime  
import hmac  
import sha  
import sys  
import re  
import urllib  
import xml.dom.minidom  
import os  
from urlparse import urlsplit  
  
AWS\_ACCESS\_KEY\_ID = &#39;your-access-key-id&#39;  
AWS\_SECRET\_ACCESS\_KEY = &#39;your-secret-key&#39;  
STORELOC = &#34;/path/to/store/webthumbs/&#34;  
  
def create\_thumbnail(site\_url):  
    image\_name = re.sub(&#34;\\.|\\/&#34;, &#34;\_&#34;, &#39;.&#39;.join(urlsplit(site\_url)\[1\].rsplit(&#39;.&#39;, 2)\[-2:\])) + &#34;.jpg&#34;  
    if not os.path.isfile(STORELOC+image\_name):  
        def generate\_timestamp(dtime):  
            return dtime.strftime(&#34;%Y-%m-%dT%H:%M:%SZ&#34;)  
        def generate\_signature(operation, timestamp, secret\_access\_key):  
            my\_sha\_hmac = hmac.new(secret\_access\_key, operation + timestamp, sha)  
            my\_b64\_hmac\_digest = base64.encodestring(my\_sha\_hmac.digest()).strip()  
            return my\_b64\_hmac\_digest  
        timestamp\_datetime = datetime.datetime.utcnow()  
        timestamp\_list = list(timestamp\_datetime.timetuple())  
        timestamp\_list\[6\] = 0  
        timestamp\_tuple = tuple(timestamp\_list)  
        timestamp = generate\_timestamp(timestamp\_datetime)  
        signature = generate\_signature(&#39;Thumbnail&#39;, timestamp, AWS\_SECRET\_ACCESS\_KEY)  
        parameters = {  
            &#39;AWSAccessKeyId&#39;: AWS\_ACCESS\_KEY\_ID,  
            &#39;Timestamp&#39;: timestamp,  
            &#39;Signature&#39;: signature,  
            &#39;Url&#39;: site\_url,  
            &#39;Action&#39;: &#39;Thumbnail&#39;,  
            }  
        url = &#39;http://ast.amazonaws.com/?&#39;  
        result\_xmlstr = urllib.urlopen(url, urllib.urlencode(parameters)).read()  
        result\_xml = xml.dom.minidom.parseString(result\_xmlstr)  
        image\_urls = result\_xml.childNodes\[0\].getElementsByTagName(&#39;aws:Thumbnail&#39;)\[0\].firstChild.data  
        store\_name = STORELOC + image\_name  
        urllib.urlretrieve(image\_urls, store\_name)  
    return image\_name  
      
  
      
</code></pre><p>Not too much to mention here, basically just an extended version of the ThumbnailUtility. The only difference is the test at the beginning, and actually downloading the thumbnail.</p>
<h4 id="viewspy">views.py</h4>
<pre tabindex="0"><code>  
\# Create your views here.  
from django.shortcuts import render\_to\_response, get\_object\_or\_404  
from django.http import HttpResponseRedirect, HttpResponse  
from webthumbs.models import \*  
from django import newforms as forms  
from getAST import create\_thumbnail  
  
attrs\_dict = { &#39;class&#39;: &#39;form-highlight&#39; }  
  
class imageForm(forms.Form):  
    url = forms.URLField(max\_length=100, verify\_exists=True, widget=forms.TextInput(attrs=attrs\_dict), initial=&#39;http://&#39;, label=&#39;Site URL&#39;)  
      
def index(request):  
    disp\_img = &#39;&#39;  
    # generate default form  
    f = imageForm()  
    # handle add events  
    if request.method == &#39;POST&#39;:  
        if request.POST\[&#39;submit\_action&#39;\] == &#39;Submit&#39;:  
            # attempt to do add  
            add\_f = imageForm(request.POST)  
            if add\_f.is\_valid():  
                site\_url = request.POST\[&#39;url&#39;\]  
                disp\_img = create\_thumbnail(site\_url)  
        else:  
            f = add\_f  
    return render\_to\_response(  
        &#39;webthumbs/index.html&#39;,   
        {&#39;printform&#39;: f,   
        &#39;disp\_img&#39;: disp\_img  
        }  
    )  
  
  
</code></pre><p>The key thing to look at here is how getAST is called:</p>
<pre tabindex="0"><code>  
  
site\_url = request.POST\[&#39;url&#39;\]  
disp\_img = create\_thumbnail(site\_url)  
  
  
</code></pre><h4 id="indexhtml">index.html</h4>
<pre tabindex="0"><code>  
{% extends &#34;base.html&#34; %}  
  
{% block title %}Kelvinism.com - Blog{% endblock %}  
  
{% block content %}  

  
What thumbnail do you want?  
  

  
    {{ printform }}  
  

  
  
![](http://media.kelvinism.com/webthumbs/{{ disp_img }})  

  
  
  
{% endblock %}  
  
</code></pre><p>So, there you have it, the code to take a url via form and display it right away.</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Alexa Site Thumbnail with Python" href="http://localhost:1313/2007/06/alexa-site-thumbnail-with-python_803.html">Alexa Site Thumbnail with Python </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-06 20:30:00.008 +1000 AEST'>Published on June 6, 2007</span>&nbsp;·&nbsp;2 min

</div>
  </header>

  <div class="entry-content">
    <p>For one of my sites I needed to get thumbnails, yet <a href="http://developer.amazonwebservices.com/connect/kbcategory.jspa?categoryID=51">Alexa Site Thumbnail</a> didn&rsquo;t have any code snippets for Python. Well, no they/you do.</p>
<h4 id="thumbnailutilitypy">ThumbnailUtility.py</h4>
<pre tabindex="0"><code>
import base64
import datetime
import hmac
import sha
import sys
import re
import urllib
import xml.dom.minidom

AWS\_ACCESS\_KEY\_ID = &#39;your-access-key-id&#39;
AWS\_SECRET\_ACCESS\_KEY = &#39;your-super-secret-key&#39;

# This one is for an individual thumbnail...
def create\_thumbnail(site\_url, img\_size):
    def generate\_timestamp(dtime):
        return dtime.strftime(&#34;%Y-%m-%dT%H:%M:%SZ&#34;)
    def generate\_signature(operation, timestamp, secret\_access\_key):
        my\_sha\_hmac = hmac.new(secret\_access\_key, operation + timestamp, sha)
        my\_b64\_hmac\_digest = base64.encodestring(my\_sha\_hmac.digest()).strip()
        return my\_b64\_hmac\_digest
    timestamp\_datetime = datetime.datetime.utcnow()
    timestamp\_list = list(timestamp\_datetime.timetuple())
    timestamp\_list\[6\] = 0
    timestamp\_tuple = tuple(timestamp\_list)
    timestamp = generate\_timestamp(timestamp\_datetime)
    signature = generate\_signature(&#39;Thumbnail&#39;, timestamp, AWS\_SECRET\_ACCESS\_KEY)
    parameters = {
        &#39;AWSAccessKeyId&#39;: AWS\_ACCESS\_KEY\_ID,
        &#39;Timestamp&#39;: timestamp,
        &#39;Signature&#39;: signature,
        &#39;Url&#39;: site\_url,
        &#39;Action&#39;: &#39;Thumbnail&#39;,
        &#39;Size&#39;: img\_size,
        }
    url = &#39;http://ast.amazonaws.com/?&#39;
    result\_xmlstr = urllib.urlopen(url, urllib.urlencode(parameters)).read()
    result\_xml = xml.dom.minidom.parseString(result\_xmlstr)
    image\_url = result\_xml.childNodes\[0\].getElementsByTagName(&#39;aws:Thumbnail&#39;)\[0\].firstChild.data
    return image\_url
  
# And this one is for a list
def create\_thumbnail\_list(all\_sites, img\_size):
    def generate\_timestamp(dtime):
        return dtime.strftime(&#34;%Y-%m-%dT%H:%M:%SZ&#34;)
    
    def generate\_signature(operation, timestamp, secret\_access\_key):
        my\_sha\_hmac = hmac.new(secret\_access\_key, operation + timestamp, sha)
        my\_b64\_hmac\_digest = base64.encodestring(my\_sha\_hmac.digest()).strip()
        return my\_b64\_hmac\_digest
    
    timestamp\_datetime = datetime.datetime.utcnow()
    timestamp\_list = list(timestamp\_datetime.timetuple())
    timestamp\_list\[6\] = 0
    timestamp\_tuple = tuple(timestamp\_list)
    timestamp = generate\_timestamp(timestamp\_datetime)
    
    signature = generate\_signature(&#39;Thumbnail&#39;, timestamp, AWS\_SECRET\_ACCESS\_KEY)
    
    image\_loc = {}
    image\_num = \[\]
    image\_size = {}
    
    count = 1   
    for s in all\_sites:
        image\_num = &#39;Thumbnail.%s.Url&#39; % count
        image\_loc\[image\_num\] = s
        count += 1
        
    parameters = {
        &#39;AWSAccessKeyId&#39;: AWS\_ACCESS\_KEY\_ID,
        &#39;Timestamp&#39;: timestamp,
        &#39;Signature&#39;: signature,
        &#39;Action&#39;: &#39;Thumbnail&#39;,
        &#39;Thumbnail.Shared.Size&#39;: img\_size,
        }
        
    parameters.update(image\_loc)
    
    ast\_url = &#39;http://ast.amazonaws.com/?&#39;
        
    result\_xmlstr = urllib.urlopen(ast\_url, urllib.urlencode(parameters)).read()
    result\_xml = xml.dom.minidom.parseString(result\_xmlstr)
    
    image\_urls = \[\]
    count = 0
    for s in all\_sites:
        image\_urls.append(result\_xml.childNodes\[0\].getElementsByTagName(&#39;aws:Thumbnail&#39;)\[count\].firstChild.data)
        count += 1
    return image\_urls
</code></pre><p>This is how you interact with this code for a single thumbnail:</p>
<pre tabindex="0"><code>\&gt;&gt;&gt; from ThumbnailUtility import \*
&gt;&gt;&gt; create\_thumbnail(&#39;kelvinism.com&#39;, &#39;Large&#39;)
u&#39;http://s3-external-1.amazonaws.com/alexa-thumbnails/A46FF6A30BECB0730455F2AB306EDC28605BC19Cl?Signature=XpsxgPey4b0JgreZA46XnvHVVLo%3D&amp;Expires=1181110547&amp;AWSAccessKeyId=1FVZ0JNEJDA5TK457CR2&#39;
</code></pre><p>And for a list:</p>
<pre tabindex="0"><code>\&gt;&gt;&gt; from ThumbnailUtility import \*
&gt;&gt;&gt; all\_sites = \[&#39;kelvinism.com&#39;, &#39;alexa.com&#39;, &#39;vpslink.com&#39;\]
&gt;&gt;&gt; create\_thumbnail\_list(all\_sites, &#39;Small&#39;)
\[u&#39;http://s3-external-1.amazonaws.com/alexa-thumbnails/A46FF6A30BECB0730455F2AB306EDC28605BC19Cs?Signature=%2BfcOUKwH4xD9IH9o1vfto%2FMoALU%3D&amp;Expires=1181110698&amp;AWSAccessKeyId=1FVZ0JNEJDA5TK457CR2&#39;, u&#39;http://s3-external-1.amazonaws.com/alexa-thumbnails/D798D8CE8F821FCC63159C92C85B70319E44D0EFs?Signature=6jriChrGM%2F8DoejN9dn9Dv3Lc5w%3D&amp;Expires=1181110698&amp;AWSAccessKeyId=1FVZ0JNEJDA5TK457CR2&#39;, u&#39;http://s3-external-1.amazonaws.com/alexa-thumbnails/23529C34E0518AA9C2577653AC237D3647BA8D2Ds?Signature=5ksuwZx0I5TqXWL3Kt%2BWP6r2LQk%3D&amp;Expires=1181110698&amp;AWSAccessKeyId=1FVZ0JNEJDA5TK457CR2&#39;\]
</code></pre><p>This is just a simple example to get your feet wet, maybe you&rsquo;ll find it useful. If you are wondering how to integrate this with Django, don&rsquo;t worry, I&rsquo;ve got you covered.</p>

  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Alexa Site Thumbnail with Python II" href="http://localhost:1313/2007/06/alexa-site-thumbnail-with-python-ii_629.html">Alexa Site Thumbnail with Python II </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-06 20:30:00.007 +1000 AEST'>Published on June 6, 2007</span>&nbsp;·&nbsp;3 min

</div>
  </header>

  <div class="entry-content">
    <p>This is how I actually use Alexa Site Thumbnail, and since I&rsquo;min a sharing mood, I&rsquo;ll extend the code your way. In short, this takes the url and searches in STORELOC first, then any urls not already in STORELOC are retrieved and named via a slug. You need to pass two variables to either of these: blog_site.url and blot_site.slug &ndash; since I&rsquo;m using Django, this is naturally how sites are returned after I filter a queryset. What I do is place the call to Alexa as high up the page as I can, and because I&rsquo;ve threaded this, the page can continue to load without waiting for Alexa&rsquo;s response. For instance, let&rsquo;s say you have some model with cool sites, and you want to return the sites filtered by owner&hellip;</p>
<h4 id="viewspy">views.py</h4>
<pre tabindex="0"><code>from getAST import create\_thumbnail\_list
blog\_sites = CoolSiteListing.objects.filter(owner\_\_username\_\_iexact=user\_name, is\_active=True)
create\_thumbnail\_list(blog\_sites).start()
</code></pre><p>Notice the .start() on the create_thumbnail_list function? That starts the thread.</p>
<h4 id="getastpy">getAST.py</h4>
<pre tabindex="0"><code>import base64
import datetime
import hmac
import sha
import sys
import re
import urllib
import xml.dom.minidom
import os
import threading

AWS\_ACCESS\_KEY\_ID = &#39;your-access-key-id&#39;
AWS\_SECRET\_ACCESS\_KEY = &#39;your-super-secret-key&#39;
STORELOC = &#34;/path/to/store/thumbs/&#34;

# This one is for an individual thumbnail...
class create\_thumbnail(threading.Thread):
   # Override Thread&#39;s \_\_init\_\_ method to accept the parameters needed:
    def \_\_init\_\_(self, site\_url, site\_slug):
        self.site\_url = site\_url
        self.site\_slug = site\_slug
        threading.Thread.\_\_init\_\_(self)
        
    def run(self):
        # First check if the thumbnail exists already
        # site\_slug is the name of thumbnail, for instance
        # I would generate the slug of my site as kelvinism\_com,
        # and the entire image would be kelvinism\_com.jpg 
        if not os.path.isfile(STORELOC+self.site\_slug+&#34;.jpg&#34;):
            def generate\_timestamp(dtime):
                return dtime.strftime(&#34;%Y-%m-%dT%H:%M:%SZ&#34;)
            def generate\_signature(operation, timestamp, secret\_access\_key):
                my\_sha\_hmac = hmac.new(secret\_access\_key, operation + timestamp, sha)
                my\_b64\_hmac\_digest = base64.encodestring(my\_sha\_hmac.digest()).strip()
                return my\_b64\_hmac\_digest
            timestamp\_datetime = datetime.datetime.utcnow()
            timestamp\_list = list(timestamp\_datetime.timetuple())
            timestamp\_list\[6\] = 0
            timestamp\_tuple = tuple(timestamp\_list)
            timestamp = generate\_timestamp(timestamp\_datetime)
            signature = generate\_signature(&#39;Thumbnail&#39;, timestamp, AWS\_SECRET\_ACCESS\_KEY)
            parameters = {
                &#39;AWSAccessKeyId&#39;: AWS\_ACCESS\_KEY\_ID,
                &#39;Timestamp&#39;: timestamp,
                &#39;Signature&#39;: signature,
                &#39;Url&#39;: self.site\_url,
                &#39;Action&#39;: &#39;Thumbnail&#39;,
                }
            url = &#39;http://ast.amazonaws.com/?&#39;
            result\_xmlstr = urllib.urlopen(url, urllib.urlencode(parameters)).read()
            result\_xml = xml.dom.minidom.parseString(result\_xmlstr)
            image\_urls = result\_xml.childNodes\[0\].getElementsByTagName(&#39;aws:Thumbnail&#39;)\[0\].firstChild.data
            #image\_name = re.sub(&#34;\\.|\\/&#34;, &#34;\_&#34;, result\_xml.childNodes\[0\].getElementsByTagName(&#39;aws:RequestUrl&#39;)\[0\].firstChild.data) + &#34;.jpg&#34;
            image\_name = self.site\_slug + &#34;.jpg&#34;
            store\_name = STORELOC + image\_name
            urllib.urlretrieve(image\_urls, store\_name)
            return image\_name
  
# And this one is for a list
class create\_thumbnail\_list(threading.Thread):
   # Override Thread&#39;s \_\_init\_\_ method to accept the parameters needed:
   def \_\_init\_\_(self, all\_sites):
      self.all\_sites = all\_sites
      threading.Thread.\_\_init\_\_(self)
   def run(self):     
        SITES = \[\]
        # go through the sites and only request the ones that don&#39;t
        # exist yet
        for s in self.all\_sites:
            if not os.path.isfile(STORELOC+s.slug+&#34;SM.jpg&#34;):
                SITES.append(s)
                       
        if SITES: 
            def generate\_timestamp(dtime):
                return dtime.strftime(&#34;%Y-%m-%dT%H:%M:%SZ&#34;)
            
            def generate\_signature(operation, timestamp, secret\_access\_key):
                my\_sha\_hmac = hmac.new(secret\_access\_key, operation + timestamp, sha)
                my\_b64\_hmac\_digest = base64.encodestring(my\_sha\_hmac.digest()).strip()
                return my\_b64\_hmac\_digest
            
            timestamp\_datetime = datetime.datetime.utcnow()
            timestamp\_list = list(timestamp\_datetime.timetuple())
            timestamp\_list\[6\] = 0
            timestamp\_tuple = tuple(timestamp\_list)
            timestamp = generate\_timestamp(timestamp\_datetime)
            
            signature = generate\_signature(&#39;Thumbnail&#39;, timestamp, AWS\_SECRET\_ACCESS\_KEY)
            
            image\_loc = {}
            image\_num = \[\]
            image\_size = {}
            
            count = 1   
            for s in SITES:
                image\_num = &#39;Thumbnail.%s.Url&#39; % count
                image\_loc\[image\_num\] = s.url
                count += 1
                
            parameters = {
                &#39;AWSAccessKeyId&#39;: AWS\_ACCESS\_KEY\_ID,
                &#39;Timestamp&#39;: timestamp,
                &#39;Signature&#39;: signature,
                &#39;Action&#39;: &#39;Thumbnail&#39;,
                &#39;Thumbnail.Shared.Size&#39;: &#39;Small&#39;,
                }
                
            parameters.update(image\_loc)
            
            ast\_url = &#39;http://ast.amazonaws.com/?&#39;
                
            result\_xmlstr = urllib.urlopen(ast\_url, urllib.urlencode(parameters)).read()
            result\_xml = xml.dom.minidom.parseString(result\_xmlstr)
    
            count = 0
            for s in SITES:
                image\_urls = result\_xml.childNodes\[0\].getElementsByTagName(&#39;aws:Thumbnail&#39;)\[count\].firstChild.data
                image\_name = s.slug + &#34;SM.jpg&#34;
                store\_name = STORELOC + image\_name
                urllib.urlretrieve(image\_urls, store\_name)
                count += 1
</code></pre>
  </div>

  
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="post-title entry-hint-parent">
      
      <a aria-label="post link to Adding Search to Django" href="http://localhost:1313/2007/06/adding-search-to-django_6300.html">Adding Search to Django </a>
      
      
    </h2>

    <div class="post-meta"><span title='2007-06-03 20:30:00.008 +1000 AEST'>Published on June 3, 2007</span>&nbsp;·&nbsp;2 min

</div>
  </header>

  <div class="entry-content">
    <p>This is fairly well documented in the Django docs, so I&rsquo;ll be brief. This is the the bit of search code I use in almost all of my Django sites, and it works great:</p>
<pre tabindex="0"><code>
def search(request):
    from django.db.models import Q
    q = request.GET.get(&#34;q&#34;, &#34;&#34;)
    if q and len(q) &gt;= 3:
        clause = Q(dirtword\_\_icontains=q)               \\
               | Q(description\_\_icontains=q)       \\
               | Q(tags\_\_name\_\_icontains=q)        
        site\_search = Dirt.objects.filter(clause).distinct()
    else:
        site\_search = Dirt.objects.order\_by(&#39;?&#39;)\[:100\]
    return list\_detail.object\_list(
        request              = request,
        queryset             = site\_search,
        template\_name        = &#34;dirty/search.html&#34;,
        template\_object\_name = &#34;dirty&#34;,
        paginate\_by          = 20,
        extra\_context        = {&#34;q&#34; : q},
    )  
</code></pre><p>While this should be pretty self-explanatory, the process goes like this: q is taken from the GET request and if it is over three characters long, it is searched for in the dirtword column, through the description and also through the m2m relationship of tags__name. Yup, it is pretty nifty to be able to access relationship in this way (tags__name). You will notice that at the end of each search it says &ldquo;__icontains&rdquo; &ndash; this simply does a fuzzy search for the word. Once the queryset is created (the filter) I&rsquo;ve added a .distinct() on the end &ndash;this prevents multiple rows from being returned to the template. If there isn&rsquo;t a search, or it isn&rsquo;t long enough, a random list will be returned.<br>
One thing I like to do is include the search as extra_context &ndash; this allows you to say something like &ldquo;you&rsquo;ve searched for&hellip;&rdquo; at the top of your search. I couldn&rsquo;t imagine implementing a search feature as being any easier.</p>

  </div>

  
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/page/12/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/page/14/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>

    </div>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Kelvin Nicholson</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
